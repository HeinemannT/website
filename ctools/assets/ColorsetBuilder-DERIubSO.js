import{k as me,e as _,o as xe,w as _e,l as S,Q as se,z as l,R as D,q as x,i as Fe,y as K,p as B,v as ee,x as te,B as P,F as ae,E as T,m as R,u as m,U as C,V as H,_ as Ee,G as $,Z as re}from"./core-vendor-rJyK4pSc.js";import{S as Ie,_ as Ve,a as Ue}from"./ScriptBuilder-B0ANh3C-.js";import{_ as ue,a as de}from"./BaseInput.vue_vue_type_script_setup_true_lang-B5M67uNm.js";import{C as Pe}from"./CodeOutputPanel-CKE55Law.js";import{u as Te}from"./index-B3_LPi4U.js";import{u as Y}from"./usePersistentState-CDZ61fLN.js";import{P as fe,r as Ne,W as Be,E as ne,g as $e,q as Le}from"./ui-vendor-BUCNl-D1.js";function X(e){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},X(e)}var De=/^\s+/,Ge=/\s+$/;function u(e,a){if(e=e||"",a=a||{},e instanceof u)return e;if(!(this instanceof u))return new u(e,a);var t=je(e);this._originalInput=e,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=a.format||t.format,this._gradientType=a.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(a.r*299+a.g*587+a.b*114)/1e3},getLuminance:function(){var a=this.toRgb(),t,r,o,n,f,d;return t=a.r/255,r=a.g/255,o=a.b/255,t<=.03928?n=t/12.92:n=Math.pow((t+.055)/1.055,2.4),r<=.03928?f=r/12.92:f=Math.pow((r+.055)/1.055,2.4),o<=.03928?d=o/12.92:d=Math.pow((o+.055)/1.055,2.4),.2126*n+.7152*f+.0722*d},setAlpha:function(a){return this._a=ye(a),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var a=he(this._r,this._g,this._b);return{h:a.h*360,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=he(this._r,this._g,this._b),t=Math.round(a.h*360),r=Math.round(a.s*100),o=Math.round(a.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+o+"%)":"hsva("+t+", "+r+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var a=ce(this._r,this._g,this._b);return{h:a.h*360,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=ce(this._r,this._g,this._b),t=Math.round(a.h*360),r=Math.round(a.s*100),o=Math.round(a.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+o+"%)":"hsla("+t+", "+r+"%, "+o+"%, "+this._roundA+")"},toHex:function(a){return ge(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){return We(this._r,this._g,this._b,this._a,a)},toHex8String:function(a){return"#"+this.toHex8(a)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(p(this._r,255)*100)+"%",g:Math.round(p(this._g,255)*100)+"%",b:Math.round(p(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(p(this._r,255)*100)+"%, "+Math.round(p(this._g,255)*100)+"%, "+Math.round(p(this._b,255)*100)+"%)":"rgba("+Math.round(p(this._r,255)*100)+"%, "+Math.round(p(this._g,255)*100)+"%, "+Math.round(p(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:st[ge(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var t="#"+be(this._r,this._g,this._b,this._a),r=t,o=this._gradientType?"GradientType = 1, ":"";if(a){var n=u(a);r="#"+be(n._r,n._g,n._b,n._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+r+")"},toString:function(a){var t=!!a;a=a||this._format;var r=!1,o=this._a<1&&this._a>=0,n=!t&&o&&(a==="hex"||a==="hex6"||a==="hex3"||a==="hex4"||a==="hex8"||a==="name");return n?a==="name"&&this._a===0?this.toName():this.toRgbString():(a==="rgb"&&(r=this.toRgbString()),a==="prgb"&&(r=this.toPercentageRgbString()),(a==="hex"||a==="hex6")&&(r=this.toHexString()),a==="hex3"&&(r=this.toHexString(!0)),a==="hex4"&&(r=this.toHex8String(!0)),a==="hex8"&&(r=this.toHex8String()),a==="name"&&(r=this.toName()),a==="hsl"&&(r=this.toHslString()),a==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(a,t){var r=a.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Qe,arguments)},brighten:function(){return this._applyModification(Je,arguments)},darken:function(){return this._applyModification(Ke,arguments)},desaturate:function(){return this._applyModification(Ye,arguments)},saturate:function(){return this._applyModification(Xe,arguments)},greyscale:function(){return this._applyModification(Ze,arguments)},spin:function(){return this._applyModification(et,arguments)},_applyCombination:function(a,t){return a.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(rt,arguments)},complement:function(){return this._applyCombination(tt,arguments)},monochromatic:function(){return this._applyCombination(nt,arguments)},splitcomplement:function(){return this._applyCombination(at,arguments)},triad:function(){return this._applyCombination(pe,[3])},tetrad:function(){return this._applyCombination(pe,[4])}};u.fromRatio=function(e,a){if(X(e)=="object"){var t={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?t[r]=e[r]:t[r]=j(e[r]));e=t}return u(e,a)};function je(e){var a={r:0,g:0,b:0},t=1,r=null,o=null,n=null,f=!1,d=!1;return typeof e=="string"&&(e=ut(e)),X(e)=="object"&&(U(e.r)&&U(e.g)&&U(e.b)?(a=ze(e.r,e.g,e.b),f=!0,d=String(e.r).substr(-1)==="%"?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=j(e.s),o=j(e.v),a=qe(e.h,r,o),f=!0,d="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=j(e.s),n=j(e.l),a=Oe(e.h,r,n),f=!0,d="hsl"),e.hasOwnProperty("a")&&(t=e.a)),t=ye(t),{ok:f,format:e.format||d,r:Math.min(255,Math.max(a.r,0)),g:Math.min(255,Math.max(a.g,0)),b:Math.min(255,Math.max(a.b,0)),a:t}}function ze(e,a,t){return{r:p(e,255)*255,g:p(a,255)*255,b:p(t,255)*255}}function ce(e,a,t){e=p(e,255),a=p(a,255),t=p(t,255);var r=Math.max(e,a,t),o=Math.min(e,a,t),n,f,d=(r+o)/2;if(r==o)n=f=0;else{var h=r-o;switch(f=d>.5?h/(2-r-o):h/(r+o),r){case e:n=(a-t)/h+(a<t?6:0);break;case a:n=(t-e)/h+2;break;case t:n=(e-a)/h+4;break}n/=6}return{h:n,s:f,l:d}}function Oe(e,a,t){var r,o,n;e=p(e,360),a=p(a,100),t=p(t,100);function f(b,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?b+(y-b)*6*v:v<1/2?y:v<2/3?b+(y-b)*(2/3-v)*6:b}if(a===0)r=o=n=t;else{var d=t<.5?t*(1+a):t+a-t*a,h=2*t-d;r=f(h,d,e+1/3),o=f(h,d,e),n=f(h,d,e-1/3)}return{r:r*255,g:o*255,b:n*255}}function he(e,a,t){e=p(e,255),a=p(a,255),t=p(t,255);var r=Math.max(e,a,t),o=Math.min(e,a,t),n,f,d=r,h=r-o;if(f=r===0?0:h/r,r==o)n=0;else{switch(r){case e:n=(a-t)/h+(a<t?6:0);break;case a:n=(t-e)/h+2;break;case t:n=(e-a)/h+4;break}n/=6}return{h:n,s:f,v:d}}function qe(e,a,t){e=p(e,360)*6,a=p(a,100),t=p(t,100);var r=Math.floor(e),o=e-r,n=t*(1-a),f=t*(1-o*a),d=t*(1-(1-o)*a),h=r%6,b=[t,f,n,n,d,t][h],y=[d,t,t,f,n,n][h],v=[n,n,d,t,t,f][h];return{r:b*255,g:y*255,b:v*255}}function ge(e,a,t,r){var o=[V(Math.round(e).toString(16)),V(Math.round(a).toString(16)),V(Math.round(t).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function We(e,a,t,r,o){var n=[V(Math.round(e).toString(16)),V(Math.round(a).toString(16)),V(Math.round(t).toString(16)),V(ke(r))];return o&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)&&n[3].charAt(0)==n[3].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0):n.join("")}function be(e,a,t,r){var o=[V(ke(r)),V(Math.round(e).toString(16)),V(Math.round(a).toString(16)),V(Math.round(t).toString(16))];return o.join("")}u.equals=function(e,a){return!e||!a?!1:u(e).toRgbString()==u(a).toRgbString()};u.random=function(){return u.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Ye(e,a){a=a===0?0:a||10;var t=u(e).toHsl();return t.s-=a/100,t.s=Z(t.s),u(t)}function Xe(e,a){a=a===0?0:a||10;var t=u(e).toHsl();return t.s+=a/100,t.s=Z(t.s),u(t)}function Ze(e){return u(e).desaturate(100)}function Qe(e,a){a=a===0?0:a||10;var t=u(e).toHsl();return t.l+=a/100,t.l=Z(t.l),u(t)}function Je(e,a){a=a===0?0:a||10;var t=u(e).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(a/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(a/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(a/100)))),u(t)}function Ke(e,a){a=a===0?0:a||10;var t=u(e).toHsl();return t.l-=a/100,t.l=Z(t.l),u(t)}function et(e,a){var t=u(e).toHsl(),r=(t.h+a)%360;return t.h=r<0?360+r:r,u(t)}function tt(e){var a=u(e).toHsl();return a.h=(a.h+180)%360,u(a)}function pe(e,a){if(isNaN(a)||a<=0)throw new Error("Argument to polyad must be a positive number");for(var t=u(e).toHsl(),r=[u(e)],o=360/a,n=1;n<a;n++)r.push(u({h:(t.h+n*o)%360,s:t.s,l:t.l}));return r}function at(e){var a=u(e).toHsl(),t=a.h;return[u(e),u({h:(t+72)%360,s:a.s,l:a.l}),u({h:(t+216)%360,s:a.s,l:a.l})]}function rt(e,a,t){a=a||6,t=t||30;var r=u(e).toHsl(),o=360/t,n=[u(e)];for(r.h=(r.h-(o*a>>1)+720)%360;--a;)r.h=(r.h+o)%360,n.push(u(r));return n}function nt(e,a){a=a||6;for(var t=u(e).toHsv(),r=t.h,o=t.s,n=t.v,f=[],d=1/a;a--;)f.push(u({h:r,s:o,v:n})),n=(n+d)%1;return f}u.mix=function(e,a,t){t=t===0?0:t||50;var r=u(e).toRgb(),o=u(a).toRgb(),n=t/100,f={r:(o.r-r.r)*n+r.r,g:(o.g-r.g)*n+r.g,b:(o.b-r.b)*n+r.b,a:(o.a-r.a)*n+r.a};return u(f)};u.readability=function(e,a){var t=u(e),r=u(a);return(Math.max(t.getLuminance(),r.getLuminance())+.05)/(Math.min(t.getLuminance(),r.getLuminance())+.05)};u.isReadable=function(e,a,t){var r=u.readability(e,a),o,n;switch(n=!1,o=dt(t),o.level+o.size){case"AAsmall":case"AAAlarge":n=r>=4.5;break;case"AAlarge":n=r>=3;break;case"AAAsmall":n=r>=7;break}return n};u.mostReadable=function(e,a,t){var r=null,o=0,n,f,d,h;t=t||{},f=t.includeFallbackColors,d=t.level,h=t.size;for(var b=0;b<a.length;b++)n=u.readability(e,a[b]),n>o&&(o=n,r=u(a[b]));return u.isReadable(e,r,{level:d,size:h})||!f?r:(t.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],t))};var oe=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},st=u.hexNames=ot(oe);function ot(e){var a={};for(var t in e)e.hasOwnProperty(t)&&(a[e[t]]=t);return a}function ye(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function p(e,a){lt(e)&&(e="100%");var t=it(e);return e=Math.min(a,Math.max(0,parseFloat(e))),t&&(e=parseInt(e*a,10)/100),Math.abs(e-a)<1e-6?1:e%a/parseFloat(a)}function Z(e){return Math.min(1,Math.max(0,e))}function F(e){return parseInt(e,16)}function lt(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function it(e){return typeof e=="string"&&e.indexOf("%")!=-1}function V(e){return e.length==1?"0"+e:""+e}function j(e){return e<=1&&(e=e*100+"%"),e}function ke(e){return Math.round(parseFloat(e)*255).toString(16)}function ve(e){return F(e)/255}var I=(function(){var e="[-\\+]?\\d+%?",a="[-\\+]?\\d*\\.\\d+%?",t="(?:"+a+")|(?:"+e+")",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",o="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function U(e){return!!I.CSS_UNIT.exec(e)}function ut(e){e=e.replace(De,"").replace(Ge,"").toLowerCase();var a=!1;if(oe[e])e=oe[e],a=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=I.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=I.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=I.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=I.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=I.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=I.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=I.hex8.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),a:ve(t[4]),format:a?"name":"hex8"}:(t=I.hex6.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),format:a?"name":"hex"}:(t=I.hex4.exec(e))?{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),a:ve(t[4]+""+t[4]),format:a?"name":"hex8"}:(t=I.hex3.exec(e))?{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),format:a?"name":"hex"}:!1}function dt(e){var a,t;return e=e||{level:"AA",size:"small"},a=(e.level||"AA").toUpperCase(),t=(e.size||"small").toLowerCase(),a!=="AA"&&a!=="AAA"&&(a="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:a,size:t}}const ft=me({__name:"ColorMatrix",props:{hue:{},saturation:{},value:{},hex:{}},emits:["update"],setup(e,{emit:a}){const t=e,r=a,o=_(null),n=_(null),f=_(!1),d=()=>{const g=o.value?.getContext("2d");if(!g||!o.value)return;const k=o.value.width,E=o.value.height;g.clearRect(0,0,k,E);const w=g.createLinearGradient(0,0,k,0);w.addColorStop(0,"#fff"),w.addColorStop(1,`hsl(${t.hue}, 100%, 50%)`),g.fillStyle=w,g.fillRect(0,0,k,E);const A=g.createLinearGradient(0,0,0,E);A.addColorStop(0,"rgba(0,0,0,0)"),A.addColorStop(1,"#000"),g.fillStyle=A,g.fillRect(0,0,k,E)},h=g=>{if(!n.value)return;const k=n.value.getBoundingClientRect();let E=g.clientX-k.left,w=g.clientY-k.top;E=Math.max(0,Math.min(E,k.width)),w=Math.max(0,Math.min(w,k.height));const A=E/k.width*100,G=100-w/k.height*100;r("update",A,G)},b=g=>{f.value=!0,h(g),window.addEventListener("mousemove",y),window.addEventListener("mouseup",v)},y=g=>{f.value&&h(g)},v=()=>{f.value=!1,window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",v)};return xe(()=>{o.value&&(o.value.width=300,o.value.height=300,d())}),_e(()=>t.hue,d),(g,k)=>(x(),S("div",{class:"flex-1 relative rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden cursor-crosshair shadow-sm",ref_key:"container",ref:n,onMousedown:se(b,["prevent"])},[l("canvas",{ref_key:"canvas",ref:o,class:"w-full h-full block"},null,512),l("div",{class:"absolute w-3 h-3 rounded-full border-2 border-white shadow-sm ring-1 ring-black/20 pointer-events-none -translate-x-1/2 -translate-y-1/2",style:D({left:`${e.saturation}%`,top:`${100-e.value}%`,backgroundColor:e.hex})},null,4)],544))}}),ct=e=>{const t=u(e).toHsl(),r=[];return[50,100,200,300,400,500,600,700,800,900].forEach(n=>{let f=t.l,d=t.s;if(n<500){const b=(500-n)/450;f=Math.min(1,f+b*(1-f)*.9),d=Math.max(0,d-b*.1)}else if(n>500){const b=(n-500)/400;f=Math.max(0,f-b*f*.8),d=Math.min(1,d+b*.1)}const h=u({h:t.h,s:d,l:f}).toHexString().toUpperCase();r.push({name:`Color ${n}`,hex:h})}),r},ht=e=>{const t=u(e).toHsl().h,r=[];for(let o=0;o<6;o++){const n=(t+o*60)%360,f=u({h:n,s:.4,l:.8}).toHexString().toUpperCase();r.push({name:`Pastel ${o+1}`,hex:f})}return r},gt=e=>{const a=[];for(let r=0;r<8;r++){const o=r/7,n=u.mix(e,"#000000",o*80).toHexString().toUpperCase();a.push({name:`Shade ${r+1}`,hex:n})}return a},bt=(e,a,t)=>{const r=[];for(let o=0;o<t;o++){const n=o/(t-1),f=u.mix(e,a,n*100).toHexString().toUpperCase();r.push({name:`Step ${o+1}`,hex:f})}return r},pt={class:"flex items-center gap-4 w-full max-w-md"},vt={class:"flex-1"},mt={class:"flex items-center gap-2 shrink-0"},xt={class:"flex-1 overflow-y-auto p-6"},_t={class:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4"},yt=["onClick"],kt=["onClick"],wt=["onUpdate:modelValue"],Mt={class:"block text-[10px] font-mono text-slate-400 uppercase"},St={class:"flex border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900"},Ct=["onClick"],At={key:0,class:"h-full flex flex-col"},Ht={key:0,class:"flex-1 flex flex-col items-center justify-center text-slate-400"},Rt={key:1,class:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300"},Ft={class:"flex gap-4 h-64 mb-6 select-none"},Et={class:"space-y-2 mb-6"},It={class:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-wider"},Vt={class:"space-y-2 mb-6"},Ut={class:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-wider"},Pt={class:"flex gap-4"},Tt={class:"flex-1 space-y-4"},Nt={class:"flex items-center gap-2"},Bt={class:"flex gap-2 text-xs font-mono"},$t={class:"flex-1 bg-slate-50 dark:bg-slate-900 rounded px-2 py-1 border border-slate-200 dark:border-slate-700"},Lt={class:"flex-1 bg-slate-50 dark:bg-slate-900 rounded px-2 py-1 border border-slate-200 dark:border-slate-700"},Dt={class:"flex-1 bg-slate-50 dark:bg-slate-900 rounded px-2 py-1 border border-slate-200 dark:border-slate-700"},Gt={class:"pt-4 border-t border-slate-200 dark:border-slate-700"},jt={key:1,class:"space-y-6"},zt={class:"space-y-3"},Ot={key:0,class:"p-3 bg-slate-100 dark:bg-slate-800 rounded-lg flex items-center gap-3"},qt={class:"text-xs font-bold"},Wt={key:1,class:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 space-y-4"},Yt={class:"flex items-center gap-4"},Xt={class:"flex justify-between text-[10px] font-bold text-slate-500 mb-1"},Zt={key:2,class:"text-center py-8 text-slate-400 text-xs italic"},Qt={key:3,class:"space-y-4"},Jt={class:"space-y-2"},Kt={class:"flex-1"},ea={class:"text-xs font-bold"},ta={class:"text-[10px] font-mono text-slate-400"},aa={key:2,class:"space-y-6"},ra={class:"pt-6 border-t border-slate-200 dark:border-slate-700 space-y-3"},na={class:"grid grid-cols-1 gap-2"},sa={href:"https://coolors.co/",target:"_blank",class:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition-colors text-xs font-bold text-slate-600 dark:text-slate-300"},oa={href:"https://color.adobe.com/create/color-wheel",target:"_blank",class:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition-colors text-xs font-bold text-slate-600 dark:text-slate-300"},la={href:"https://colorhunt.co/",target:"_blank",class:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition-colors text-xs font-bold text-slate-600 dark:text-slate-300"},ia={key:3,class:"h-full flex flex-col"},ua={class:"w-40"},va=me({__name:"ColorsetBuilder",setup(e){const{add:a}=Te(),t=Y("colorset:rootParentId","dashboards_colors_folder"),r=Y("colorset:setName","New Palette"),o=Y("colorset:setId",""),n=Y("colorset:palette",[{id:"",name:"Red",hex:"#EF4444"},{id:"",name:"Yellow",hex:"#EAB308"},{id:"",name:"Green",hex:"#22C55E"}]),f=_("studio"),d=_(-1),h=_("#EF4444"),b=_(0),y=_(100),v=_(100),g=_({r:239,g:68,b:68}),k=_(null),E=_(!1),w=_("scale"),A=_([]),G=_("#EF4444"),Q=_("#3B82F6"),z=_(5);_e(d,c=>{if(c!==-1){const s=n.value[c];s&&(le(s.hex),L())}});const le=c=>{h.value=c;const s=u(c),i=s.toHsv();b.value=i.h,y.value=i.s*100,v.value=i.v*100;const M=s.toRgb();g.value={r:M.r,g:M.g,b:M.b}},we=c=>{c.length===7&&(le(c),q())},O=()=>{const c=u({h:b.value,s:y.value/100,v:v.value/100}),s=c.toHexString().toUpperCase();h.value=s;const i=c.toRgb();g.value={r:i.r,g:i.g,b:i.b},q()},J=()=>{const c=u({r:g.value.r,g:g.value.g,b:g.value.b}),s=c.toHexString().toUpperCase();h.value=s;const i=c.toHsv();b.value=i.h,y.value=i.s*100,v.value=i.v*100,q()},Me=(c,s)=>{y.value=c,v.value=s,O()},ie=c=>{if(!k.value)return;const s=k.value.getBoundingClientRect(),i=Math.max(0,Math.min(c.clientY-s.top,s.height));b.value=i/s.height*360,O()};xe(()=>{window.addEventListener("mousemove",c=>{E.value&&ie(c)}),window.addEventListener("mouseup",()=>{E.value=!1})});const q=()=>{if(d.value===-1)return;const c=n.value[d.value];if(!c)return;(c.name.startsWith("#")||c.name===c.hex)&&(c.name=h.value);const s=h.value.replace("#","");c.id=`color_${s}`,c.hex=h.value,L()},Se=()=>{n.value.push({id:"",name:"Color Name",hex:"#64748B"}),d.value=n.value.length-1,f.value="studio"},Ce=c=>{n.value.splice(c,1),d.value===c?d.value=-1:d.value>c&&d.value--},L=()=>{if(f.value!=="generate")return;if(A.value=[],w.value==="interpolate"){const i=bt(G.value,Q.value,z.value);A.value=i;return}const c=n.value[d.value];if(d.value===-1||!c)return;const s=c.hex;w.value==="scale"?A.value=ct(s):w.value==="pastel"?A.value=ht(s):w.value==="shades"&&(A.value=gt(s))},Ae=()=>{A.value.forEach(c=>{n.value.push({id:"color_"+c.hex.replace("#","").toLowerCase(),name:c.name,hex:c.hex})}),a(`Added ${A.value.length} generated colors`,"success"),f.value="studio"},He=Fe(()=>{const c=t.value||"t",s=new Ie(`Set: ${r.value}`);return s.createObjectVar("targetFolder",c,"Folder",{id:o.value,name:r.value}),s.addNewLine(),n.value.forEach(i=>{s.createObject("targetFolder","Color",{id:i.id,name:i.name,color:i.hex})}),s.toString()}),W=_(""),Re=()=>{const c=W.value.split(`
`);let s=0;c.forEach(i=>{const M=i.match(/#[a-fA-F0-9]{6}/);if(M&&M[0]){const N=M[0].toUpperCase();n.value.push({id:"color_"+N.replace("#","").toLowerCase(),name:N,hex:N}),s++}}),a(`Imported ${s} colors`,"info"),W.value="",f.value="studio"};return(c,s)=>(x(),K(Ue,{sidebarClass:"lg:w-[45%]"},{main:B(()=>[R(Ve,{title:"Colorset Builder",icon:m(fe),"icon-color":"text-rose-600 dark:text-rose-400"},{center:B(()=>[l("div",pt,[l("div",vt,[C(l("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>re(r)?r.value=i:null),class:"w-full bg-transparent border-b border-transparent hover:border-slate-300 focus:border-indigo-500 font-bold text-slate-700 dark:text-slate-200 text-sm py-1 transition-colors outline-none placeholder-slate-400",placeholder:"Palette Name"},null,512),[[H,m(r)]])]),l("div",mt,[s[19]||(s[19]=l("span",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"ID",-1)),C(l("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>re(o)?o.value=i:null),class:"w-24 text-xs font-mono text-purple-600 dark:text-purple-400 bg-transparent border-b border-dashed border-slate-300 hover:border-slate-400 focus:border-indigo-500 focus:border-solid outline-none transition-colors py-1"},null,512),[[H,m(o)]])])])]),actions:B(()=>[l("button",{onClick:Se,class:"flex items-center gap-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-4 py-2 rounded-full font-bold text-xs shadow-lg hover:scale-105 transition-transform"},[R(m($e),{class:"w-4 h-4"}),s[20]||(s[20]=$(" New Color ",-1))])]),_:1},8,["icon"]),l("div",xt,[l("div",_t,[(x(!0),S(ae,null,ee(m(n),(i,M)=>(x(),S("div",{key:M,onClick:N=>d.value=M,class:te([{"ring-2 ring-indigo-500 shadow-xl scale-[1.02]":d.value===M,"hover:scale-[1.01]":d.value!==M},"bg-white dark:bg-slate-800 rounded-xl p-3 border border-slate-200 dark:border-slate-700 cursor-pointer transition-all duration-200 group relative"])},[l("div",{style:D({backgroundColor:i.hex}),class:"h-20 rounded-lg shadow-inner mb-3 relative overflow-hidden"},[l("button",{onClick:se(N=>Ce(M),["stop"]),class:"absolute top-1 right-1 bg-black/50 text-white p-1 rounded opacity-0 group-hover:opacity-100 hover:bg-red-500 transition-all"},[R(m(Le),{class:"w-3 h-3"})],8,kt)],4),C(l("input",{"onUpdate:modelValue":N=>i.name=N,onClick:s[2]||(s[2]=se(()=>{},["stop"])),class:"w-full bg-transparent text-xs font-bold mb-1 border-none p-0 focus:ring-0"},null,8,wt),[[H,i.name]]),l("span",Mt,P(i.hex),1)],10,yt))),128))])])]),sidebar:B(()=>[l("div",St,[(x(),S(ae,null,ee(["studio","generate","import","script"],i=>l("button",{key:i,onClick:M=>f.value=i,class:te([f.value===i?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-slate-400 hover:text-slate-600","flex-1 py-3 text-[10px] font-bold uppercase tracking-wider border-b-2 transition-colors"])},P(i),11,Ct)),64))]),l("div",{class:te(["flex-1 overflow-y-auto relative",f.value==="script"?"":"p-6"])},[f.value==="studio"?(x(),S("div",At,[d.value===-1?(x(),S("div",Ht,[R(m(fe),{class:"w-12 h-12 mb-4 opacity-50"}),s[21]||(s[21]=l("p",{class:"text-xs uppercase font-bold tracking-widest"},"Select a color to edit",-1))])):(x(),S("div",Rt,[l("div",Ft,[R(ft,{hue:b.value,saturation:y.value,value:v.value,hex:h.value,onUpdate:Me},null,8,["hue","saturation","value","hex"]),l("div",{class:"w-8 relative rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden cursor-ns-resize",ref_key:"hueContainer",ref:k,onMousedown:s[3]||(s[3]=i=>{E.value=!0,i.preventDefault(),ie(i)}),style:{background:"linear-gradient(to bottom, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)"}},[l("div",{class:"absolute left-0 right-0 h-1.5 bg-white border border-slate-400 rounded-sm shadow-sm pointer-events-none -translate-y-1/2",style:D({top:`${b.value/360*100}%`})},null,4)],544)]),l("div",Et,[l("div",It,[l("span",null,"Saturation ("+P(Math.round(y.value))+"%)",1)]),C(l("input",{type:"range","onUpdate:modelValue":s[4]||(s[4]=i=>y.value=i),min:"0",max:"100",onInput:O,class:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"},null,544),[[H,y.value,void 0,{number:!0}]])]),l("div",Vt,[l("div",Ut,[l("span",null,"Brightness ("+P(Math.round(v.value))+"%)",1)]),C(l("input",{type:"range","onUpdate:modelValue":s[5]||(s[5]=i=>v.value=i),min:"0",max:"100",onInput:O,class:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"},null,544),[[H,v.value,void 0,{number:!0}]])]),l("div",Pt,[l("div",{class:"w-20 h-20 rounded-xl shadow-lg border border-slate-200 dark:border-slate-600 shrink-0",style:D({backgroundColor:h.value})},null,4),l("div",Tt,[l("div",Nt,[C(l("input",{"onUpdate:modelValue":s[6]||(s[6]=i=>h.value=i),onInput:s[7]||(s[7]=i=>we(i.target.value)),class:"text-3xl font-mono font-medium bg-transparent border-b border-slate-300 dark:border-slate-600 w-full focus:outline-none focus:border-indigo-500 uppercase",maxlength:"7"},null,544),[[H,h.value]])]),l("div",Bt,[l("div",$t,[s[22]||(s[22]=l("label",{class:"block text-[10px] font-bold text-slate-400"},"R",-1)),C(l("input",{"onUpdate:modelValue":s[8]||(s[8]=i=>g.value.r=i),onInput:J,class:"w-full bg-transparent border-none p-0 focus:ring-0",type:"number",min:"0",max:"255"},null,544),[[H,g.value.r,void 0,{number:!0}]])]),l("div",Lt,[s[23]||(s[23]=l("label",{class:"block text-[10px] font-bold text-slate-400"},"G",-1)),C(l("input",{"onUpdate:modelValue":s[9]||(s[9]=i=>g.value.g=i),onInput:J,class:"w-full bg-transparent border-none p-0 focus:ring-0",type:"number",min:"0",max:"255"},null,544),[[H,g.value.g,void 0,{number:!0}]])]),l("div",Dt,[s[24]||(s[24]=l("label",{class:"block text-[10px] font-bold text-slate-400"},"B",-1)),C(l("input",{"onUpdate:modelValue":s[10]||(s[10]=i=>g.value.b=i),onInput:J,class:"w-full bg-transparent border-none p-0 focus:ring-0",type:"number",min:"0",max:"255"},null,544),[[H,g.value.b,void 0,{number:!0}]])])])])]),l("div",Gt,[s[25]||(s[25]=l("label",{class:"text-[10px] uppercase font-bold text-slate-400 block mb-2"},"Metadata",-1)),m(n)[d.value]?(x(),K(ue,{key:0,label:"Name",modelValue:m(n)[d.value].name,"onUpdate:modelValue":s[11]||(s[11]=i=>m(n)[d.value].name=i),onChange:q,class:"mb-3"},null,8,["modelValue"])):T("",!0),m(n)[d.value]?(x(),K(ue,{key:1,label:"ID",modelValue:m(n)[d.value].id,"onUpdate:modelValue":s[12]||(s[12]=i=>m(n)[d.value].id=i),mono:""},null,8,["modelValue"])):T("",!0)])]))])):T("",!0),f.value==="generate"?(x(),S("div",jt,[l("div",zt,[s[27]||(s[27]=l("label",{class:"text-[10px] uppercase font-bold text-slate-400 tracking-wider"},"Strategy",-1)),C(l("select",{"onUpdate:modelValue":s[13]||(s[13]=i=>w.value=i),onChange:L,class:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"},[...s[26]||(s[26]=[l("option",{value:"scale"},"Material Scale (100-900)",-1),l("option",{value:"pastel"},"Pastel Variations",-1),l("option",{value:"shades"},"Deep Shades",-1),l("option",{value:"interpolate"},"Range Interpolation",-1)])],544),[[Ee,w.value]])]),d.value!==-1&&m(n)[d.value]?(x(),S("div",Ot,[l("div",{class:"w-10 h-10 rounded shadow-sm",style:D({backgroundColor:m(n)[d.value]?.hex})},null,4),l("div",null,[s[28]||(s[28]=l("span",{class:"text-[10px] uppercase font-bold text-slate-400"},"Base Color",-1)),l("div",qt,P(m(n)[d.value]?.name),1)])])):T("",!0),w.value==="interpolate"?(x(),S("div",Wt,[l("div",Yt,[C(l("input",{type:"color","onUpdate:modelValue":s[14]||(s[14]=i=>G.value=i),onInput:L,class:"h-8 w-8 rounded cursor-pointer border-none p-0"},null,544),[[H,G.value]]),R(m(Ne),{class:"w-4 h-4 text-slate-400"}),C(l("input",{type:"color","onUpdate:modelValue":s[15]||(s[15]=i=>Q.value=i),onInput:L,class:"h-8 w-8 rounded cursor-pointer border-none p-0"},null,544),[[H,Q.value]])]),l("div",null,[l("div",Xt,[s[29]||(s[29]=l("span",null,"Steps",-1)),s[30]||(s[30]=$()),l("span",null,P(z.value),1)]),C(l("input",{type:"range","onUpdate:modelValue":s[16]||(s[16]=i=>z.value=i),min:"3",max:"12",onInput:L,class:"w-full accent-indigo-500"},null,544),[[H,z.value,void 0,{number:!0}]])])])):T("",!0),d.value===-1&&w.value!=="interpolate"?(x(),S("div",Zt," Select a base color in the grid to generate variations. ")):(x(),S("div",Qt,[s[32]||(s[32]=l("div",{class:"flex justify-between items-center text-[10px] font-bold text-slate-400 uppercase"},[l("span",null,"Preview")],-1)),l("div",Jt,[(x(!0),S(ae,null,ee(A.value,(i,M)=>(x(),S("div",{key:M,class:"flex items-center gap-3 p-2 bg-slate-50 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700"},[l("div",{class:"w-8 h-8 rounded shadow-sm",style:D({backgroundColor:i.hex})},null,4),l("div",Kt,[l("div",ea,P(i.name),1),l("div",ta,P(i.hex),1)])]))),128))]),R(de,{class:"w-full",onClick:Ae},{default:B(()=>[R(m(Be),{class:"w-4 h-4 mr-2"}),s[31]||(s[31]=$(" Add Colors",-1))]),_:1})]))])):T("",!0),f.value==="import"?(x(),S("div",aa,[s[38]||(s[38]=l("p",{class:"text-xs text-slate-500"},"Paste text containing hex codes (e.g. from Coolors, Figma, CSS).",-1)),C(l("textarea",{"onUpdate:modelValue":s[17]||(s[17]=i=>W.value=i),class:"w-full h-48 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl p-4 font-mono text-xs focus:ring-2 focus:ring-indigo-500/20 outline-none resize-none",placeholder:`#FF0000
#00FF00
...`},null,512),[[H,W.value]]),R(de,{class:"w-full",onClick:Re},{default:B(()=>[...s[33]||(s[33]=[$("Import Found Colors",-1)])]),_:1}),l("div",ra,[s[37]||(s[37]=l("label",{class:"text-[10px] uppercase font-bold text-slate-400"},"External Tools",-1)),l("div",na,[l("a",sa,[s[34]||(s[34]=$(" Coolors.co ",-1)),R(m(ne),{class:"w-3 h-3"})]),l("a",oa,[s[35]||(s[35]=$(" Adobe Color ",-1)),R(m(ne),{class:"w-3 h-3"})]),l("a",la,[s[36]||(s[36]=$(" Color Hunt ",-1)),R(m(ne),{class:"w-3 h-3"})])])])])):T("",!0),f.value==="script"?(x(),S("div",ia,[R(Pe,{title:"Extended Code",code:He.value},{actions:B(()=>[l("div",ua,[C(l("input",{"onUpdate:modelValue":s[18]||(s[18]=i=>re(t)?t.value=i:null),placeholder:"Context Folder",class:"w-full text-xs border-b border-slate-200 dark:border-slate-700 bg-transparent focus:border-indigo-500 outline-none pb-1 placeholder-slate-400"},null,512),[[H,m(t)]])])]),_:1},8,["code"])])):T("",!0)],2)]),_:1}))}});export{va as default};
