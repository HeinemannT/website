(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function kr(t){const r=Object.create(null);for(const i of t.split(","))r[i]=1;return i=>i in r}const nn={},bl=[],Tr=()=>{},pl=()=>!1,Ls=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),dg=t=>t.startsWith("onUpdate:"),qt=Object.assign,pg=(t,r)=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)},u4=Object.prototype.hasOwnProperty,dn=(t,r)=>u4.call(t,r),it=Array.isArray,xl=t=>Vl(t)==="[object Map]",$s=t=>Vl(t)==="[object Set]",zb=t=>Vl(t)==="[object Date]",lR=t=>Vl(t)==="[object RegExp]",wt=t=>typeof t=="function",Pt=t=>typeof t=="string",li=t=>typeof t=="symbol",hn=t=>t!==null&&typeof t=="object",hg=t=>(hn(t)||wt(t))&&wt(t.then)&&wt(t.catch),Ix=Object.prototype.toString,Vl=t=>Ix.call(t),cR=t=>Vl(t).slice(8,-1),Od=t=>Vl(t)==="[object Object]",Md=t=>Pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xa=kr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uR=kr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),mg=t=>{const r=Object.create(null);return(i=>r[i]||(r[i]=t(i)))},f4=/-\w/g,kn=mg(t=>t.replace(f4,r=>r.slice(1).toUpperCase())),d4=/\B([A-Z])/g,Kr=mg(t=>t.replace(d4,"-$1").toLowerCase()),Bs=mg(t=>t.charAt(0).toUpperCase()+t.slice(1)),_l=mg(t=>t?`on${Bs(t)}`:""),Gr=(t,r)=>!Object.is(t,r),El=(t,...r)=>{for(let i=0;i<t.length;i++)t[i](...r)},Lx=(t,r,i,s=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:s,value:i})},Dd=t=>{const r=parseFloat(t);return isNaN(r)?t:r},od=t=>{const r=Pt(t)?Number(t):NaN;return isNaN(r)?t:r};let RT;const Id=()=>RT||(RT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),p4=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function h4(t){return p4.test(t)?`__props.${t}`:`__props[${JSON.stringify(t)}]`}function m4(t,r){return t+JSON.stringify(r,(i,s)=>typeof s=="function"?s.toString():s)}const g4={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},v4={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},y4={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},b4={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},x4={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},_4="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",$x=kr(_4),E4=$x,PT=2;function fR(t,r=0,i=t.length){if(r=Math.max(0,Math.min(r,t.length)),i=Math.max(0,Math.min(i,t.length)),r>i)return"";let s=t.split(/(\r?\n)/);const c=s.filter((g,y)=>y%2===1);s=s.filter((g,y)=>y%2===0);let d=0;const f=[];for(let g=0;g<s.length;g++)if(d+=s[g].length+(c[g]&&c[g].length||0),d>=r){for(let y=g-PT;y<=g+PT||i>d;y++){if(y<0||y>=s.length)continue;const b=y+1;f.push(`${b}${" ".repeat(Math.max(3-String(b).length,0))}|  ${s[y]}`);const E=s[y].length,w=c[y]&&c[y].length||0;if(y===g){const C=r-(d-(E+w)),T=Math.max(1,i>d?E-C:i-r);f.push("   |  "+" ".repeat(C)+"^".repeat(T))}else if(y>g){if(i>d){const C=Math.max(Math.min(i-d,E),1);f.push("   |  "+"^".repeat(C))}d+=E+w}}break}return f.join(`
`)}function mr(t){if(it(t)){const r={};for(let i=0;i<t.length;i++){const s=t[i],c=Pt(s)?Bx(s):mr(s);if(c)for(const d in c)r[d]=c[d]}return r}else if(Pt(t)||hn(t))return t}const w4=/;(?![^(]*\))/g,S4=/:([^]+)/,C4=/\/\*[^]*?\*\//g;function Bx(t){const r={};return t.replace(C4,"").split(w4).forEach(i=>{if(i){const s=i.split(S4);s.length>1&&(r[s[0].trim()]=s[1].trim())}}),r}function T4(t){if(!t)return"";if(Pt(t))return t;let r="";for(const i in t){const s=t[i];if(Pt(s)||typeof s=="number"){const c=i.startsWith("--")?i:Kr(i);r+=`${c}:${s};`}}return r}function Tt(t){let r="";if(Pt(t))r=t;else if(it(t))for(let i=0;i<t.length;i++){const s=Tt(t[i]);s&&(r+=s+" ")}else if(hn(t))for(const i in t)t[i]&&(r+=i+" ");return r.trim()}function dR(t){if(!t)return null;let{class:r,style:i}=t;return r&&!Pt(r)&&(t.class=Tt(r)),i&&(t.style=mr(i)),t}const k4="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",A4="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",R4="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",P4="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",pR=kr(k4),hR=kr(A4),mR=kr(R4),gR=kr(P4),vR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yR=kr(vR),N4=kr(vR+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function Fx(t){return!!t||t===""}const O4=/[>/="'\u0009\u000a\u000c\u0020]/,Q0={};function M4(t){if(Q0.hasOwnProperty(t))return Q0[t];const r=O4.test(t);return r&&console.error(`unsafe attribute name: ${t}`),Q0[t]=!r}const D4={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},I4=kr("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),L4=kr("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),$4=kr("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function B4(t){if(t==null)return!1;const r=typeof t;return r==="string"||r==="number"||r==="boolean"}const F4=/["'&<>]/;function j4(t){const r=""+t,i=F4.exec(r);if(!i)return r;let s="",c,d,f=0;for(d=i.index;d<r.length;d++){switch(r.charCodeAt(d)){case 34:c="&quot;";break;case 38:c="&amp;";break;case 39:c="&#39;";break;case 60:c="&lt;";break;case 62:c="&gt;";break;default:continue}f!==d&&(s+=r.slice(f,d)),f=d+1,s+=c}return f!==d?s+r.slice(f,d):s}const V4=/^-?>|<!--|-->|--!>|<!-$/g;function H4(t){return t.replace(V4,"")}const bR=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function U4(t,r){return t.replace(bR,i=>r?i==='"'?'\\\\\\"':`\\\\${i}`:`\\${i}`)}function z4(t,r){if(t.length!==r.length)return!1;let i=!0;for(let s=0;i&&s<t.length;s++)i=ka(t[s],r[s]);return i}function ka(t,r){if(t===r)return!0;let i=zb(t),s=zb(r);if(i||s)return i&&s?t.getTime()===r.getTime():!1;if(i=li(t),s=li(r),i||s)return t===r;if(i=it(t),s=it(r),i||s)return i&&s?z4(t,r):!1;if(i=hn(t),s=hn(r),i||s){if(!i||!s)return!1;const c=Object.keys(t).length,d=Object.keys(r).length;if(c!==d)return!1;for(const f in t){const g=t.hasOwnProperty(f),y=r.hasOwnProperty(f);if(g&&!y||!g&&y||!ka(t[f],r[f]))return!1}}return String(t)===String(r)}function Ld(t,r){return t.findIndex(i=>ka(i,r))}const xR=t=>!!(t&&t.__v_isRef===!0),pn=t=>Pt(t)?t:t==null?"":it(t)||hn(t)&&(t.toString===Ix||!wt(t.toString))?xR(t)?pn(t.value):JSON.stringify(t,_R,2):String(t),_R=(t,r)=>xR(r)?_R(t,r.value):xl(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((i,[s,c],d)=>(i[q0(s,d)+" =>"]=c,i),{})}:$s(r)?{[`Set(${r.size})`]:[...r.values()].map(i=>q0(i))}:li(r)?q0(r):hn(r)&&!it(r)&&!Od(r)?String(r):r,q0=(t,r="")=>{var i;return li(t)?`Symbol(${(i=t.description)!=null?i:r})`:t};function ER(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}const G4=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:bl,EMPTY_OBJ:nn,NO:pl,NOOP:Tr,PatchFlagNames:v4,PatchFlags:g4,ShapeFlags:y4,SlotFlags:b4,camelize:kn,capitalize:Bs,cssVarNameEscapeSymbolsRE:bR,def:Lx,escapeHtml:j4,escapeHtmlComment:H4,extend:qt,genCacheKey:m4,genPropsAccessExp:h4,generateCodeFrame:fR,getEscapedCssVarName:U4,getGlobalThis:Id,hasChanged:Gr,hasOwn:dn,hyphenate:Kr,includeBooleanAttr:Fx,invokeArrayFns:El,isArray:it,isBooleanAttr:N4,isBuiltInDirective:uR,isDate:zb,isFunction:wt,isGloballyAllowed:$x,isGloballyWhitelisted:E4,isHTMLTag:pR,isIntegerKey:Md,isKnownHtmlAttr:I4,isKnownMathMLAttr:$4,isKnownSvgAttr:L4,isMap:xl,isMathMLTag:mR,isModelListener:dg,isObject:hn,isOn:Ls,isPlainObject:Od,isPromise:hg,isRegExp:lR,isRenderableAttrValue:B4,isReservedProp:xa,isSSRSafeAttrName:M4,isSVGTag:hR,isSet:$s,isSpecialBooleanAttr:yR,isString:Pt,isSymbol:li,isVoidTag:gR,looseEqual:ka,looseIndexOf:Ld,looseToNumber:Dd,makeMap:kr,normalizeClass:Tt,normalizeCssVarValue:ER,normalizeProps:dR,normalizeStyle:mr,objectToString:Ix,parseStringStyle:Bx,propsToAttrMap:D4,remove:pg,slotFlagsText:x4,stringifyStyle:T4,toDisplayString:pn,toHandlerKey:_l,toNumber:od,toRawType:cR,toTypeString:Vl},Symbol.toStringTag,{value:"Module"}));let Ur;class jx{constructor(r=!1){this.detached=r,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ur,!r&&Ur&&(this.index=(Ur.scopes||(Ur.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].pause();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].resume();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].resume()}}run(r){if(this._active){const i=Ur;try{return Ur=this,r()}finally{Ur=i}}}on(){++this._on===1&&(this.prevScope=Ur,Ur=this)}off(){this._on>0&&--this._on===0&&(Ur=this.prevScope,this.prevScope=void 0)}stop(r){if(this._active){this._active=!1;let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(this.effects.length=0,i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0}}}function Vx(t){return new jx(t)}function gg(){return Ur}function Hx(t,r=!1){Ur&&Ur.cleanups.push(t)}let Cn;const eb=new WeakSet;class ad{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ur&&Ur.active&&Ur.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,eb.has(this)&&(eb.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||SR(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,NT(this),CR(this);const r=Cn,i=go;Cn=this,go=!0;try{return this.fn()}finally{TR(this),Cn=r,go=i,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)Gx(r);this.deps=this.depsTail=void 0,NT(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?eb.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gb(this)&&this.run()}get dirty(){return Gb(this)}}let wR=0,Hf,Uf;function SR(t,r=!1){if(t.flags|=8,r){t.next=Uf,Uf=t;return}t.next=Hf,Hf=t}function Ux(){wR++}function zx(){if(--wR>0)return;if(Uf){let r=Uf;for(Uf=void 0;r;){const i=r.next;r.next=void 0,r.flags&=-9,r=i}}let t;for(;Hf;){let r=Hf;for(Hf=void 0;r;){const i=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(s){t||(t=s)}r=i}}if(t)throw t}function CR(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function TR(t){let r,i=t.depsTail,s=i;for(;s;){const c=s.prevDep;s.version===-1?(s===i&&(i=c),Gx(s),W4(s)):r=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=c}t.deps=r,t.depsTail=i}function Gb(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(kR(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function kR(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===sd)||(t.globalVersion=sd,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Gb(t))))return;t.flags|=2;const r=t.dep,i=Cn,s=go;Cn=t,go=!0;try{CR(t);const c=t.fn(t._value);(r.version===0||Gr(c,t._value))&&(t.flags|=128,t._value=c,r.version++)}catch(c){throw r.version++,c}finally{Cn=i,go=s,TR(t),t.flags&=-3}}function Gx(t,r=!1){const{dep:i,prevSub:s,nextSub:c}=t;if(s&&(s.nextSub=c,t.prevSub=void 0),c&&(c.prevSub=s,t.nextSub=void 0),i.subs===t&&(i.subs=s,!s&&i.computed)){i.computed.flags&=-5;for(let d=i.computed.deps;d;d=d.nextDep)Gx(d,!0)}!r&&!--i.sc&&i.map&&i.map.delete(i.key)}function W4(t){const{prevDep:r,nextDep:i}=t;r&&(r.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=r,t.nextDep=void 0)}function K4(t,r){t.effect instanceof ad&&(t=t.effect.fn);const i=new ad(t);r&&qt(i,r);try{i.run()}catch(c){throw i.stop(),c}const s=i.run.bind(i);return s.effect=i,s}function X4(t){t.effect.stop()}let go=!0;const AR=[];function Aa(){AR.push(go),go=!1}function Ra(){const t=AR.pop();go=t===void 0?!0:t}function NT(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const i=Cn;Cn=void 0;try{r()}finally{Cn=i}}}let sd=0;class Y4{constructor(r,i){this.sub=r,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vg{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(r){if(!Cn||!go||Cn===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Cn)i=this.activeLink=new Y4(Cn,this),Cn.deps?(i.prevDep=Cn.depsTail,Cn.depsTail.nextDep=i,Cn.depsTail=i):Cn.deps=Cn.depsTail=i,RR(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const s=i.nextDep;s.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=s),i.prevDep=Cn.depsTail,i.nextDep=void 0,Cn.depsTail.nextDep=i,Cn.depsTail=i,Cn.deps===i&&(Cn.deps=s)}return i}trigger(r){this.version++,sd++,this.notify(r)}notify(r){Ux();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{zx()}}}function RR(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let s=r.deps;s;s=s.nextDep)RR(s)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const Im=new WeakMap,wl=Symbol(""),Wb=Symbol(""),ld=Symbol("");function Wr(t,r,i){if(go&&Cn){let s=Im.get(t);s||Im.set(t,s=new Map);let c=s.get(i);c||(s.set(i,c=new vg),c.map=s,c.key=i),c.track()}}function va(t,r,i,s,c,d){const f=Im.get(t);if(!f){sd++;return}const g=y=>{y&&y.trigger()};if(Ux(),r==="clear")f.forEach(g);else{const y=it(t),b=y&&Md(i);if(y&&i==="length"){const E=Number(s);f.forEach((w,C)=>{(C==="length"||C===ld||!li(C)&&C>=E)&&g(w)})}else switch((i!==void 0||f.has(void 0))&&g(f.get(i)),b&&g(f.get(ld)),r){case"add":y?b&&g(f.get("length")):(g(f.get(wl)),xl(t)&&g(f.get(Wb)));break;case"delete":y||(g(f.get(wl)),xl(t)&&g(f.get(Wb)));break;case"set":xl(t)&&g(f.get(wl));break}}zx()}function Z4(t,r){const i=Im.get(t);return i&&i.get(r)}function wc(t){const r=sn(t);return r===t?r:(Wr(r,"iterate",ld),_i(t)?r:r.map(yo))}function yg(t){return Wr(t=sn(t),"iterate",ld),t}function gs(t,r){return jo(t)?vo(t)?zc(yo(r)):zc(r):yo(r)}const J4={__proto__:null,[Symbol.iterator](){return tb(this,Symbol.iterator,t=>gs(this,t))},concat(...t){return wc(this).concat(...t.map(r=>it(r)?wc(r):r))},entries(){return tb(this,"entries",t=>(t[1]=gs(this,t[1]),t))},every(t,r){return sa(this,"every",t,r,void 0,arguments)},filter(t,r){return sa(this,"filter",t,r,i=>i.map(s=>gs(this,s)),arguments)},find(t,r){return sa(this,"find",t,r,i=>gs(this,i),arguments)},findIndex(t,r){return sa(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return sa(this,"findLast",t,r,i=>gs(this,i),arguments)},findLastIndex(t,r){return sa(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return sa(this,"forEach",t,r,void 0,arguments)},includes(...t){return nb(this,"includes",t)},indexOf(...t){return nb(this,"indexOf",t)},join(t){return wc(this).join(t)},lastIndexOf(...t){return nb(this,"lastIndexOf",t)},map(t,r){return sa(this,"map",t,r,void 0,arguments)},pop(){return wf(this,"pop")},push(...t){return wf(this,"push",t)},reduce(t,...r){return OT(this,"reduce",t,r)},reduceRight(t,...r){return OT(this,"reduceRight",t,r)},shift(){return wf(this,"shift")},some(t,r){return sa(this,"some",t,r,void 0,arguments)},splice(...t){return wf(this,"splice",t)},toReversed(){return wc(this).toReversed()},toSorted(t){return wc(this).toSorted(t)},toSpliced(...t){return wc(this).toSpliced(...t)},unshift(...t){return wf(this,"unshift",t)},values(){return tb(this,"values",t=>gs(this,t))}};function tb(t,r,i){const s=yg(t),c=s[r]();return s!==t&&!_i(t)&&(c._next=c.next,c.next=()=>{const d=c._next();return d.done||(d.value=i(d.value)),d}),c}const Q4=Array.prototype;function sa(t,r,i,s,c,d){const f=yg(t),g=f!==t&&!_i(t),y=f[r];if(y!==Q4[r]){const w=y.apply(t,d);return g?yo(w):w}let b=i;f!==t&&(g?b=function(w,C){return i.call(this,gs(t,w),C,t)}:i.length>2&&(b=function(w,C){return i.call(this,w,C,t)}));const E=y.call(f,b,s);return g&&c?c(E):E}function OT(t,r,i,s){const c=yg(t);let d=i;return c!==t&&(_i(t)?i.length>3&&(d=function(f,g,y){return i.call(this,f,g,y,t)}):d=function(f,g,y){return i.call(this,f,gs(t,g),y,t)}),c[r](d,...s)}function nb(t,r,i){const s=sn(t);Wr(s,"iterate",ld);const c=s[r](...i);return(c===-1||c===!1)&&$d(i[0])?(i[0]=sn(i[0]),s[r](...i)):c}function wf(t,r,i=[]){Aa(),Ux();const s=sn(t)[r].apply(t,i);return zx(),Ra(),s}const q4=kr("__proto__,__v_isRef,__isVue"),PR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(li));function e6(t){li(t)||(t=String(t));const r=sn(this);return Wr(r,"has",t),r.hasOwnProperty(t)}class NR{constructor(r=!1,i=!1){this._isReadonly=r,this._isShallow=i}get(r,i,s){if(i==="__v_skip")return r.__v_skip;const c=this._isReadonly,d=this._isShallow;if(i==="__v_isReactive")return!c;if(i==="__v_isReadonly")return c;if(i==="__v_isShallow")return d;if(i==="__v_raw")return s===(c?d?$R:LR:d?IR:DR).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(s)?r:void 0;const f=it(r);if(!c){let y;if(f&&(y=J4[i]))return y;if(i==="hasOwnProperty")return e6}const g=Reflect.get(r,i,jn(r)?r:s);if((li(i)?PR.has(i):q4(i))||(c||Wr(r,"get",i),d))return g;if(jn(g)){const y=f&&Md(i)?g:g.value;return c&&hn(y)?Uc(y):y}return hn(g)?c?Uc(g):au(g):g}}class OR extends NR{constructor(r=!1){super(!1,r)}set(r,i,s,c){let d=r[i];const f=it(r)&&Md(i);if(!this._isShallow){const b=jo(d);if(!_i(s)&&!jo(s)&&(d=sn(d),s=sn(s)),!f&&jn(d)&&!jn(s))return b||(d.value=s),!0}const g=f?Number(i)<r.length:dn(r,i),y=Reflect.set(r,i,s,jn(r)?r:c);return r===sn(c)&&(g?Gr(s,d)&&va(r,"set",i,s):va(r,"add",i,s)),y}deleteProperty(r,i){const s=dn(r,i);r[i];const c=Reflect.deleteProperty(r,i);return c&&s&&va(r,"delete",i,void 0),c}has(r,i){const s=Reflect.has(r,i);return(!li(i)||!PR.has(i))&&Wr(r,"has",i),s}ownKeys(r){return Wr(r,"iterate",it(r)?"length":wl),Reflect.ownKeys(r)}}class MR extends NR{constructor(r=!1){super(!0,r)}set(r,i){return!0}deleteProperty(r,i){return!0}}const t6=new OR,n6=new MR,r6=new OR(!0),i6=new MR(!0),Kb=t=>t,Gh=t=>Reflect.getPrototypeOf(t);function o6(t,r,i){return function(...s){const c=this.__v_raw,d=sn(c),f=xl(d),g=t==="entries"||t===Symbol.iterator&&f,y=t==="keys"&&f,b=c[t](...s),E=i?Kb:r?zc:yo;return!r&&Wr(d,"iterate",y?Wb:wl),{next(){const{value:w,done:C}=b.next();return C?{value:w,done:C}:{value:g?[E(w[0]),E(w[1])]:E(w),done:C}},[Symbol.iterator](){return this}}}}function Wh(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function a6(t,r){const i={get(c){const d=this.__v_raw,f=sn(d),g=sn(c);t||(Gr(c,g)&&Wr(f,"get",c),Wr(f,"get",g));const{has:y}=Gh(f),b=r?Kb:t?zc:yo;if(y.call(f,c))return b(d.get(c));if(y.call(f,g))return b(d.get(g));d!==f&&d.get(c)},get size(){const c=this.__v_raw;return!t&&Wr(sn(c),"iterate",wl),c.size},has(c){const d=this.__v_raw,f=sn(d),g=sn(c);return t||(Gr(c,g)&&Wr(f,"has",c),Wr(f,"has",g)),c===g?d.has(c):d.has(c)||d.has(g)},forEach(c,d){const f=this,g=f.__v_raw,y=sn(g),b=r?Kb:t?zc:yo;return!t&&Wr(y,"iterate",wl),g.forEach((E,w)=>c.call(d,b(E),b(w),f))}};return qt(i,t?{add:Wh("add"),set:Wh("set"),delete:Wh("delete"),clear:Wh("clear")}:{add(c){!r&&!_i(c)&&!jo(c)&&(c=sn(c));const d=sn(this);return Gh(d).has.call(d,c)||(d.add(c),va(d,"add",c,c)),this},set(c,d){!r&&!_i(d)&&!jo(d)&&(d=sn(d));const f=sn(this),{has:g,get:y}=Gh(f);let b=g.call(f,c);b||(c=sn(c),b=g.call(f,c));const E=y.call(f,c);return f.set(c,d),b?Gr(d,E)&&va(f,"set",c,d):va(f,"add",c,d),this},delete(c){const d=sn(this),{has:f,get:g}=Gh(d);let y=f.call(d,c);y||(c=sn(c),y=f.call(d,c)),g&&g.call(d,c);const b=d.delete(c);return y&&va(d,"delete",c,void 0),b},clear(){const c=sn(this),d=c.size!==0,f=c.clear();return d&&va(c,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(c=>{i[c]=o6(c,t,r)}),i}function bg(t,r){const i=a6(t,r);return(s,c,d)=>c==="__v_isReactive"?!t:c==="__v_isReadonly"?t:c==="__v_raw"?s:Reflect.get(dn(i,c)&&c in s?i:s,c,d)}const s6={get:bg(!1,!1)},l6={get:bg(!1,!0)},c6={get:bg(!0,!1)},u6={get:bg(!0,!0)},DR=new WeakMap,IR=new WeakMap,LR=new WeakMap,$R=new WeakMap;function f6(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function d6(t){return t.__v_skip||!Object.isExtensible(t)?0:f6(cR(t))}function au(t){return jo(t)?t:xg(t,!1,t6,s6,DR)}function Wx(t){return xg(t,!1,r6,l6,IR)}function Uc(t){return xg(t,!0,n6,c6,LR)}function BR(t){return xg(t,!0,i6,u6,$R)}function xg(t,r,i,s,c){if(!hn(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const d=d6(t);if(d===0)return t;const f=c.get(t);if(f)return f;const g=new Proxy(t,d===2?s:i);return c.set(t,g),g}function vo(t){return jo(t)?vo(t.__v_raw):!!(t&&t.__v_isReactive)}function jo(t){return!!(t&&t.__v_isReadonly)}function _i(t){return!!(t&&t.__v_isShallow)}function $d(t){return t?!!t.__v_raw:!1}function sn(t){const r=t&&t.__v_raw;return r?sn(r):t}function _g(t){return!dn(t,"__v_skip")&&Object.isExtensible(t)&&Lx(t,"__v_skip",!0),t}const yo=t=>hn(t)?au(t):t,zc=t=>hn(t)?Uc(t):t;function jn(t){return t?t.__v_isRef===!0:!1}function tt(t){return FR(t,!1)}function bo(t){return FR(t,!0)}function FR(t,r){return jn(t)?t:new p6(t,r)}class p6{constructor(r,i){this.dep=new vg,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?r:sn(r),this._value=i?r:yo(r),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(r){const i=this._rawValue,s=this.__v_isShallow||_i(r)||jo(r);r=s?r:sn(r),Gr(r,i)&&(this._rawValue=r,this._value=s?r:yo(r),this.dep.trigger())}}function h6(t){t.dep&&t.dep.trigger()}function He(t){return jn(t)?t.value:t}function Sl(t){return wt(t)?t():He(t)}const m6={get:(t,r,i)=>r==="__v_raw"?t:He(Reflect.get(t,r,i)),set:(t,r,i,s)=>{const c=t[r];return jn(c)&&!jn(i)?(c.value=i,!0):Reflect.set(t,r,i,s)}};function Kx(t){return vo(t)?t:new Proxy(t,m6)}class g6{constructor(r){this.__v_isRef=!0,this._value=void 0;const i=this.dep=new vg,{get:s,set:c}=r(i.track.bind(i),i.trigger.bind(i));this._get=s,this._set=c}get value(){return this._value=this._get()}set value(r){this._set(r)}}function jR(t){return new g6(t)}function VR(t){const r=it(t)?new Array(t.length):{};for(const i in t)r[i]=HR(t,i);return r}class v6{constructor(r,i,s){this._object=r,this._key=i,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=sn(r);let c=!0,d=r;if(!it(r)||!Md(String(i)))do c=!$d(d)||_i(d);while(c&&(d=d.__v_raw));this._shallow=c}get value(){let r=this._object[this._key];return this._shallow&&(r=He(r)),this._value=r===void 0?this._defaultValue:r}set value(r){if(this._shallow&&jn(this._raw[this._key])){const i=this._object[this._key];if(jn(i)){i.value=r;return}}this._object[this._key]=r}get dep(){return Z4(this._raw,this._key)}}class y6{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function b6(t,r,i){return jn(t)?t:wt(t)?new y6(t):hn(t)&&arguments.length>1?HR(t,r,i):tt(t)}function HR(t,r,i){return new v6(t,r,i)}class x6{constructor(r,i,s){this.fn=r,this.setter=i,this._value=void 0,this.dep=new vg(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=sd-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Cn!==this)return SR(this,!0),!0}get value(){const r=this.dep.track();return kR(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function _6(t,r,i=!1){let s,c;return wt(t)?s=t:(s=t.get,c=t.set),new x6(s,c,i)}const E6={GET:"get",HAS:"has",ITERATE:"iterate"},w6={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Kh={},Lm=new WeakMap;let vs;function S6(){return vs}function UR(t,r=!1,i=vs){if(i){let s=Lm.get(i);s||Lm.set(i,s=[]),s.push(t)}}function C6(t,r,i=nn){const{immediate:s,deep:c,once:d,scheduler:f,augmentJob:g,call:y}=i,b=A=>c?A:_i(A)||c===!1||c===0?ya(A,1):ya(A);let E,w,C,T,D=!1,$=!1;if(jn(t)?(w=()=>t.value,D=_i(t)):vo(t)?(w=()=>b(t),D=!0):it(t)?($=!0,D=t.some(A=>vo(A)||_i(A)),w=()=>t.map(A=>{if(jn(A))return A.value;if(vo(A))return b(A);if(wt(A))return y?y(A,2):A()})):wt(t)?r?w=y?()=>y(t,2):t:w=()=>{if(C){Aa();try{C()}finally{Ra()}}const A=vs;vs=E;try{return y?y(t,3,[T]):t(T)}finally{vs=A}}:w=Tr,r&&c){const A=w,z=c===!0?1/0:c;w=()=>ya(A(),z)}const H=gg(),N=()=>{E.stop(),H&&H.active&&pg(H.effects,E)};if(d&&r){const A=r;r=(...z)=>{A(...z),N()}}let L=$?new Array(t.length).fill(Kh):Kh;const M=A=>{if(!(!(E.flags&1)||!E.dirty&&!A))if(r){const z=E.run();if(c||D||($?z.some((Z,te)=>Gr(Z,L[te])):Gr(z,L))){C&&C();const Z=vs;vs=E;try{const te=[z,L===Kh?void 0:$&&L[0]===Kh?[]:L,T];L=z,y?y(r,3,te):r(...te)}finally{vs=Z}}}else E.run()};return g&&g(M),E=new ad(w),E.scheduler=f?()=>f(M,!1):M,T=A=>UR(A,!1,E),C=E.onStop=()=>{const A=Lm.get(E);if(A){if(y)y(A,4);else for(const z of A)z();Lm.delete(E)}},r?s?M(!0):L=E.run():f?f(M.bind(null,!0),!0):E.run(),N.pause=E.pause.bind(E),N.resume=E.resume.bind(E),N.stop=N,N}function ya(t,r=1/0,i){if(r<=0||!hn(t)||t.__v_skip||(i=i||new Map,(i.get(t)||0)>=r))return t;if(i.set(t,r),r--,jn(t))ya(t.value,r,i);else if(it(t))for(let s=0;s<t.length;s++)ya(t[s],r,i);else if($s(t)||xl(t))t.forEach(s=>{ya(s,r,i)});else if(Od(t)){for(const s in t)ya(t[s],r,i);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ya(t[s],r,i)}return t}const zR=[];function T6(t){zR.push(t)}function k6(){zR.pop()}function A6(t,r){}const R6={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},P6={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function su(t,r,i,s){try{return s?t(...s):t()}catch(c){Hl(c,r,i)}}function eo(t,r,i,s){if(wt(t)){const c=su(t,r,i,s);return c&&hg(c)&&c.catch(d=>{Hl(d,r,i)}),c}if(it(t)){const c=[];for(let d=0;d<t.length;d++)c.push(eo(t[d],r,i,s));return c}}function Hl(t,r,i,s=!0){const c=r?r.vnode:null,{errorHandler:d,throwUnhandledErrorInProduction:f}=r&&r.appContext.config||nn;if(r){let g=r.parent;const y=r.proxy,b=`https://vuejs.org/error-reference/#runtime-${i}`;for(;g;){const E=g.ec;if(E){for(let w=0;w<E.length;w++)if(E[w](t,y,b)===!1)return}g=g.parent}if(d){Aa(),su(d,null,10,[t,y,b]),Ra();return}}N6(t,i,c,s,f)}function N6(t,r,i,s=!0,c=!1){if(c)throw t;console.error(t)}const ii=[];let Mo=-1;const Bc=[];let ys=null,Oc=0;const GR=Promise.resolve();let $m=null;function _a(t){const r=$m||GR;return t?r.then(this?t.bind(this):t):r}function O6(t){let r=Mo+1,i=ii.length;for(;r<i;){const s=r+i>>>1,c=ii[s],d=ud(c);d<t||d===t&&c.flags&2?r=s+1:i=s}return r}function Xx(t){if(!(t.flags&1)){const r=ud(t),i=ii[ii.length-1];!i||!(t.flags&2)&&r>=ud(i)?ii.push(t):ii.splice(O6(r),0,t),t.flags|=1,WR()}}function WR(){$m||($m=GR.then(KR))}function cd(t){it(t)?Bc.push(...t):ys&&t.id===-1?ys.splice(Oc+1,0,t):t.flags&1||(Bc.push(t),t.flags|=1),WR()}function MT(t,r,i=Mo+1){for(;i<ii.length;i++){const s=ii[i];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;ii.splice(i,1),i--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Bm(t){if(Bc.length){const r=[...new Set(Bc)].sort((i,s)=>ud(i)-ud(s));if(Bc.length=0,ys){ys.push(...r);return}for(ys=r,Oc=0;Oc<ys.length;Oc++){const i=ys[Oc];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}ys=null,Oc=0}}const ud=t=>t.id==null?t.flags&2?-1:1/0:t.id;function KR(t){try{for(Mo=0;Mo<ii.length;Mo++){const r=ii[Mo];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),su(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Mo<ii.length;Mo++){const r=ii[Mo];r&&(r.flags&=-2)}Mo=-1,ii.length=0,Bm(),$m=null,(ii.length||Bc.length)&&KR()}}let Mc,Xh=[];function XR(t,r){var i,s;Mc=t,Mc?(Mc.enabled=!0,Xh.forEach(({event:c,args:d})=>Mc.emit(c,...d)),Xh=[]):typeof window<"u"&&window.HTMLElement&&!((s=(i=window.navigator)==null?void 0:i.userAgent)!=null&&s.includes("jsdom"))?((r.__VUE_DEVTOOLS_HOOK_REPLAY__=r.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{XR(d,r)}),setTimeout(()=>{Mc||(r.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Xh=[])},3e3)):Xh=[]}let Br=null,Eg=null;function fd(t){const r=Br;return Br=t,Eg=t&&t.type.__scopeId||null,r}function M6(t){Eg=t}function D6(){Eg=null}const I6=t=>Qt;function Qt(t,r=Br,i){if(!r||t._n)return t;const s=(...c)=>{s._d&&md(-1);const d=fd(r);let f;try{f=t(...c)}finally{fd(d),s._d&&md(1)}return f};return s._n=!0,s._c=!0,s._d=!0,s}function tn(t,r){if(Br===null)return t;const i=jd(Br),s=t.dirs||(t.dirs=[]);for(let c=0;c<r.length;c++){let[d,f,g,y=nn]=r[c];d&&(wt(d)&&(d={mounted:d,updated:d}),d.deep&&ya(f),s.push({dir:d,instance:i,value:f,oldValue:void 0,arg:g,modifiers:y}))}return t}function Do(t,r,i,s){const c=t.dirs,d=r&&r.dirs;for(let f=0;f<c.length;f++){const g=c[f];d&&(g.oldValue=d[f].value);let y=g.dir[s];y&&(Aa(),eo(y,i,8,[t.el,g,t,r]),Ra())}}function zf(t,r){if($r){let i=$r.provides;const s=$r.parent&&$r.parent.provides;s===i&&(i=$r.provides=Object.create(s)),i[t]=r}}function Di(t,r,i=!1){const s=ci();if(s||Cl){let c=Cl?Cl._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(c&&t in c)return c[t];if(arguments.length>1)return i&&wt(r)?r.call(s&&s.proxy):r}}function YR(){return!!(ci()||Cl)}const ZR=Symbol.for("v-scx"),JR=()=>Di(ZR);function L6(t,r){return Bd(t,null,r)}function $6(t,r){return Bd(t,null,{flush:"post"})}function QR(t,r){return Bd(t,null,{flush:"sync"})}function Ei(t,r,i){return Bd(t,r,i)}function Bd(t,r,i=nn){const{immediate:s,deep:c,flush:d,once:f}=i,g=qt({},i),y=r&&s||!r&&d!=="post";let b;if(Wc){if(d==="sync"){const T=JR();b=T.__watcherHandles||(T.__watcherHandles=[])}else if(!y){const T=()=>{};return T.stop=Tr,T.resume=Tr,T.pause=Tr,T}}const E=$r;g.call=(T,D,$)=>eo(T,E,D,$);let w=!1;d==="post"?g.scheduler=T=>{pr(T,E&&E.suspense)}:d!=="sync"&&(w=!0,g.scheduler=(T,D)=>{D?T():Xx(T)}),g.augmentJob=T=>{r&&(T.flags|=4),w&&(T.flags|=2,E&&(T.id=E.uid,T.i=E))};const C=C6(t,r,g);return Wc&&(b?b.push(C):y&&C()),C}function B6(t,r,i){const s=this.proxy,c=Pt(t)?t.includes(".")?qR(s,t):()=>s[t]:t.bind(s,s);let d;wt(r)?d=r:(d=r.handler,i=r);const f=Ol(this),g=Bd(c,d.bind(s),i);return f(),g}function qR(t,r){const i=r.split(".");return()=>{let s=t;for(let c=0;c<i.length&&s;c++)s=s[i[c]];return s}}const eP=Symbol("_vte"),tP=t=>t.__isTeleport,Gf=t=>t&&(t.disabled||t.disabled===""),DT=t=>t&&(t.defer||t.defer===""),IT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,LT=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Xb=(t,r)=>{const i=t&&t.to;return Pt(i)?r?r(i):null:i},nP={name:"Teleport",__isTeleport:!0,process(t,r,i,s,c,d,f,g,y,b){const{mc:E,pc:w,pbc:C,o:{insert:T,querySelector:D,createText:$,createComment:H}}=b,N=Gf(r.props);let{shapeFlag:L,children:M,dynamicChildren:A}=r;if(t==null){const z=r.el=$(""),Z=r.anchor=$("");T(z,i,s),T(Z,i,s);const te=(W,Q)=>{L&16&&E(M,W,Q,c,d,f,g,y)},ee=()=>{const W=r.target=Xb(r.props,D),Q=rP(W,r,$,T);W&&(f!=="svg"&&IT(W)?f="svg":f!=="mathml"&&LT(W)&&(f="mathml"),c&&c.isCE&&(c.ce._teleportTargets||(c.ce._teleportTargets=new Set)).add(W),N||(te(W,Q),vm(r,!1)))};N&&(te(i,Z),vm(r,!0)),DT(r.props)?(r.el.__isMounted=!1,pr(()=>{ee(),delete r.el.__isMounted},d)):ee()}else{if(DT(r.props)&&t.el.__isMounted===!1){pr(()=>{nP.process(t,r,i,s,c,d,f,g,y,b)},d);return}r.el=t.el,r.targetStart=t.targetStart;const z=r.anchor=t.anchor,Z=r.target=t.target,te=r.targetAnchor=t.targetAnchor,ee=Gf(t.props),W=ee?i:Z,Q=ee?z:te;if(f==="svg"||IT(Z)?f="svg":(f==="mathml"||LT(Z))&&(f="mathml"),A?(C(t.dynamicChildren,A,W,c,d,f,g),o1(t,r,!0)):y||w(t,r,W,Q,c,d,f,g,!1),N)ee?r.props&&t.props&&r.props.to!==t.props.to&&(r.props.to=t.props.to):Yh(r,i,z,b,1);else if((r.props&&r.props.to)!==(t.props&&t.props.to)){const oe=r.target=Xb(r.props,D);oe&&Yh(r,oe,null,b,0)}else ee&&Yh(r,Z,te,b,1);vm(r,N)}},remove(t,r,i,{um:s,o:{remove:c}},d){const{shapeFlag:f,children:g,anchor:y,targetStart:b,targetAnchor:E,target:w,props:C}=t;if(w&&(c(b),c(E)),d&&c(y),f&16){const T=d||!Gf(C);for(let D=0;D<g.length;D++){const $=g[D];s($,r,i,T,!!$.dynamicChildren)}}},move:Yh,hydrate:F6};function Yh(t,r,i,{o:{insert:s},m:c},d=2){d===0&&s(t.targetAnchor,r,i);const{el:f,anchor:g,shapeFlag:y,children:b,props:E}=t,w=d===2;if(w&&s(f,r,i),(!w||Gf(E))&&y&16)for(let C=0;C<b.length;C++)c(b[C],r,i,2);w&&s(g,r,i)}function F6(t,r,i,s,c,d,{o:{nextSibling:f,parentNode:g,querySelector:y,insert:b,createText:E}},w){function C($,H,N,L){H.anchor=w(f($),H,g($),i,s,c,d),H.targetStart=N,H.targetAnchor=L}const T=r.target=Xb(r.props,y),D=Gf(r.props);if(T){const $=T._lpa||T.firstChild;if(r.shapeFlag&16)if(D)C(t,r,$,$&&f($));else{r.anchor=f(t);let H=$;for(;H;){if(H&&H.nodeType===8){if(H.data==="teleport start anchor")r.targetStart=H;else if(H.data==="teleport anchor"){r.targetAnchor=H,T._lpa=r.targetAnchor&&f(r.targetAnchor);break}}H=f(H)}r.targetAnchor||rP(T,r,E,b),w($&&f($),r,T,i,s,c,d)}vm(r,D)}else D&&r.shapeFlag&16&&C(t,r,t,f(t));return r.anchor&&f(r.anchor)}const j6=nP;function vm(t,r){const i=t.ctx;if(i&&i.ut){let s,c;for(r?(s=t.el,c=t.anchor):(s=t.targetStart,c=t.targetAnchor);s&&s!==c;)s.nodeType===1&&s.setAttribute("data-v-owner",i.uid),s=s.nextSibling;i.ut()}}function rP(t,r,i,s){const c=r.targetStart=i(""),d=r.targetAnchor=i("");return c[eP]=d,t&&(s(c,t),s(d,t)),d}const ha=Symbol("_leaveCb"),Zh=Symbol("_enterCb");function Yx(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Uo(()=>{t.isMounted=!0}),Tg(()=>{t.isUnmounting=!0}),t}const Yi=[Function,Array],Zx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yi,onEnter:Yi,onAfterEnter:Yi,onEnterCancelled:Yi,onBeforeLeave:Yi,onLeave:Yi,onAfterLeave:Yi,onLeaveCancelled:Yi,onBeforeAppear:Yi,onAppear:Yi,onAfterAppear:Yi,onAppearCancelled:Yi},iP=t=>{const r=t.subTree;return r.component?iP(r.component):r},V6={name:"BaseTransition",props:Zx,setup(t,{slots:r}){const i=ci(),s=Yx();return()=>{const c=r.default&&wg(r.default(),!0);if(!c||!c.length)return;const d=oP(c),f=sn(t),{mode:g}=f;if(s.isLeaving)return rb(d);const y=$T(d);if(!y)return rb(d);let b=Gc(y,f,s,i,w=>b=w);y.type!==cr&&Pa(y,b);let E=i.subTree&&$T(i.subTree);if(E&&E.type!==cr&&!ho(E,y)&&iP(i).type!==cr){let w=Gc(E,f,s,i);if(Pa(E,w),g==="out-in"&&y.type!==cr)return s.isLeaving=!0,w.afterLeave=()=>{s.isLeaving=!1,i.job.flags&8||i.update(),delete w.afterLeave,E=void 0},rb(d);g==="in-out"&&y.type!==cr?w.delayLeave=(C,T,D)=>{const $=sP(s,E);$[String(E.key)]=E,C[ha]=()=>{T(),C[ha]=void 0,delete b.delayedLeave,E=void 0},b.delayedLeave=()=>{D(),delete b.delayedLeave,E=void 0}}:E=void 0}else E&&(E=void 0);return d}}};function oP(t){let r=t[0];if(t.length>1){for(const i of t)if(i.type!==cr){r=i;break}}return r}const aP=V6;function sP(t,r){const{leavingVNodes:i}=t;let s=i.get(r.type);return s||(s=Object.create(null),i.set(r.type,s)),s}function Gc(t,r,i,s,c){const{appear:d,mode:f,persisted:g=!1,onBeforeEnter:y,onEnter:b,onAfterEnter:E,onEnterCancelled:w,onBeforeLeave:C,onLeave:T,onAfterLeave:D,onLeaveCancelled:$,onBeforeAppear:H,onAppear:N,onAfterAppear:L,onAppearCancelled:M}=r,A=String(t.key),z=sP(i,t),Z=(W,Q)=>{W&&eo(W,s,9,Q)},te=(W,Q)=>{const oe=Q[1];Z(W,Q),it(W)?W.every(re=>re.length<=1)&&oe():W.length<=1&&oe()},ee={mode:f,persisted:g,beforeEnter(W){let Q=y;if(!i.isMounted)if(d)Q=H||y;else return;W[ha]&&W[ha](!0);const oe=z[A];oe&&ho(t,oe)&&oe.el[ha]&&oe.el[ha](),Z(Q,[W])},enter(W){let Q=b,oe=E,re=w;if(!i.isMounted)if(d)Q=N||b,oe=L||E,re=M||w;else return;let J=!1;const ce=W[Zh]=ue=>{J||(J=!0,ue?Z(re,[W]):Z(oe,[W]),ee.delayedLeave&&ee.delayedLeave(),W[Zh]=void 0)};Q?te(Q,[W,ce]):ce()},leave(W,Q){const oe=String(t.key);if(W[Zh]&&W[Zh](!0),i.isUnmounting)return Q();Z(C,[W]);let re=!1;const J=W[ha]=ce=>{re||(re=!0,Q(),ce?Z($,[W]):Z(D,[W]),W[ha]=void 0,z[oe]===t&&delete z[oe])};z[oe]=t,T?te(T,[W,J]):J()},clone(W){const Q=Gc(W,r,i,s,c);return c&&c(Q),Q}};return ee}function rb(t){if(Fd(t))return t=Vo(t),t.children=null,t}function $T(t){if(!Fd(t))return tP(t.type)&&t.children?oP(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:r,children:i}=t;if(i){if(r&16)return i[0];if(r&32&&wt(i.default))return i.default()}}function Pa(t,r){t.shapeFlag&6&&t.component?(t.transition=r,Pa(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function wg(t,r=!1,i){let s=[],c=0;for(let d=0;d<t.length;d++){let f=t[d];const g=i==null?f.key:String(i)+String(f.key!=null?f.key:d);f.type===rn?(f.patchFlag&128&&c++,s=s.concat(wg(f.children,r,g))):(r||f.type!==cr)&&s.push(g!=null?Vo(f,{key:g}):f)}if(c>1)for(let d=0;d<s.length;d++)s[d].patchFlag=-2;return s}function Vn(t,r){return wt(t)?qt({name:t.name},r,{setup:t}):t}function H6(){const t=ci();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Jx(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function U6(t){const r=ci(),i=bo(null);if(r){const c=r.refs===nn?r.refs={}:r.refs;Object.defineProperty(c,t,{enumerable:!0,get:()=>i.value,set:d=>i.value=d})}return i}const Fm=new WeakMap;function Fc(t,r,i,s,c=!1){if(it(t)){t.forEach((D,$)=>Fc(D,r&&(it(r)?r[$]:r),i,s,c));return}if(Ea(s)&&!c){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Fc(t,r,i,s.component.subTree);return}const d=s.shapeFlag&4?jd(s.component):s.el,f=c?null:d,{i:g,r:y}=t,b=r&&r.r,E=g.refs===nn?g.refs={}:g.refs,w=g.setupState,C=sn(w),T=w===nn?pl:D=>dn(C,D);if(b!=null&&b!==y){if(BT(r),Pt(b))E[b]=null,T(b)&&(w[b]=null);else if(jn(b)){b.value=null;const D=r;D.k&&(E[D.k]=null)}}if(wt(y))su(y,g,12,[f,E]);else{const D=Pt(y),$=jn(y);if(D||$){const H=()=>{if(t.f){const N=D?T(y)?w[y]:E[y]:y.value;if(c)it(N)&&pg(N,d);else if(it(N))N.includes(d)||N.push(d);else if(D)E[y]=[d],T(y)&&(w[y]=E[y]);else{const L=[d];y.value=L,t.k&&(E[t.k]=L)}}else D?(E[y]=f,T(y)&&(w[y]=f)):$&&(y.value=f,t.k&&(E[t.k]=f))};if(f){const N=()=>{H(),Fm.delete(t)};N.id=-1,Fm.set(t,N),pr(N,i)}else BT(t),H()}}}function BT(t){const r=Fm.get(t);r&&(r.flags|=8,Fm.delete(t))}let FT=!1;const Sc=()=>{FT||(console.error("Hydration completed but contains mismatches."),FT=!0)},z6=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",G6=t=>t.namespaceURI.includes("MathML"),Jh=t=>{if(t.nodeType===1){if(z6(t))return"svg";if(G6(t))return"mathml"}},Lc=t=>t.nodeType===8;function W6(t){const{mt:r,p:i,o:{patchProp:s,createText:c,nextSibling:d,parentNode:f,remove:g,insert:y,createComment:b}}=t,E=(M,A)=>{if(!A.hasChildNodes()){i(null,M,A),Bm(),A._vnode=M;return}w(A.firstChild,M,null,null,null),Bm(),A._vnode=M},w=(M,A,z,Z,te,ee=!1)=>{ee=ee||!!A.dynamicChildren;const W=Lc(M)&&M.data==="[",Q=()=>$(M,A,z,Z,te,W),{type:oe,ref:re,shapeFlag:J,patchFlag:ce}=A;let ue=M.nodeType;A.el=M,ce===-2&&(ee=!1,A.dynamicChildren=null);let le=null;switch(oe){case Rs:ue!==3?A.children===""?(y(A.el=c(""),f(M),M),le=M):le=Q():(M.data!==A.children&&(Sc(),M.data=A.children),le=d(M));break;case cr:L(M)?(le=d(M),N(A.el=M.content.firstChild,M,z)):ue!==8||W?le=Q():le=d(M);break;case Tl:if(W&&(M=d(M),ue=M.nodeType),ue===1||ue===3){le=M;const ve=!A.children.length;for(let fe=0;fe<A.staticCount;fe++)ve&&(A.children+=le.nodeType===1?le.outerHTML:le.data),fe===A.staticCount-1&&(A.anchor=le),le=d(le);return W?d(le):le}else Q();break;case rn:W?le=D(M,A,z,Z,te,ee):le=Q();break;default:if(J&1)(ue!==1||A.type.toLowerCase()!==M.tagName.toLowerCase())&&!L(M)?le=Q():le=C(M,A,z,Z,te,ee);else if(J&6){A.slotScopeIds=te;const ve=f(M);if(W?le=H(M):Lc(M)&&M.data==="teleport start"?le=H(M,M.data,"teleport end"):le=d(M),r(A,ve,null,z,Z,Jh(ve),ee),Ea(A)&&!A.type.__asyncResolved){let fe;W?(fe=we(rn),fe.anchor=le?le.previousSibling:ve.lastChild):fe=M.nodeType===3?Ut(""):we("div"),fe.el=M,A.component.subTree=fe}}else J&64?ue!==8?le=Q():le=A.type.hydrate(M,A,z,Z,te,ee,t,T):J&128&&(le=A.type.hydrate(M,A,z,Z,Jh(f(M)),te,ee,t,w))}return re!=null&&Fc(re,null,Z,A),le},C=(M,A,z,Z,te,ee)=>{ee=ee||!!A.dynamicChildren;const{type:W,props:Q,patchFlag:oe,shapeFlag:re,dirs:J,transition:ce}=A,ue=W==="input"||W==="option";if(ue||oe!==-1){J&&Do(A,null,z,"created");let le=!1;if(L(M)){le=DP(null,ce)&&z&&z.vnode.props&&z.vnode.props.appear;const fe=M.content.firstChild;if(le){const pe=fe.getAttribute("class");pe&&(fe.$cls=pe),ce.beforeEnter(fe)}N(fe,M,z),A.el=M=fe}if(re&16&&!(Q&&(Q.innerHTML||Q.textContent))){let fe=T(M.firstChild,A,M,z,Z,te,ee);for(;fe;){Qh(M,1)||Sc();const pe=fe;fe=fe.nextSibling,g(pe)}}else if(re&8){let fe=A.children;fe[0]===`
`&&(M.tagName==="PRE"||M.tagName==="TEXTAREA")&&(fe=fe.slice(1));const{textContent:pe}=M;pe!==fe&&pe!==fe.replace(/\r\n|\r/g,`
`)&&(Qh(M,0)||Sc(),M.textContent=A.children)}if(Q){if(ue||!ee||oe&48){const fe=M.tagName.includes("-");for(const pe in Q)(ue&&(pe.endsWith("value")||pe==="indeterminate")||Ls(pe)&&!xa(pe)||pe[0]==="."||fe)&&s(M,pe,null,Q[pe],void 0,z)}else if(Q.onClick)s(M,"onClick",null,Q.onClick,void 0,z);else if(oe&4&&vo(Q.style))for(const fe in Q.style)Q.style[fe]}let ve;(ve=Q&&Q.onVnodeBeforeMount)&&vi(ve,z,A),J&&Do(A,null,z,"beforeMount"),((ve=Q&&Q.onVnodeMounted)||J||le)&&BP(()=>{ve&&vi(ve,z,A),le&&ce.enter(M),J&&Do(A,null,z,"mounted")},Z)}return M.nextSibling},T=(M,A,z,Z,te,ee,W)=>{W=W||!!A.dynamicChildren;const Q=A.children,oe=Q.length;for(let re=0;re<oe;re++){const J=W?Q[re]:Q[re]=yi(Q[re]),ce=J.type===Rs;M?(ce&&!W&&re+1<oe&&yi(Q[re+1]).type===Rs&&(y(c(M.data.slice(J.children.length)),z,d(M)),M.data=J.children),M=w(M,J,Z,te,ee,W)):ce&&!J.children?y(J.el=c(""),z):(Qh(z,1)||Sc(),i(null,J,z,null,Z,te,Jh(z),ee))}return M},D=(M,A,z,Z,te,ee)=>{const{slotScopeIds:W}=A;W&&(te=te?te.concat(W):W);const Q=f(M),oe=T(d(M),A,Q,z,Z,te,ee);return oe&&Lc(oe)&&oe.data==="]"?d(A.anchor=oe):(Sc(),y(A.anchor=b("]"),Q,oe),oe)},$=(M,A,z,Z,te,ee)=>{if(Qh(M.parentElement,1)||Sc(),A.el=null,ee){const oe=H(M);for(;;){const re=d(M);if(re&&re!==oe)g(re);else break}}const W=d(M),Q=f(M);return g(M),i(null,A,Q,W,z,Z,Jh(Q),te),z&&(z.vnode.el=A.el,Rg(z,A.el)),W},H=(M,A="[",z="]")=>{let Z=0;for(;M;)if(M=d(M),M&&Lc(M)&&(M.data===A&&Z++,M.data===z)){if(Z===0)return d(M);Z--}return M},N=(M,A,z)=>{const Z=A.parentNode;Z&&Z.replaceChild(M,A);let te=z;for(;te;)te.vnode.el===A&&(te.vnode.el=te.subTree.el=M),te=te.parent},L=M=>M.nodeType===1&&M.tagName==="TEMPLATE";return[E,w]}const jT="data-allow-mismatch",K6={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Qh(t,r){if(r===0||r===1)for(;t&&!t.hasAttribute(jT);)t=t.parentElement;const i=t&&t.getAttribute(jT);if(i==null)return!1;if(i==="")return!0;{const s=i.split(",");return r===0&&s.includes("children")?!0:s.includes(K6[r])}}const X6=Id().requestIdleCallback||(t=>setTimeout(t,1)),Y6=Id().cancelIdleCallback||(t=>clearTimeout(t)),Z6=(t=1e4)=>r=>{const i=X6(r,{timeout:t});return()=>Y6(i)};function J6(t){const{top:r,left:i,bottom:s,right:c}=t.getBoundingClientRect(),{innerHeight:d,innerWidth:f}=window;return(r>0&&r<d||s>0&&s<d)&&(i>0&&i<f||c>0&&c<f)}const Q6=t=>(r,i)=>{const s=new IntersectionObserver(c=>{for(const d of c)if(d.isIntersecting){s.disconnect(),r();break}},t);return i(c=>{if(c instanceof Element){if(J6(c))return r(),s.disconnect(),!1;s.observe(c)}}),()=>s.disconnect()},q6=t=>r=>{if(t){const i=matchMedia(t);if(i.matches)r();else return i.addEventListener("change",r,{once:!0}),()=>i.removeEventListener("change",r)}},eL=(t=[])=>(r,i)=>{Pt(t)&&(t=[t]);let s=!1;const c=f=>{s||(s=!0,d(),r(),f.target.dispatchEvent(new f.constructor(f.type,f)))},d=()=>{i(f=>{for(const g of t)f.removeEventListener(g,c)})};return i(f=>{for(const g of t)f.addEventListener(g,c,{once:!0})}),d};function tL(t,r){if(Lc(t)&&t.data==="["){let i=1,s=t.nextSibling;for(;s;){if(s.nodeType===1){if(r(s)===!1)break}else if(Lc(s))if(s.data==="]"){if(--i===0)break}else s.data==="["&&i++;s=s.nextSibling}}else r(t)}const Ea=t=>!!t.type.__asyncLoader;function nL(t){wt(t)&&(t={loader:t});const{loader:r,loadingComponent:i,errorComponent:s,delay:c=200,hydrate:d,timeout:f,suspensible:g=!0,onError:y}=t;let b=null,E,w=0;const C=()=>(w++,b=null,T()),T=()=>{let D;return b||(D=b=r().catch($=>{if($=$ instanceof Error?$:new Error(String($)),y)return new Promise((H,N)=>{y($,()=>H(C()),()=>N($),w+1)});throw $}).then($=>D!==b&&b?b:($&&($.__esModule||$[Symbol.toStringTag]==="Module")&&($=$.default),E=$,$)))};return Vn({name:"AsyncComponentWrapper",__asyncLoader:T,__asyncHydrate(D,$,H){let N=!1;($.bu||($.bu=[])).push(()=>N=!0);const L=()=>{N||H()},M=d?()=>{const A=d(L,z=>tL(D,z));A&&($.bum||($.bum=[])).push(A)}:L;E?M():T().then(()=>!$.isUnmounted&&M())},get __asyncResolved(){return E},setup(){const D=$r;if(Jx(D),E)return()=>qh(E,D);const $=M=>{b=null,Hl(M,D,13,!s)};if(g&&D.suspense||Wc)return T().then(M=>()=>qh(M,D)).catch(M=>($(M),()=>s?we(s,{error:M}):null));const H=tt(!1),N=tt(),L=tt(!!c);return c&&setTimeout(()=>{L.value=!1},c),f!=null&&setTimeout(()=>{if(!H.value&&!N.value){const M=new Error(`Async component timed out after ${f}ms.`);$(M),N.value=M}},f),T().then(()=>{H.value=!0,D.parent&&Fd(D.parent.vnode)&&D.parent.update()}).catch(M=>{$(M),N.value=M}),()=>{if(H.value&&E)return qh(E,D);if(N.value&&s)return we(s,{error:N.value});if(i&&!L.value)return qh(i,D)}}})}function qh(t,r){const{ref:i,props:s,children:c,ce:d}=r.vnode,f=we(t,s,c);return f.ref=i,f.ce=d,delete r.vnode.ce,f}const Fd=t=>t.type.__isKeepAlive,rL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:r}){const i=ci(),s=i.ctx;if(!s.renderer)return()=>{const L=r.default&&r.default();return L&&L.length===1?L[0]:L};const c=new Map,d=new Set;let f=null;const g=i.suspense,{renderer:{p:y,m:b,um:E,o:{createElement:w}}}=s,C=w("div");s.activate=(L,M,A,z,Z)=>{const te=L.component;b(L,M,A,0,g),y(te.vnode,L,M,A,te,g,z,L.slotScopeIds,Z),pr(()=>{te.isDeactivated=!1,te.a&&El(te.a);const ee=L.props&&L.props.onVnodeMounted;ee&&vi(ee,te.parent,L)},g)},s.deactivate=L=>{const M=L.component;Vm(M.m),Vm(M.a),b(L,C,null,1,g),pr(()=>{M.da&&El(M.da);const A=L.props&&L.props.onVnodeUnmounted;A&&vi(A,M.parent,L),M.isDeactivated=!0},g)};function T(L){ib(L),E(L,i,g,!0)}function D(L){c.forEach((M,A)=>{const z=ox(Ea(M)?M.type.__asyncResolved||{}:M.type);z&&!L(z)&&$(A)})}function $(L){const M=c.get(L);M&&(!f||!ho(M,f))?T(M):f&&ib(f),c.delete(L),d.delete(L)}Ei(()=>[t.include,t.exclude],([L,M])=>{L&&D(A=>Mf(L,A)),M&&D(A=>!Mf(M,A))},{flush:"post",deep:!0});let H=null;const N=()=>{H!=null&&(Hm(i.subTree.type)?pr(()=>{c.set(H,em(i.subTree))},i.subTree.suspense):c.set(H,em(i.subTree)))};return Uo(N),Cg(N),Tg(()=>{c.forEach(L=>{const{subTree:M,suspense:A}=i,z=em(M);if(L.type===z.type&&L.key===z.key){ib(z);const Z=z.component.da;Z&&pr(Z,A);return}T(L)})}),()=>{if(H=null,!r.default)return f=null;const L=r.default(),M=L[0];if(L.length>1)return f=null,L;if(!Na(M)||!(M.shapeFlag&4)&&!(M.shapeFlag&128))return f=null,M;let A=em(M);if(A.type===cr)return f=null,A;const z=A.type,Z=ox(Ea(A)?A.type.__asyncResolved||{}:z),{include:te,exclude:ee,max:W}=t;if(te&&(!Z||!Mf(te,Z))||ee&&Z&&Mf(ee,Z))return A.shapeFlag&=-257,f=A,M;const Q=A.key==null?z:A.key,oe=c.get(Q);return A.el&&(A=Vo(A),M.shapeFlag&128&&(M.ssContent=A)),H=Q,oe?(A.el=oe.el,A.component=oe.component,A.transition&&Pa(A,A.transition),A.shapeFlag|=512,d.delete(Q),d.add(Q)):(d.add(Q),W&&d.size>parseInt(W,10)&&$(d.values().next().value)),A.shapeFlag|=256,f=A,Hm(M.type)?M:A}}},lP=rL;function Mf(t,r){return it(t)?t.some(i=>Mf(i,r)):Pt(t)?t.split(",").includes(r):lR(t)?(t.lastIndex=0,t.test(r)):!1}function cP(t,r){fP(t,"a",r)}function uP(t,r){fP(t,"da",r)}function fP(t,r,i=$r){const s=t.__wdc||(t.__wdc=()=>{let c=i;for(;c;){if(c.isDeactivated)return;c=c.parent}return t()});if(Sg(r,s,i),i){let c=i.parent;for(;c&&c.parent;)Fd(c.parent.vnode)&&iL(s,r,i,c),c=c.parent}}function iL(t,r,i,s){const c=Sg(r,t,s,!0);kg(()=>{pg(s[r],c)},i)}function ib(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function em(t){return t.shapeFlag&128?t.ssContent:t}function Sg(t,r,i=$r,s=!1){if(i){const c=i[t]||(i[t]=[]),d=r.__weh||(r.__weh=(...f)=>{Aa();const g=Ol(i),y=eo(r,i,t,f);return g(),Ra(),y});return s?c.unshift(d):c.push(d),d}}const Oa=t=>(r,i=$r)=>{(!Wc||t==="sp")&&Sg(t,(...s)=>r(...s),i)},dP=Oa("bm"),Uo=Oa("m"),Qx=Oa("bu"),Cg=Oa("u"),Tg=Oa("bum"),kg=Oa("um"),pP=Oa("sp"),hP=Oa("rtg"),mP=Oa("rtc");function gP(t,r=$r){Sg("ec",t,r)}const qx="components",oL="directives";function dd(t,r){return e1(qx,t,!0,r)||t}const vP=Symbol.for("v-ndc");function As(t){return Pt(t)?e1(qx,t,!1)||t:t||vP}function aL(t){return e1(oL,t)}function e1(t,r,i=!0,s=!1){const c=Br||$r;if(c){const d=c.type;if(t===qx){const g=ox(d,!1);if(g&&(g===r||g===kn(r)||g===Bs(kn(r))))return d}const f=VT(c[t]||d[t],r)||VT(c.appContext[t],r);return!f&&s?d:f}}function VT(t,r){return t&&(t[r]||t[kn(r)]||t[Bs(kn(r))])}function Cr(t,r,i,s){let c;const d=i&&i[s],f=it(t);if(f||Pt(t)){const g=f&&vo(t);let y=!1,b=!1;g&&(y=!_i(t),b=jo(t),t=yg(t)),c=new Array(t.length);for(let E=0,w=t.length;E<w;E++)c[E]=r(y?b?zc(yo(t[E])):yo(t[E]):t[E],E,void 0,d&&d[E])}else if(typeof t=="number"){c=new Array(t);for(let g=0;g<t;g++)c[g]=r(g+1,g,void 0,d&&d[g])}else if(hn(t))if(t[Symbol.iterator])c=Array.from(t,(g,y)=>r(g,y,void 0,d&&d[y]));else{const g=Object.keys(t);c=new Array(g.length);for(let y=0,b=g.length;y<b;y++){const E=g[y];c[y]=r(t[E],E,y,d&&d[y])}}else c=[];return i&&(i[s]=c),c}function sL(t,r){for(let i=0;i<r.length;i++){const s=r[i];if(it(s))for(let c=0;c<s.length;c++)t[s[c].name]=s[c].fn;else s&&(t[s.name]=s.key?(...c)=>{const d=s.fn(...c);return d&&(d.key=s.key),d}:s.fn)}return t}function wa(t,r,i={},s,c){if(Br.ce||Br.parent&&Ea(Br.parent)&&Br.parent.ce){const b=Object.keys(i).length>0;return r!=="default"&&(i.name=r),Le(),Gn(rn,null,[we("slot",i,s&&s())],b?-2:64)}let d=t[r];d&&d._c&&(d._d=!1),Le();const f=d&&t1(d(i)),g=i.key||f&&f.key,y=Gn(rn,{key:(g&&!li(g)?g:`_${r}`)+(!f&&s?"_fb":"")},f||(s?s():[]),f&&t._===1?64:-2);return!c&&y.scopeId&&(y.slotScopeIds=[y.scopeId+"-s"]),d&&d._c&&(d._d=!0),y}function t1(t){return t.some(r=>Na(r)?!(r.type===cr||r.type===rn&&!t1(r.children)):!0)?t:null}function lL(t,r){const i={};for(const s in t)i[r&&/[A-Z]/.test(s)?`on:${s}`:_l(s)]=t[s];return i}const Yb=t=>t?WP(t)?jd(t):Yb(t.parent):null,Wf=qt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yb(t.parent),$root:t=>Yb(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>n1(t),$forceUpdate:t=>t.f||(t.f=()=>{Xx(t.update)}),$nextTick:t=>t.n||(t.n=_a.bind(t.proxy)),$watch:t=>B6.bind(t)}),ob=(t,r)=>t!==nn&&!t.__isScriptSetup&&dn(t,r),Zb={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:i,setupState:s,data:c,props:d,accessCache:f,type:g,appContext:y}=t;if(r[0]!=="$"){const C=f[r];if(C!==void 0)switch(C){case 1:return s[r];case 2:return c[r];case 4:return i[r];case 3:return d[r]}else{if(ob(s,r))return f[r]=1,s[r];if(c!==nn&&dn(c,r))return f[r]=2,c[r];if(dn(d,r))return f[r]=3,d[r];if(i!==nn&&dn(i,r))return f[r]=4,i[r];Jb&&(f[r]=0)}}const b=Wf[r];let E,w;if(b)return r==="$attrs"&&Wr(t.attrs,"get",""),b(t);if((E=g.__cssModules)&&(E=E[r]))return E;if(i!==nn&&dn(i,r))return f[r]=4,i[r];if(w=y.config.globalProperties,dn(w,r))return w[r]},set({_:t},r,i){const{data:s,setupState:c,ctx:d}=t;return ob(c,r)?(c[r]=i,!0):s!==nn&&dn(s,r)?(s[r]=i,!0):dn(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(d[r]=i,!0)},has({_:{data:t,setupState:r,accessCache:i,ctx:s,appContext:c,props:d,type:f}},g){let y;return!!(i[g]||t!==nn&&g[0]!=="$"&&dn(t,g)||ob(r,g)||dn(d,g)||dn(s,g)||dn(Wf,g)||dn(c.config.globalProperties,g)||(y=f.__cssModules)&&y[g])},defineProperty(t,r,i){return i.get!=null?t._.accessCache[r]=0:dn(i,"value")&&this.set(t,r,i.value,null),Reflect.defineProperty(t,r,i)}},cL=qt({},Zb,{get(t,r){if(r!==Symbol.unscopables)return Zb.get(t,r,t)},has(t,r){return r[0]!=="_"&&!$x(r)}});function uL(){return null}function fL(){return null}function dL(t){}function pL(t){}function hL(){return null}function mL(){}function gL(t,r){return null}function vL(){return yP().slots}function yL(){return yP().attrs}function yP(t){const r=ci();return r.setupContext||(r.setupContext=YP(r))}function pd(t){return it(t)?t.reduce((r,i)=>(r[i]=null,r),{}):t}function bL(t,r){const i=pd(t);for(const s in r){if(s.startsWith("__skip"))continue;let c=i[s];c?it(c)||wt(c)?c=i[s]={type:c,default:r[s]}:c.default=r[s]:c===null&&(c=i[s]={default:r[s]}),c&&r[`__skip_${s}`]&&(c.skipFactory=!0)}return i}function xL(t,r){return!t||!r?t||r:it(t)&&it(r)?t.concat(r):qt({},pd(t),pd(r))}function _L(t,r){const i={};for(const s in t)r.includes(s)||Object.defineProperty(i,s,{enumerable:!0,get:()=>t[s]});return i}function EL(t){const r=ci();let i=t();return nx(),hg(i)&&(i=i.catch(s=>{throw Ol(r),s})),[i,()=>Ol(r)]}let Jb=!0;function wL(t){const r=n1(t),i=t.proxy,s=t.ctx;Jb=!1,r.beforeCreate&&HT(r.beforeCreate,t,"bc");const{data:c,computed:d,methods:f,watch:g,provide:y,inject:b,created:E,beforeMount:w,mounted:C,beforeUpdate:T,updated:D,activated:$,deactivated:H,beforeDestroy:N,beforeUnmount:L,destroyed:M,unmounted:A,render:z,renderTracked:Z,renderTriggered:te,errorCaptured:ee,serverPrefetch:W,expose:Q,inheritAttrs:oe,components:re,directives:J,filters:ce}=r;if(b&&SL(b,s,null),f)for(const ve in f){const fe=f[ve];wt(fe)&&(s[ve]=fe.bind(i))}if(c){const ve=c.call(i,i);hn(ve)&&(t.data=au(ve))}if(Jb=!0,d)for(const ve in d){const fe=d[ve],pe=wt(fe)?fe.bind(i,i):wt(fe.get)?fe.get.bind(i,i):Tr,Te=!wt(fe)&&wt(fe.set)?fe.set.bind(i):Tr,ot=Mn({get:pe,set:Te});Object.defineProperty(s,ve,{enumerable:!0,configurable:!0,get:()=>ot.value,set:Ye=>ot.value=Ye})}if(g)for(const ve in g)bP(g[ve],s,i,ve);if(y){const ve=wt(y)?y.call(i):y;Reflect.ownKeys(ve).forEach(fe=>{zf(fe,ve[fe])})}E&&HT(E,t,"c");function le(ve,fe){it(fe)?fe.forEach(pe=>ve(pe.bind(i))):fe&&ve(fe.bind(i))}if(le(dP,w),le(Uo,C),le(Qx,T),le(Cg,D),le(cP,$),le(uP,H),le(gP,ee),le(mP,Z),le(hP,te),le(Tg,L),le(kg,A),le(pP,W),it(Q))if(Q.length){const ve=t.exposed||(t.exposed={});Q.forEach(fe=>{Object.defineProperty(ve,fe,{get:()=>i[fe],set:pe=>i[fe]=pe,enumerable:!0})})}else t.exposed||(t.exposed={});z&&t.render===Tr&&(t.render=z),oe!=null&&(t.inheritAttrs=oe),re&&(t.components=re),J&&(t.directives=J),W&&Jx(t)}function SL(t,r,i=Tr){it(t)&&(t=Qb(t));for(const s in t){const c=t[s];let d;hn(c)?"default"in c?d=Di(c.from||s,c.default,!0):d=Di(c.from||s):d=Di(c),jn(d)?Object.defineProperty(r,s,{enumerable:!0,configurable:!0,get:()=>d.value,set:f=>d.value=f}):r[s]=d}}function HT(t,r,i){eo(it(t)?t.map(s=>s.bind(r.proxy)):t.bind(r.proxy),r,i)}function bP(t,r,i,s){let c=s.includes(".")?qR(i,s):()=>i[s];if(Pt(t)){const d=r[t];wt(d)&&Ei(c,d)}else if(wt(t))Ei(c,t.bind(i));else if(hn(t))if(it(t))t.forEach(d=>bP(d,r,i,s));else{const d=wt(t.handler)?t.handler.bind(i):r[t.handler];wt(d)&&Ei(c,d,t)}}function n1(t){const r=t.type,{mixins:i,extends:s}=r,{mixins:c,optionsCache:d,config:{optionMergeStrategies:f}}=t.appContext,g=d.get(r);let y;return g?y=g:!c.length&&!i&&!s?y=r:(y={},c.length&&c.forEach(b=>jm(y,b,f,!0)),jm(y,r,f)),hn(r)&&d.set(r,y),y}function jm(t,r,i,s=!1){const{mixins:c,extends:d}=r;d&&jm(t,d,i,!0),c&&c.forEach(f=>jm(t,f,i,!0));for(const f in r)if(!(s&&f==="expose")){const g=CL[f]||i&&i[f];t[f]=g?g(t[f],r[f]):r[f]}return t}const CL={data:UT,props:zT,emits:zT,methods:Df,computed:Df,beforeCreate:ei,created:ei,beforeMount:ei,mounted:ei,beforeUpdate:ei,updated:ei,beforeDestroy:ei,beforeUnmount:ei,destroyed:ei,unmounted:ei,activated:ei,deactivated:ei,errorCaptured:ei,serverPrefetch:ei,components:Df,directives:Df,watch:kL,provide:UT,inject:TL};function UT(t,r){return r?t?function(){return qt(wt(t)?t.call(this,this):t,wt(r)?r.call(this,this):r)}:r:t}function TL(t,r){return Df(Qb(t),Qb(r))}function Qb(t){if(it(t)){const r={};for(let i=0;i<t.length;i++)r[t[i]]=t[i];return r}return t}function ei(t,r){return t?[...new Set([].concat(t,r))]:r}function Df(t,r){return t?qt(Object.create(null),t,r):r}function zT(t,r){return t?it(t)&&it(r)?[...new Set([...t,...r])]:qt(Object.create(null),pd(t),pd(r??{})):r}function kL(t,r){if(!t)return r;if(!r)return t;const i=qt(Object.create(null),t);for(const s in r)i[s]=ei(t[s],r[s]);return i}function xP(){return{app:null,config:{isNativeTag:pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AL=0;function RL(t,r){return function(s,c=null){wt(s)||(s=qt({},s)),c!=null&&!hn(c)&&(c=null);const d=xP(),f=new WeakSet,g=[];let y=!1;const b=d.app={_uid:AL++,_component:s,_props:c,_container:null,_context:d,_instance:null,version:JP,get config(){return d.config},set config(E){},use(E,...w){return f.has(E)||(E&&wt(E.install)?(f.add(E),E.install(b,...w)):wt(E)&&(f.add(E),E(b,...w))),b},mixin(E){return d.mixins.includes(E)||d.mixins.push(E),b},component(E,w){return w?(d.components[E]=w,b):d.components[E]},directive(E,w){return w?(d.directives[E]=w,b):d.directives[E]},mount(E,w,C){if(!y){const T=b._ceVNode||we(s,c);return T.appContext=d,C===!0?C="svg":C===!1&&(C=void 0),w&&r?r(T,E):t(T,E,C),y=!0,b._container=E,E.__vue_app__=b,jd(T.component)}},onUnmount(E){g.push(E)},unmount(){y&&(eo(g,b._instance,16),t(null,b._container),delete b._container.__vue_app__)},provide(E,w){return d.provides[E]=w,b},runWithContext(E){const w=Cl;Cl=b;try{return E()}finally{Cl=w}}};return b}}let Cl=null;function PL(t,r,i=nn){const s=ci(),c=kn(r),d=Kr(r),f=_P(t,c),g=jR((y,b)=>{let E,w=nn,C;return QR(()=>{const T=t[c];Gr(E,T)&&(E=T,b())}),{get(){return y(),i.get?i.get(E):E},set(T){const D=i.set?i.set(T):T;if(!Gr(D,E)&&!(w!==nn&&Gr(T,w)))return;const $=s.vnode.props;$&&(r in $||c in $||d in $)&&(`onUpdate:${r}`in $||`onUpdate:${c}`in $||`onUpdate:${d}`in $)||(E=T,b()),s.emit(`update:${r}`,D),Gr(T,D)&&Gr(T,w)&&!Gr(D,C)&&b(),w=T,C=D}}});return g[Symbol.iterator]=()=>{let y=0;return{next(){return y<2?{value:y++?f||nn:g,done:!1}:{done:!0}}}},g}const _P=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${kn(r)}Modifiers`]||t[`${Kr(r)}Modifiers`];function NL(t,r,...i){if(t.isUnmounted)return;const s=t.vnode.props||nn;let c=i;const d=r.startsWith("update:"),f=d&&_P(s,r.slice(7));f&&(f.trim&&(c=i.map(E=>Pt(E)?E.trim():E)),f.number&&(c=i.map(Dd)));let g,y=s[g=_l(r)]||s[g=_l(kn(r))];!y&&d&&(y=s[g=_l(Kr(r))]),y&&eo(y,t,6,c);const b=s[g+"Once"];if(b){if(!t.emitted)t.emitted={};else if(t.emitted[g])return;t.emitted[g]=!0,eo(b,t,6,c)}}const OL=new WeakMap;function EP(t,r,i=!1){const s=i?OL:r.emitsCache,c=s.get(t);if(c!==void 0)return c;const d=t.emits;let f={},g=!1;if(!wt(t)){const y=b=>{const E=EP(b,r,!0);E&&(g=!0,qt(f,E))};!i&&r.mixins.length&&r.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}return!d&&!g?(hn(t)&&s.set(t,null),null):(it(d)?d.forEach(y=>f[y]=null):qt(f,d),hn(t)&&s.set(t,f),f)}function Ag(t,r){return!t||!Ls(r)?!1:(r=r.slice(2).replace(/Once$/,""),dn(t,r[0].toLowerCase()+r.slice(1))||dn(t,Kr(r))||dn(t,r))}function ym(t){const{type:r,vnode:i,proxy:s,withProxy:c,propsOptions:[d],slots:f,attrs:g,emit:y,render:b,renderCache:E,props:w,data:C,setupState:T,ctx:D,inheritAttrs:$}=t,H=fd(t);let N,L;try{if(i.shapeFlag&4){const A=c||s,z=A;N=yi(b.call(z,A,E,w,T,C,D)),L=g}else{const A=r;N=yi(A.length>1?A(w,{attrs:g,slots:f,emit:y}):A(w,null)),L=r.props?g:DL(g)}}catch(A){Kf.length=0,Hl(A,t,1),N=we(cr)}let M=N;if(L&&$!==!1){const A=Object.keys(L),{shapeFlag:z}=M;A.length&&z&7&&(d&&A.some(dg)&&(L=IL(L,d)),M=Vo(M,L,!1,!0))}return i.dirs&&(M=Vo(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(i.dirs):i.dirs),i.transition&&Pa(M,i.transition),N=M,fd(H),N}function ML(t,r=!0){let i;for(let s=0;s<t.length;s++){const c=t[s];if(Na(c)){if(c.type!==cr||c.children==="v-if"){if(i)return;i=c}}else return}return i}const DL=t=>{let r;for(const i in t)(i==="class"||i==="style"||Ls(i))&&((r||(r={}))[i]=t[i]);return r},IL=(t,r)=>{const i={};for(const s in t)(!dg(s)||!(s.slice(9)in r))&&(i[s]=t[s]);return i};function LL(t,r,i){const{props:s,children:c,component:d}=t,{props:f,children:g,patchFlag:y}=r,b=d.emitsOptions;if(r.dirs||r.transition)return!0;if(i&&y>=0){if(y&1024)return!0;if(y&16)return s?GT(s,f,b):!!f;if(y&8){const E=r.dynamicProps;for(let w=0;w<E.length;w++){const C=E[w];if(f[C]!==s[C]&&!Ag(b,C))return!0}}}else return(c||g)&&(!g||!g.$stable)?!0:s===f?!1:s?f?GT(s,f,b):!0:!!f;return!1}function GT(t,r,i){const s=Object.keys(r);if(s.length!==Object.keys(t).length)return!0;for(let c=0;c<s.length;c++){const d=s[c];if(r[d]!==t[d]&&!Ag(i,d))return!0}return!1}function Rg({vnode:t,parent:r},i){for(;r;){const s=r.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=r.vnode).el=i,r=r.parent;else break}}const wP={},SP=()=>Object.create(wP),CP=t=>Object.getPrototypeOf(t)===wP;function $L(t,r,i,s=!1){const c={},d=SP();t.propsDefaults=Object.create(null),TP(t,r,c,d);for(const f in t.propsOptions[0])f in c||(c[f]=void 0);i?t.props=s?c:Wx(c):t.type.props?t.props=c:t.props=d,t.attrs=d}function BL(t,r,i,s){const{props:c,attrs:d,vnode:{patchFlag:f}}=t,g=sn(c),[y]=t.propsOptions;let b=!1;if((s||f>0)&&!(f&16)){if(f&8){const E=t.vnode.dynamicProps;for(let w=0;w<E.length;w++){let C=E[w];if(Ag(t.emitsOptions,C))continue;const T=r[C];if(y)if(dn(d,C))T!==d[C]&&(d[C]=T,b=!0);else{const D=kn(C);c[D]=qb(y,g,D,T,t,!1)}else T!==d[C]&&(d[C]=T,b=!0)}}}else{TP(t,r,c,d)&&(b=!0);let E;for(const w in g)(!r||!dn(r,w)&&((E=Kr(w))===w||!dn(r,E)))&&(y?i&&(i[w]!==void 0||i[E]!==void 0)&&(c[w]=qb(y,g,w,void 0,t,!0)):delete c[w]);if(d!==g)for(const w in d)(!r||!dn(r,w))&&(delete d[w],b=!0)}b&&va(t.attrs,"set","")}function TP(t,r,i,s){const[c,d]=t.propsOptions;let f=!1,g;if(r)for(let y in r){if(xa(y))continue;const b=r[y];let E;c&&dn(c,E=kn(y))?!d||!d.includes(E)?i[E]=b:(g||(g={}))[E]=b:Ag(t.emitsOptions,y)||(!(y in s)||b!==s[y])&&(s[y]=b,f=!0)}if(d){const y=sn(i),b=g||nn;for(let E=0;E<d.length;E++){const w=d[E];i[w]=qb(c,y,w,b[w],t,!dn(b,w))}}return f}function qb(t,r,i,s,c,d){const f=t[i];if(f!=null){const g=dn(f,"default");if(g&&s===void 0){const y=f.default;if(f.type!==Function&&!f.skipFactory&&wt(y)){const{propsDefaults:b}=c;if(i in b)s=b[i];else{const E=Ol(c);s=b[i]=y.call(null,r),E()}}else s=y;c.ce&&c.ce._setProp(i,s)}f[0]&&(d&&!g?s=!1:f[1]&&(s===""||s===Kr(i))&&(s=!0))}return s}const FL=new WeakMap;function kP(t,r,i=!1){const s=i?FL:r.propsCache,c=s.get(t);if(c)return c;const d=t.props,f={},g=[];let y=!1;if(!wt(t)){const E=w=>{y=!0;const[C,T]=kP(w,r,!0);qt(f,C),T&&g.push(...T)};!i&&r.mixins.length&&r.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}if(!d&&!y)return hn(t)&&s.set(t,bl),bl;if(it(d))for(let E=0;E<d.length;E++){const w=kn(d[E]);WT(w)&&(f[w]=nn)}else if(d)for(const E in d){const w=kn(E);if(WT(w)){const C=d[E],T=f[w]=it(C)||wt(C)?{type:C}:qt({},C),D=T.type;let $=!1,H=!0;if(it(D))for(let N=0;N<D.length;++N){const L=D[N],M=wt(L)&&L.name;if(M==="Boolean"){$=!0;break}else M==="String"&&(H=!1)}else $=wt(D)&&D.name==="Boolean";T[0]=$,T[1]=H,($||dn(T,"default"))&&g.push(w)}}const b=[f,g];return hn(t)&&s.set(t,b),b}function WT(t){return t[0]!=="$"&&!xa(t)}const r1=t=>t==="_"||t==="_ctx"||t==="$stable",i1=t=>it(t)?t.map(yi):[yi(t)],jL=(t,r,i)=>{if(r._n)return r;const s=Qt((...c)=>i1(r(...c)),i);return s._c=!1,s},AP=(t,r,i)=>{const s=t._ctx;for(const c in t){if(r1(c))continue;const d=t[c];if(wt(d))r[c]=jL(c,d,s);else if(d!=null){const f=i1(d);r[c]=()=>f}}},RP=(t,r)=>{const i=i1(r);t.slots.default=()=>i},PP=(t,r,i)=>{for(const s in r)(i||!r1(s))&&(t[s]=r[s])},VL=(t,r,i)=>{const s=t.slots=SP();if(t.vnode.shapeFlag&32){const c=r._;c?(PP(s,r,i),i&&Lx(s,"_",c,!0)):AP(r,s)}else r&&RP(t,r)},HL=(t,r,i)=>{const{vnode:s,slots:c}=t;let d=!0,f=nn;if(s.shapeFlag&32){const g=r._;g?i&&g===1?d=!1:PP(c,r,i):(d=!r.$stable,AP(r,c)),f=r}else r&&(RP(t,r),f={default:1});if(d)for(const g in c)!r1(g)&&f[g]==null&&delete c[g]},pr=BP;function NP(t){return MP(t)}function OP(t){return MP(t,W6)}function MP(t,r){const i=Id();i.__VUE__=!0;const{insert:s,remove:c,patchProp:d,createElement:f,createText:g,createComment:y,setText:b,setElementText:E,parentNode:w,nextSibling:C,setScopeId:T=Tr,insertStaticContent:D}=t,$=(X,q,be,Ce=null,Ae=null,$e=null,Xe=void 0,Ue=null,ze=!!q.dynamicChildren)=>{if(X===q)return;X&&!ho(X,q)&&(Ce=Se(X),Ye(X,Ae,$e,!0),X=null),q.patchFlag===-2&&(ze=!1,q.dynamicChildren=null);const{type:Be,ref:pt,shapeFlag:Qe}=q;switch(Be){case Rs:H(X,q,be,Ce);break;case cr:N(X,q,be,Ce);break;case Tl:X==null&&L(q,be,Ce,Xe);break;case rn:re(X,q,be,Ce,Ae,$e,Xe,Ue,ze);break;default:Qe&1?z(X,q,be,Ce,Ae,$e,Xe,Ue,ze):Qe&6?J(X,q,be,Ce,Ae,$e,Xe,Ue,ze):(Qe&64||Qe&128)&&Be.process(X,q,be,Ce,Ae,$e,Xe,Ue,ze,De)}pt!=null&&Ae?Fc(pt,X&&X.ref,$e,q||X,!q):pt==null&&X&&X.ref!=null&&Fc(X.ref,null,$e,X,!0)},H=(X,q,be,Ce)=>{if(X==null)s(q.el=g(q.children),be,Ce);else{const Ae=q.el=X.el;q.children!==X.children&&b(Ae,q.children)}},N=(X,q,be,Ce)=>{X==null?s(q.el=y(q.children||""),be,Ce):q.el=X.el},L=(X,q,be,Ce)=>{[X.el,X.anchor]=D(X.children,q,be,Ce,X.el,X.anchor)},M=({el:X,anchor:q},be,Ce)=>{let Ae;for(;X&&X!==q;)Ae=C(X),s(X,be,Ce),X=Ae;s(q,be,Ce)},A=({el:X,anchor:q})=>{let be;for(;X&&X!==q;)be=C(X),c(X),X=be;c(q)},z=(X,q,be,Ce,Ae,$e,Xe,Ue,ze)=>{if(q.type==="svg"?Xe="svg":q.type==="math"&&(Xe="mathml"),X==null)Z(q,be,Ce,Ae,$e,Xe,Ue,ze);else{const Be=X.el&&X.el._isVueCE?X.el:null;try{Be&&Be._beginPatch(),W(X,q,Ae,$e,Xe,Ue,ze)}finally{Be&&Be._endPatch()}}},Z=(X,q,be,Ce,Ae,$e,Xe,Ue)=>{let ze,Be;const{props:pt,shapeFlag:Qe,transition:Ie,dirs:yt}=X;if(ze=X.el=f(X.type,$e,pt&&pt.is,pt),Qe&8?E(ze,X.children):Qe&16&&ee(X.children,ze,null,Ce,Ae,ab(X,$e),Xe,Ue),yt&&Do(X,null,Ce,"created"),te(ze,X,X.scopeId,Xe,Ce),pt){for(const Nt in pt)Nt!=="value"&&!xa(Nt)&&d(ze,Nt,null,pt[Nt],$e,Ce);"value"in pt&&d(ze,"value",null,pt.value,$e),(Be=pt.onVnodeBeforeMount)&&vi(Be,Ce,X)}yt&&Do(X,null,Ce,"beforeMount");const $t=DP(Ae,Ie);$t&&Ie.beforeEnter(ze),s(ze,q,be),((Be=pt&&pt.onVnodeMounted)||$t||yt)&&pr(()=>{Be&&vi(Be,Ce,X),$t&&Ie.enter(ze),yt&&Do(X,null,Ce,"mounted")},Ae)},te=(X,q,be,Ce,Ae)=>{if(be&&T(X,be),Ce)for(let $e=0;$e<Ce.length;$e++)T(X,Ce[$e]);if(Ae){let $e=Ae.subTree;if(q===$e||Hm($e.type)&&($e.ssContent===q||$e.ssFallback===q)){const Xe=Ae.vnode;te(X,Xe,Xe.scopeId,Xe.slotScopeIds,Ae.parent)}}},ee=(X,q,be,Ce,Ae,$e,Xe,Ue,ze=0)=>{for(let Be=ze;Be<X.length;Be++){const pt=X[Be]=Ue?bs(X[Be]):yi(X[Be]);$(null,pt,q,be,Ce,Ae,$e,Xe,Ue)}},W=(X,q,be,Ce,Ae,$e,Xe)=>{const Ue=q.el=X.el;let{patchFlag:ze,dynamicChildren:Be,dirs:pt}=q;ze|=X.patchFlag&16;const Qe=X.props||nn,Ie=q.props||nn;let yt;if(be&&sl(be,!1),(yt=Ie.onVnodeBeforeUpdate)&&vi(yt,be,q,X),pt&&Do(q,X,be,"beforeUpdate"),be&&sl(be,!0),(Qe.innerHTML&&Ie.innerHTML==null||Qe.textContent&&Ie.textContent==null)&&E(Ue,""),Be?Q(X.dynamicChildren,Be,Ue,be,Ce,ab(q,Ae),$e):Xe||fe(X,q,Ue,null,be,Ce,ab(q,Ae),$e,!1),ze>0){if(ze&16)oe(Ue,Qe,Ie,be,Ae);else if(ze&2&&Qe.class!==Ie.class&&d(Ue,"class",null,Ie.class,Ae),ze&4&&d(Ue,"style",Qe.style,Ie.style,Ae),ze&8){const $t=q.dynamicProps;for(let Nt=0;Nt<$t.length;Nt++){const de=$t[Nt],me=Qe[de],ge=Ie[de];(ge!==me||de==="value")&&d(Ue,de,me,ge,Ae,be)}}ze&1&&X.children!==q.children&&E(Ue,q.children)}else!Xe&&Be==null&&oe(Ue,Qe,Ie,be,Ae);((yt=Ie.onVnodeUpdated)||pt)&&pr(()=>{yt&&vi(yt,be,q,X),pt&&Do(q,X,be,"updated")},Ce)},Q=(X,q,be,Ce,Ae,$e,Xe)=>{for(let Ue=0;Ue<q.length;Ue++){const ze=X[Ue],Be=q[Ue],pt=ze.el&&(ze.type===rn||!ho(ze,Be)||ze.shapeFlag&198)?w(ze.el):be;$(ze,Be,pt,null,Ce,Ae,$e,Xe,!0)}},oe=(X,q,be,Ce,Ae)=>{if(q!==be){if(q!==nn)for(const $e in q)!xa($e)&&!($e in be)&&d(X,$e,q[$e],null,Ae,Ce);for(const $e in be){if(xa($e))continue;const Xe=be[$e],Ue=q[$e];Xe!==Ue&&$e!=="value"&&d(X,$e,Ue,Xe,Ae,Ce)}"value"in be&&d(X,"value",q.value,be.value,Ae)}},re=(X,q,be,Ce,Ae,$e,Xe,Ue,ze)=>{const Be=q.el=X?X.el:g(""),pt=q.anchor=X?X.anchor:g("");let{patchFlag:Qe,dynamicChildren:Ie,slotScopeIds:yt}=q;yt&&(Ue=Ue?Ue.concat(yt):yt),X==null?(s(Be,be,Ce),s(pt,be,Ce),ee(q.children||[],be,pt,Ae,$e,Xe,Ue,ze)):Qe>0&&Qe&64&&Ie&&X.dynamicChildren&&X.dynamicChildren.length===Ie.length?(Q(X.dynamicChildren,Ie,be,Ae,$e,Xe,Ue),(q.key!=null||Ae&&q===Ae.subTree)&&o1(X,q,!0)):fe(X,q,be,pt,Ae,$e,Xe,Ue,ze)},J=(X,q,be,Ce,Ae,$e,Xe,Ue,ze)=>{q.slotScopeIds=Ue,X==null?q.shapeFlag&512?Ae.ctx.activate(q,be,Ce,Xe,ze):ce(q,be,Ce,Ae,$e,Xe,ze):ue(X,q,ze)},ce=(X,q,be,Ce,Ae,$e,Xe)=>{const Ue=X.component=GP(X,Ce,Ae);if(Fd(X)&&(Ue.ctx.renderer=De),KP(Ue,!1,Xe),Ue.asyncDep){if(Ae&&Ae.registerDep(Ue,le,Xe),!X.el){const ze=Ue.subTree=we(cr);N(null,ze,q,be),X.placeholder=ze.el}}else le(Ue,X,q,be,Ae,$e,Xe)},ue=(X,q,be)=>{const Ce=q.component=X.component;if(LL(X,q,be))if(Ce.asyncDep&&!Ce.asyncResolved){ve(Ce,q,be);return}else Ce.next=q,Ce.update();else q.el=X.el,Ce.vnode=q},le=(X,q,be,Ce,Ae,$e,Xe)=>{const Ue=()=>{if(X.isMounted){let{next:Qe,bu:Ie,u:yt,parent:$t,vnode:Nt}=X;{const Je=IP(X);if(Je){Qe&&(Qe.el=Nt.el,ve(X,Qe,Xe)),Je.asyncDep.then(()=>{X.isUnmounted||Ue()});return}}let de=Qe,me;sl(X,!1),Qe?(Qe.el=Nt.el,ve(X,Qe,Xe)):Qe=Nt,Ie&&El(Ie),(me=Qe.props&&Qe.props.onVnodeBeforeUpdate)&&vi(me,$t,Qe,Nt),sl(X,!0);const ge=ym(X),Re=X.subTree;X.subTree=ge,$(Re,ge,w(Re.el),Se(Re),X,Ae,$e),Qe.el=ge.el,de===null&&Rg(X,ge.el),yt&&pr(yt,Ae),(me=Qe.props&&Qe.props.onVnodeUpdated)&&pr(()=>vi(me,$t,Qe,Nt),Ae)}else{let Qe;const{el:Ie,props:yt}=q,{bm:$t,m:Nt,parent:de,root:me,type:ge}=X,Re=Ea(q);if(sl(X,!1),$t&&El($t),!Re&&(Qe=yt&&yt.onVnodeBeforeMount)&&vi(Qe,de,q),sl(X,!0),Ie&&St){const Je=()=>{X.subTree=ym(X),St(Ie,X.subTree,X,Ae,null)};Re&&ge.__asyncHydrate?ge.__asyncHydrate(Ie,X,Je):Je()}else{me.ce&&me.ce._def.shadowRoot!==!1&&me.ce._injectChildStyle(ge);const Je=X.subTree=ym(X);$(null,Je,be,Ce,X,Ae,$e),q.el=Je.el}if(Nt&&pr(Nt,Ae),!Re&&(Qe=yt&&yt.onVnodeMounted)){const Je=q;pr(()=>vi(Qe,de,Je),Ae)}(q.shapeFlag&256||de&&Ea(de.vnode)&&de.vnode.shapeFlag&256)&&X.a&&pr(X.a,Ae),X.isMounted=!0,q=be=Ce=null}};X.scope.on();const ze=X.effect=new ad(Ue);X.scope.off();const Be=X.update=ze.run.bind(ze),pt=X.job=ze.runIfDirty.bind(ze);pt.i=X,pt.id=X.uid,ze.scheduler=()=>Xx(pt),sl(X,!0),Be()},ve=(X,q,be)=>{q.component=X;const Ce=X.vnode.props;X.vnode=q,X.next=null,BL(X,q.props,Ce,be),HL(X,q.children,be),Aa(),MT(X),Ra()},fe=(X,q,be,Ce,Ae,$e,Xe,Ue,ze=!1)=>{const Be=X&&X.children,pt=X?X.shapeFlag:0,Qe=q.children,{patchFlag:Ie,shapeFlag:yt}=q;if(Ie>0){if(Ie&128){Te(Be,Qe,be,Ce,Ae,$e,Xe,Ue,ze);return}else if(Ie&256){pe(Be,Qe,be,Ce,Ae,$e,Xe,Ue,ze);return}}yt&8?(pt&16&&Kt(Be,Ae,$e),Qe!==Be&&E(be,Qe)):pt&16?yt&16?Te(Be,Qe,be,Ce,Ae,$e,Xe,Ue,ze):Kt(Be,Ae,$e,!0):(pt&8&&E(be,""),yt&16&&ee(Qe,be,Ce,Ae,$e,Xe,Ue,ze))},pe=(X,q,be,Ce,Ae,$e,Xe,Ue,ze)=>{X=X||bl,q=q||bl;const Be=X.length,pt=q.length,Qe=Math.min(Be,pt);let Ie;for(Ie=0;Ie<Qe;Ie++){const yt=q[Ie]=ze?bs(q[Ie]):yi(q[Ie]);$(X[Ie],yt,be,null,Ae,$e,Xe,Ue,ze)}Be>pt?Kt(X,Ae,$e,!0,!1,Qe):ee(q,be,Ce,Ae,$e,Xe,Ue,ze,Qe)},Te=(X,q,be,Ce,Ae,$e,Xe,Ue,ze)=>{let Be=0;const pt=q.length;let Qe=X.length-1,Ie=pt-1;for(;Be<=Qe&&Be<=Ie;){const yt=X[Be],$t=q[Be]=ze?bs(q[Be]):yi(q[Be]);if(ho(yt,$t))$(yt,$t,be,null,Ae,$e,Xe,Ue,ze);else break;Be++}for(;Be<=Qe&&Be<=Ie;){const yt=X[Qe],$t=q[Ie]=ze?bs(q[Ie]):yi(q[Ie]);if(ho(yt,$t))$(yt,$t,be,null,Ae,$e,Xe,Ue,ze);else break;Qe--,Ie--}if(Be>Qe){if(Be<=Ie){const yt=Ie+1,$t=yt<pt?q[yt].el:Ce;for(;Be<=Ie;)$(null,q[Be]=ze?bs(q[Be]):yi(q[Be]),be,$t,Ae,$e,Xe,Ue,ze),Be++}}else if(Be>Ie)for(;Be<=Qe;)Ye(X[Be],Ae,$e,!0),Be++;else{const yt=Be,$t=Be,Nt=new Map;for(Be=$t;Be<=Ie;Be++){const gt=q[Be]=ze?bs(q[Be]):yi(q[Be]);gt.key!=null&&Nt.set(gt.key,Be)}let de,me=0;const ge=Ie-$t+1;let Re=!1,Je=0;const Ke=new Array(ge);for(Be=0;Be<ge;Be++)Ke[Be]=0;for(Be=yt;Be<=Qe;Be++){const gt=X[Be];if(me>=ge){Ye(gt,Ae,$e,!0);continue}let We;if(gt.key!=null)We=Nt.get(gt.key);else for(de=$t;de<=Ie;de++)if(Ke[de-$t]===0&&ho(gt,q[de])){We=de;break}We===void 0?Ye(gt,Ae,$e,!0):(Ke[We-$t]=Be+1,We>=Je?Je=We:Re=!0,$(gt,q[We],be,null,Ae,$e,Xe,Ue,ze),me++)}const kt=Re?UL(Ke):bl;for(de=kt.length-1,Be=ge-1;Be>=0;Be--){const gt=$t+Be,We=q[gt],_t=q[gt+1],ct=gt+1<pt?_t.el||LP(_t):Ce;Ke[Be]===0?$(null,We,be,ct,Ae,$e,Xe,Ue,ze):Re&&(de<0||Be!==kt[de]?ot(We,be,ct,2):de--)}}},ot=(X,q,be,Ce,Ae=null)=>{const{el:$e,type:Xe,transition:Ue,children:ze,shapeFlag:Be}=X;if(Be&6){ot(X.component.subTree,q,be,Ce);return}if(Be&128){X.suspense.move(q,be,Ce);return}if(Be&64){Xe.move(X,q,be,De);return}if(Xe===rn){s($e,q,be);for(let Qe=0;Qe<ze.length;Qe++)ot(ze[Qe],q,be,Ce);s(X.anchor,q,be);return}if(Xe===Tl){M(X,q,be);return}if(Ce!==2&&Be&1&&Ue)if(Ce===0)Ue.beforeEnter($e),s($e,q,be),pr(()=>Ue.enter($e),Ae);else{const{leave:Qe,delayLeave:Ie,afterLeave:yt}=Ue,$t=()=>{X.ctx.isUnmounted?c($e):s($e,q,be)},Nt=()=>{$e._isLeaving&&$e[ha](!0),Qe($e,()=>{$t(),yt&&yt()})};Ie?Ie($e,$t,Nt):Nt()}else s($e,q,be)},Ye=(X,q,be,Ce=!1,Ae=!1)=>{const{type:$e,props:Xe,ref:Ue,children:ze,dynamicChildren:Be,shapeFlag:pt,patchFlag:Qe,dirs:Ie,cacheIndex:yt}=X;if(Qe===-2&&(Ae=!1),Ue!=null&&(Aa(),Fc(Ue,null,be,X,!0),Ra()),yt!=null&&(q.renderCache[yt]=void 0),pt&256){q.ctx.deactivate(X);return}const $t=pt&1&&Ie,Nt=!Ea(X);let de;if(Nt&&(de=Xe&&Xe.onVnodeBeforeUnmount)&&vi(de,q,X),pt&6)Wt(X.component,be,Ce);else{if(pt&128){X.suspense.unmount(be,Ce);return}$t&&Do(X,null,q,"beforeUnmount"),pt&64?X.type.remove(X,q,be,De,Ce):Be&&!Be.hasOnce&&($e!==rn||Qe>0&&Qe&64)?Kt(Be,q,be,!1,!0):($e===rn&&Qe&384||!Ae&&pt&16)&&Kt(ze,q,be),Ce&&ie(X)}(Nt&&(de=Xe&&Xe.onVnodeUnmounted)||$t)&&pr(()=>{de&&vi(de,q,X),$t&&Do(X,null,q,"unmounted")},be)},ie=X=>{const{type:q,el:be,anchor:Ce,transition:Ae}=X;if(q===rn){Xt(be,Ce);return}if(q===Tl){A(X);return}const $e=()=>{c(be),Ae&&!Ae.persisted&&Ae.afterLeave&&Ae.afterLeave()};if(X.shapeFlag&1&&Ae&&!Ae.persisted){const{leave:Xe,delayLeave:Ue}=Ae,ze=()=>Xe(be,$e);Ue?Ue(X.el,$e,ze):ze()}else $e()},Xt=(X,q)=>{let be;for(;X!==q;)be=C(X),c(X),X=be;c(q)},Wt=(X,q,be)=>{const{bum:Ce,scope:Ae,job:$e,subTree:Xe,um:Ue,m:ze,a:Be}=X;Vm(ze),Vm(Be),Ce&&El(Ce),Ae.stop(),$e&&($e.flags|=8,Ye(Xe,X,q,be)),Ue&&pr(Ue,q),pr(()=>{X.isUnmounted=!0},q)},Kt=(X,q,be,Ce=!1,Ae=!1,$e=0)=>{for(let Xe=$e;Xe<X.length;Xe++)Ye(X[Xe],q,be,Ce,Ae)},Se=X=>{if(X.shapeFlag&6)return Se(X.component.subTree);if(X.shapeFlag&128)return X.suspense.next();const q=C(X.anchor||X.el),be=q&&q[eP];return be?C(be):q};let ke=!1;const he=(X,q,be)=>{let Ce;X==null?q._vnode&&(Ye(q._vnode,null,null,!0),Ce=q._vnode.component):$(q._vnode||null,X,q,null,null,null,be),q._vnode=X,ke||(ke=!0,MT(Ce),Bm(),ke=!1)},De={p:$,um:Ye,m:ot,r:ie,mt:ce,mc:ee,pc:fe,pbc:Q,n:Se,o:t};let at,St;return r&&([at,St]=r(De)),{render:he,hydrate:at,createApp:RL(he,at)}}function ab({type:t,props:r},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:i}function sl({effect:t,job:r},i){i?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function DP(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function o1(t,r,i=!1){const s=t.children,c=r.children;if(it(s)&&it(c))for(let d=0;d<s.length;d++){const f=s[d];let g=c[d];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=c[d]=bs(c[d]),g.el=f.el),!i&&g.patchFlag!==-2&&o1(f,g)),g.type===Rs&&(g.patchFlag!==-1?g.el=f.el:g.__elIndex=d+(t.type===rn?1:0)),g.type===cr&&!g.el&&(g.el=f.el)}}function UL(t){const r=t.slice(),i=[0];let s,c,d,f,g;const y=t.length;for(s=0;s<y;s++){const b=t[s];if(b!==0){if(c=i[i.length-1],t[c]<b){r[s]=c,i.push(s);continue}for(d=0,f=i.length-1;d<f;)g=d+f>>1,t[i[g]]<b?d=g+1:f=g;b<t[i[d]]&&(d>0&&(r[s]=i[d-1]),i[d]=s)}}for(d=i.length,f=i[d-1];d-- >0;)i[d]=f,f=r[f];return i}function IP(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:IP(r)}function Vm(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}function LP(t){if(t.placeholder)return t.placeholder;const r=t.component;return r?LP(r.subTree):null}const Hm=t=>t.__isSuspense;let ex=0;const zL={name:"Suspense",__isSuspense:!0,process(t,r,i,s,c,d,f,g,y,b){if(t==null)WL(r,i,s,c,d,f,g,y,b);else{if(d&&d.deps>0&&!t.suspense.isInFallback){r.suspense=t.suspense,r.suspense.vnode=r,r.el=t.el;return}KL(t,r,i,s,c,f,g,y,b)}},hydrate:XL,normalize:YL},GL=zL;function hd(t,r){const i=t.props&&t.props[r];wt(i)&&i()}function WL(t,r,i,s,c,d,f,g,y){const{p:b,o:{createElement:E}}=y,w=E("div"),C=t.suspense=$P(t,c,s,r,w,i,d,f,g,y);b(null,C.pendingBranch=t.ssContent,w,null,s,C,d,f),C.deps>0?(hd(t,"onPending"),hd(t,"onFallback"),b(null,t.ssFallback,r,i,s,null,d,f),jc(C,t.ssFallback)):C.resolve(!1,!0)}function KL(t,r,i,s,c,d,f,g,{p:y,um:b,o:{createElement:E}}){const w=r.suspense=t.suspense;w.vnode=r,r.el=t.el;const C=r.ssContent,T=r.ssFallback,{activeBranch:D,pendingBranch:$,isInFallback:H,isHydrating:N}=w;if($)w.pendingBranch=C,ho($,C)?(y($,C,w.hiddenContainer,null,c,w,d,f,g),w.deps<=0?w.resolve():H&&(N||(y(D,T,i,s,c,null,d,f,g),jc(w,T)))):(w.pendingId=ex++,N?(w.isHydrating=!1,w.activeBranch=$):b($,c,w),w.deps=0,w.effects.length=0,w.hiddenContainer=E("div"),H?(y(null,C,w.hiddenContainer,null,c,w,d,f,g),w.deps<=0?w.resolve():(y(D,T,i,s,c,null,d,f,g),jc(w,T))):D&&ho(D,C)?(y(D,C,i,s,c,w,d,f,g),w.resolve(!0)):(y(null,C,w.hiddenContainer,null,c,w,d,f,g),w.deps<=0&&w.resolve()));else if(D&&ho(D,C))y(D,C,i,s,c,w,d,f,g),jc(w,C);else if(hd(r,"onPending"),w.pendingBranch=C,C.shapeFlag&512?w.pendingId=C.component.suspenseId:w.pendingId=ex++,y(null,C,w.hiddenContainer,null,c,w,d,f,g),w.deps<=0)w.resolve();else{const{timeout:L,pendingId:M}=w;L>0?setTimeout(()=>{w.pendingId===M&&w.fallback(T)},L):L===0&&w.fallback(T)}}function $P(t,r,i,s,c,d,f,g,y,b,E=!1){const{p:w,m:C,um:T,n:D,o:{parentNode:$,remove:H}}=b;let N;const L=ZL(t);L&&r&&r.pendingBranch&&(N=r.pendingId,r.deps++);const M=t.props?od(t.props.timeout):void 0,A=d,z={vnode:t,parent:r,parentComponent:i,namespace:f,container:s,hiddenContainer:c,deps:0,pendingId:ex++,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!E,isHydrating:E,isUnmounted:!1,effects:[],resolve(Z=!1,te=!1){const{vnode:ee,activeBranch:W,pendingBranch:Q,pendingId:oe,effects:re,parentComponent:J,container:ce,isInFallback:ue}=z;let le=!1;z.isHydrating?z.isHydrating=!1:Z||(le=W&&Q.transition&&Q.transition.mode==="out-in",le&&(W.transition.afterLeave=()=>{oe===z.pendingId&&(C(Q,ce,d===A?D(W):d,0),cd(re),ue&&ee.ssFallback&&(ee.ssFallback.el=null))}),W&&($(W.el)===ce&&(d=D(W)),T(W,J,z,!0),!le&&ue&&ee.ssFallback&&pr(()=>ee.ssFallback.el=null,z)),le||C(Q,ce,d,0)),jc(z,Q),z.pendingBranch=null,z.isInFallback=!1;let ve=z.parent,fe=!1;for(;ve;){if(ve.pendingBranch){ve.effects.push(...re),fe=!0;break}ve=ve.parent}!fe&&!le&&cd(re),z.effects=[],L&&r&&r.pendingBranch&&N===r.pendingId&&(r.deps--,r.deps===0&&!te&&r.resolve()),hd(ee,"onResolve")},fallback(Z){if(!z.pendingBranch)return;const{vnode:te,activeBranch:ee,parentComponent:W,container:Q,namespace:oe}=z;hd(te,"onFallback");const re=D(ee),J=()=>{z.isInFallback&&(w(null,Z,Q,re,W,null,oe,g,y),jc(z,Z))},ce=Z.transition&&Z.transition.mode==="out-in";ce&&(ee.transition.afterLeave=J),z.isInFallback=!0,T(ee,W,null,!0),ce||J()},move(Z,te,ee){z.activeBranch&&C(z.activeBranch,Z,te,ee),z.container=Z},next(){return z.activeBranch&&D(z.activeBranch)},registerDep(Z,te,ee){const W=!!z.pendingBranch;W&&z.deps++;const Q=Z.vnode.el;Z.asyncDep.catch(oe=>{Hl(oe,Z,0)}).then(oe=>{if(Z.isUnmounted||z.isUnmounted||z.pendingId!==Z.suspenseId)return;Z.asyncResolved=!0;const{vnode:re}=Z;rx(Z,oe,!1),Q&&(re.el=Q);const J=!Q&&Z.subTree.el;te(Z,re,$(Q||Z.subTree.el),Q?null:D(Z.subTree),z,f,ee),J&&(re.placeholder=null,H(J)),Rg(Z,re.el),W&&--z.deps===0&&z.resolve()})},unmount(Z,te){z.isUnmounted=!0,z.activeBranch&&T(z.activeBranch,i,Z,te),z.pendingBranch&&T(z.pendingBranch,i,Z,te)}};return z}function XL(t,r,i,s,c,d,f,g,y){const b=r.suspense=$P(r,s,i,t.parentNode,document.createElement("div"),null,c,d,f,g,!0),E=y(t,b.pendingBranch=r.ssContent,i,b,d,f);return b.deps===0&&b.resolve(!1,!0),E}function YL(t){const{shapeFlag:r,children:i}=t,s=r&32;t.ssContent=KT(s?i.default:i),t.ssFallback=s?KT(i.fallback):we(cr)}function KT(t){let r;if(wt(t)){const i=Nl&&t._c;i&&(t._d=!1,Le()),t=t(),i&&(t._d=!0,r=Yr,FP())}return it(t)&&(t=ML(t)),t=yi(t),r&&!t.dynamicChildren&&(t.dynamicChildren=r.filter(i=>i!==t)),t}function BP(t,r){r&&r.pendingBranch?it(t)?r.effects.push(...t):r.effects.push(t):cd(t)}function jc(t,r){t.activeBranch=r;const{vnode:i,parentComponent:s}=t;let c=r.el;for(;!c&&r.component;)r=r.component.subTree,c=r.el;i.el=c,s&&s.subTree===i&&(s.vnode.el=c,Rg(s,c))}function ZL(t){const r=t.props&&t.props.suspensible;return r!=null&&r!==!1}const rn=Symbol.for("v-fgt"),Rs=Symbol.for("v-txt"),cr=Symbol.for("v-cmt"),Tl=Symbol.for("v-stc"),Kf=[];let Yr=null;function Le(t=!1){Kf.push(Yr=t?null:[])}function FP(){Kf.pop(),Yr=Kf[Kf.length-1]||null}let Nl=1;function md(t,r=!1){Nl+=t,t<0&&Yr&&r&&(Yr.hasOnce=!0)}function jP(t){return t.dynamicChildren=Nl>0?Yr||bl:null,FP(),Nl>0&&Yr&&Yr.push(t),t}function Ge(t,r,i,s,c,d){return jP(G(t,r,i,s,c,d,!0))}function Gn(t,r,i,s,c){return jP(we(t,r,i,s,c,!0))}function Na(t){return t?t.__v_isVNode===!0:!1}function ho(t,r){return t.type===r.type&&t.key===r.key}function JL(t){}const VP=({key:t})=>t??null,bm=({ref:t,ref_key:r,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?Pt(t)||jn(t)||wt(t)?{i:Br,r:t,k:r,f:!!i}:t:null);function G(t,r=null,i=null,s=0,c=null,d=t===rn?0:1,f=!1,g=!1){const y={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&VP(r),ref:r&&bm(r),scopeId:Eg,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:s,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Br};return g?(a1(y,i),d&128&&t.normalize(y)):i&&(y.shapeFlag|=Pt(i)?8:16),Nl>0&&!f&&Yr&&(y.patchFlag>0||d&6)&&y.patchFlag!==32&&Yr.push(y),y}const we=QL;function QL(t,r=null,i=null,s=0,c=null,d=!1){if((!t||t===vP)&&(t=cr),Na(t)){const g=Vo(t,r,!0);return i&&a1(g,i),Nl>0&&!d&&Yr&&(g.shapeFlag&6?Yr[Yr.indexOf(t)]=g:Yr.push(g)),g.patchFlag=-2,g}if(o8(t)&&(t=t.__vccOpts),r){r=HP(r);let{class:g,style:y}=r;g&&!Pt(g)&&(r.class=Tt(g)),hn(y)&&($d(y)&&!it(y)&&(y=qt({},y)),r.style=mr(y))}const f=Pt(t)?1:Hm(t)?128:tP(t)?64:hn(t)?4:wt(t)?2:0;return G(t,r,i,s,c,f,d,!0)}function HP(t){return t?$d(t)||CP(t)?qt({},t):t:null}function Vo(t,r,i=!1,s=!1){const{props:c,ref:d,patchFlag:f,children:g,transition:y}=t,b=r?zP(c||{},r):c,E={__v_isVNode:!0,__v_skip:!0,type:t.type,props:b,key:b&&VP(b),ref:r&&r.ref?i&&d?it(d)?d.concat(bm(r)):[d,bm(r)]:bm(r):d,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:g,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==rn?f===-1?16:f|16:f,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:y,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vo(t.ssContent),ssFallback:t.ssFallback&&Vo(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return y&&s&&Pa(E,y.clone(E)),E}function Ut(t=" ",r=0){return we(Rs,null,t,r)}function UP(t,r){const i=we(Tl,null,t);return i.staticCount=r,i}function cn(t="",r=!1){return r?(Le(),Gn(cr,null,t)):we(cr,null,t)}function yi(t){return t==null||typeof t=="boolean"?we(cr):it(t)?we(rn,null,t.slice()):Na(t)?bs(t):we(Rs,null,String(t))}function bs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vo(t)}function a1(t,r){let i=0;const{shapeFlag:s}=t;if(r==null)r=null;else if(it(r))i=16;else if(typeof r=="object")if(s&65){const c=r.default;c&&(c._c&&(c._d=!1),a1(t,c()),c._c&&(c._d=!0));return}else{i=32;const c=r._;!c&&!CP(r)?r._ctx=Br:c===3&&Br&&(Br.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else wt(r)?(r={default:r,_ctx:Br},i=32):(r=String(r),s&64?(i=16,r=[Ut(r)]):i=8);t.children=r,t.shapeFlag|=i}function zP(...t){const r={};for(let i=0;i<t.length;i++){const s=t[i];for(const c in s)if(c==="class")r.class!==s.class&&(r.class=Tt([r.class,s.class]));else if(c==="style")r.style=mr([r.style,s.style]);else if(Ls(c)){const d=r[c],f=s[c];f&&d!==f&&!(it(d)&&d.includes(f))&&(r[c]=d?[].concat(d,f):f)}else c!==""&&(r[c]=s[c])}return r}function vi(t,r,i,s=null){eo(t,r,7,[i,s])}const qL=xP();let e8=0;function GP(t,r,i){const s=t.type,c=(r?r.appContext:t.appContext)||qL,d={uid:e8++,vnode:t,type:s,parent:r,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(c.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kP(s,c),emitsOptions:EP(s,c),emit:null,emitted:null,propsDefaults:nn,inheritAttrs:s.inheritAttrs,ctx:nn,data:nn,props:nn,attrs:nn,slots:nn,refs:nn,setupState:nn,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=r?r.root:d,d.emit=NL.bind(null,d),t.ce&&t.ce(d),d}let $r=null;const ci=()=>$r||Br;let Um,tx;{const t=Id(),r=(i,s)=>{let c;return(c=t[i])||(c=t[i]=[]),c.push(s),d=>{c.length>1?c.forEach(f=>f(d)):c[0](d)}};Um=r("__VUE_INSTANCE_SETTERS__",i=>$r=i),tx=r("__VUE_SSR_SETTERS__",i=>Wc=i)}const Ol=t=>{const r=$r;return Um(t),t.scope.on(),()=>{t.scope.off(),Um(r)}},nx=()=>{$r&&$r.scope.off(),Um(null)};function WP(t){return t.vnode.shapeFlag&4}let Wc=!1;function KP(t,r=!1,i=!1){r&&tx(r);const{props:s,children:c}=t.vnode,d=WP(t);$L(t,s,d,r),VL(t,c,i||r);const f=d?t8(t,r):void 0;return r&&tx(!1),f}function t8(t,r){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Zb);const{setup:s}=i;if(s){Aa();const c=t.setupContext=s.length>1?YP(t):null,d=Ol(t),f=su(s,t,0,[t.props,c]),g=hg(f);if(Ra(),d(),(g||t.sp)&&!Ea(t)&&Jx(t),g){if(f.then(nx,nx),r)return f.then(y=>{rx(t,y,r)}).catch(y=>{Hl(y,t,0)});t.asyncDep=f}else rx(t,f,r)}else XP(t,r)}function rx(t,r,i){wt(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:hn(r)&&(t.setupState=Kx(r)),XP(t,i)}let zm,ix;function n8(t){zm=t,ix=r=>{r.render._rc&&(r.withProxy=new Proxy(r.ctx,cL))}}const r8=()=>!zm;function XP(t,r,i){const s=t.type;if(!t.render){if(!r&&zm&&!s.render){const c=s.template||n1(t).template;if(c){const{isCustomElement:d,compilerOptions:f}=t.appContext.config,{delimiters:g,compilerOptions:y}=s,b=qt(qt({isCustomElement:d,delimiters:g},f),y);s.render=zm(c,b)}}t.render=s.render||Tr,ix&&ix(t)}{const c=Ol(t);Aa();try{wL(t)}finally{Ra(),c()}}}const i8={get(t,r){return Wr(t,"get",""),t[r]}};function YP(t){const r=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,i8),slots:t.slots,emit:t.emit,expose:r}}function jd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Kx(_g(t.exposed)),{get(r,i){if(i in r)return r[i];if(i in Wf)return Wf[i](t)},has(r,i){return i in r||i in Wf}})):t.proxy}function ox(t,r=!0){return wt(t)?t.displayName||t.name:t.name||r&&t.__name}function o8(t){return wt(t)&&"__vccOpts"in t}const Mn=(t,r)=>_6(t,r,Wc);function Ml(t,r,i){try{md(-1);const s=arguments.length;return s===2?hn(r)&&!it(r)?Na(r)?we(t,null,[r]):we(t,r):we(t,null,r):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&Na(i)&&(i=[i]),we(t,r,i))}finally{md(1)}}function a8(){}function s8(t,r,i,s){const c=i[s];if(c&&ZP(c,t))return c;const d=r();return d.memo=t.slice(),d.cacheIndex=s,i[s]=d}function ZP(t,r){const i=t.memo;if(i.length!=r.length)return!1;for(let s=0;s<i.length;s++)if(Gr(i[s],r[s]))return!1;return Nl>0&&Yr&&Yr.push(t),!0}const JP="3.5.26",l8=Tr,c8=P6,u8=Mc,f8=XR,d8={createComponentInstance:GP,setupComponent:KP,renderComponentRoot:ym,setCurrentRenderingInstance:fd,isVNode:Na,normalizeVNode:yi,getComponentPublicInstance:jd,ensureValidVNode:t1,pushWarningContext:T6,popWarningContext:k6},p8=d8,h8=null,m8=null,g8=null;let ax;const XT=typeof window<"u"&&window.trustedTypes;if(XT)try{ax=XT.createPolicy("vue",{createHTML:t=>t})}catch{}const QP=ax?t=>ax.createHTML(t):t=>t,v8="http://www.w3.org/2000/svg",y8="http://www.w3.org/1998/Math/MathML",pa=typeof document<"u"?document:null,YT=pa&&pa.createElement("template"),qP={insert:(t,r,i)=>{r.insertBefore(t,i||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,i,s)=>{const c=r==="svg"?pa.createElementNS(v8,t):r==="mathml"?pa.createElementNS(y8,t):i?pa.createElement(t,{is:i}):pa.createElement(t);return t==="select"&&s&&s.multiple!=null&&c.setAttribute("multiple",s.multiple),c},createText:t=>pa.createTextNode(t),createComment:t=>pa.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pa.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,i,s,c,d){const f=i?i.previousSibling:r.lastChild;if(c&&(c===d||c.nextSibling))for(;r.insertBefore(c.cloneNode(!0),i),!(c===d||!(c=c.nextSibling)););else{YT.innerHTML=QP(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const g=YT.content;if(s==="svg"||s==="mathml"){const y=g.firstChild;for(;y.firstChild;)g.appendChild(y.firstChild);g.removeChild(y)}r.insertBefore(g,i)}return[f?f.nextSibling:r.firstChild,i?i.previousSibling:r.lastChild]}},fs="transition",Sf="animation",Kc=Symbol("_vtc"),e5={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},t5=qt({},Zx,e5),b8=t=>(t.displayName="Transition",t.props=t5,t),n5=b8((t,{slots:r})=>Ml(aP,r5(t),r)),ll=(t,r=[])=>{it(t)?t.forEach(i=>i(...r)):t&&t(...r)},ZT=t=>t?it(t)?t.some(r=>r.length>1):t.length>1:!1;function r5(t){const r={};for(const re in t)re in e5||(r[re]=t[re]);if(t.css===!1)return r;const{name:i="v",type:s,duration:c,enterFromClass:d=`${i}-enter-from`,enterActiveClass:f=`${i}-enter-active`,enterToClass:g=`${i}-enter-to`,appearFromClass:y=d,appearActiveClass:b=f,appearToClass:E=g,leaveFromClass:w=`${i}-leave-from`,leaveActiveClass:C=`${i}-leave-active`,leaveToClass:T=`${i}-leave-to`}=t,D=x8(c),$=D&&D[0],H=D&&D[1],{onBeforeEnter:N,onEnter:L,onEnterCancelled:M,onLeave:A,onLeaveCancelled:z,onBeforeAppear:Z=N,onAppear:te=L,onAppearCancelled:ee=M}=r,W=(re,J,ce,ue)=>{re._enterCancelled=ue,hs(re,J?E:g),hs(re,J?b:f),ce&&ce()},Q=(re,J)=>{re._isLeaving=!1,hs(re,w),hs(re,T),hs(re,C),J&&J()},oe=re=>(J,ce)=>{const ue=re?te:L,le=()=>W(J,re,ce);ll(ue,[J,le]),JT(()=>{hs(J,re?y:d),Oo(J,re?E:g),ZT(ue)||QT(J,s,$,le)})};return qt(r,{onBeforeEnter(re){ll(N,[re]),Oo(re,d),Oo(re,f)},onBeforeAppear(re){ll(Z,[re]),Oo(re,y),Oo(re,b)},onEnter:oe(!1),onAppear:oe(!0),onLeave(re,J){re._isLeaving=!0;const ce=()=>Q(re,J);Oo(re,w),re._enterCancelled?(Oo(re,C),sx(re)):(sx(re),Oo(re,C)),JT(()=>{re._isLeaving&&(hs(re,w),Oo(re,T),ZT(A)||QT(re,s,H,ce))}),ll(A,[re,ce])},onEnterCancelled(re){W(re,!1,void 0,!0),ll(M,[re])},onAppearCancelled(re){W(re,!0,void 0,!0),ll(ee,[re])},onLeaveCancelled(re){Q(re),ll(z,[re])}})}function x8(t){if(t==null)return null;if(hn(t))return[sb(t.enter),sb(t.leave)];{const r=sb(t);return[r,r]}}function sb(t){return od(t)}function Oo(t,r){r.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[Kc]||(t[Kc]=new Set)).add(r)}function hs(t,r){r.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const i=t[Kc];i&&(i.delete(r),i.size||(t[Kc]=void 0))}function JT(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let _8=0;function QT(t,r,i,s){const c=t._endId=++_8,d=()=>{c===t._endId&&s()};if(i!=null)return setTimeout(d,i);const{type:f,timeout:g,propCount:y}=i5(t,r);if(!f)return s();const b=f+"end";let E=0;const w=()=>{t.removeEventListener(b,C),d()},C=T=>{T.target===t&&++E>=y&&w()};setTimeout(()=>{E<y&&w()},g+1),t.addEventListener(b,C)}function i5(t,r){const i=window.getComputedStyle(t),s=D=>(i[D]||"").split(", "),c=s(`${fs}Delay`),d=s(`${fs}Duration`),f=qT(c,d),g=s(`${Sf}Delay`),y=s(`${Sf}Duration`),b=qT(g,y);let E=null,w=0,C=0;r===fs?f>0&&(E=fs,w=f,C=d.length):r===Sf?b>0&&(E=Sf,w=b,C=y.length):(w=Math.max(f,b),E=w>0?f>b?fs:Sf:null,C=E?E===fs?d.length:y.length:0);const T=E===fs&&/\b(?:transform|all)(?:,|$)/.test(s(`${fs}Property`).toString());return{type:E,timeout:w,propCount:C,hasTransform:T}}function qT(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((i,s)=>ek(i)+ek(t[s])))}function ek(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function sx(t){return(t?t.ownerDocument:document).body.offsetHeight}function E8(t,r,i){const s=t[Kc];s&&(r=(r?[r,...s]:[...s]).join(" ")),r==null?t.removeAttribute("class"):i?t.setAttribute("class",r):t.className=r}const Gm=Symbol("_vod"),o5=Symbol("_vsh"),Wm={name:"show",beforeMount(t,{value:r},{transition:i}){t[Gm]=t.style.display==="none"?"":t.style.display,i&&r?i.beforeEnter(t):Cf(t,r)},mounted(t,{value:r},{transition:i}){i&&r&&i.enter(t)},updated(t,{value:r,oldValue:i},{transition:s}){!r!=!i&&(s?r?(s.beforeEnter(t),Cf(t,!0),s.enter(t)):s.leave(t,()=>{Cf(t,!1)}):Cf(t,r))},beforeUnmount(t,{value:r}){Cf(t,r)}};function Cf(t,r){t.style.display=r?t[Gm]:"none",t[o5]=!r}function w8(){Wm.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const a5=Symbol("");function S8(t){const r=ci();if(!r)return;const i=r.ut=(c=t(r.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${r.uid}"]`)).forEach(d=>Km(d,c))},s=()=>{const c=t(r.proxy);r.ce?Km(r.ce,c):lx(r.subTree,c),i(c)};Qx(()=>{cd(s)}),Uo(()=>{Ei(s,Tr,{flush:"post"});const c=new MutationObserver(s);c.observe(r.subTree.el.parentNode,{childList:!0}),kg(()=>c.disconnect())})}function lx(t,r){if(t.shapeFlag&128){const i=t.suspense;t=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{lx(i.activeBranch,r)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Km(t.el,r);else if(t.type===rn)t.children.forEach(i=>lx(i,r));else if(t.type===Tl){let{el:i,anchor:s}=t;for(;i&&(Km(i,r),i!==s);)i=i.nextSibling}}function Km(t,r){if(t.nodeType===1){const i=t.style;let s="";for(const c in r){const d=ER(r[c]);i.setProperty(`--${c}`,d),s+=`--${c}: ${d};`}i[a5]=s}}const C8=/(?:^|;)\s*display\s*:/;function T8(t,r,i){const s=t.style,c=Pt(i);let d=!1;if(i&&!c){if(r)if(Pt(r))for(const f of r.split(";")){const g=f.slice(0,f.indexOf(":")).trim();i[g]==null&&xm(s,g,"")}else for(const f in r)i[f]==null&&xm(s,f,"");for(const f in i)f==="display"&&(d=!0),xm(s,f,i[f])}else if(c){if(r!==i){const f=s[a5];f&&(i+=";"+f),s.cssText=i,d=C8.test(i)}}else r&&t.removeAttribute("style");Gm in t&&(t[Gm]=d?s.display:"",t[o5]&&(s.display="none"))}const tk=/\s*!important$/;function xm(t,r,i){if(it(i))i.forEach(s=>xm(t,r,s));else if(i==null&&(i=""),r.startsWith("--"))t.setProperty(r,i);else{const s=k8(t,r);tk.test(i)?t.setProperty(Kr(s),i.replace(tk,""),"important"):t[s]=i}}const nk=["Webkit","Moz","ms"],lb={};function k8(t,r){const i=lb[r];if(i)return i;let s=kn(r);if(s!=="filter"&&s in t)return lb[r]=s;s=Bs(s);for(let c=0;c<nk.length;c++){const d=nk[c]+s;if(d in t)return lb[r]=d}return r}const rk="http://www.w3.org/1999/xlink";function ik(t,r,i,s,c,d=yR(r)){s&&r.startsWith("xlink:")?i==null?t.removeAttributeNS(rk,r.slice(6,r.length)):t.setAttributeNS(rk,r,i):i==null||d&&!Fx(i)?t.removeAttribute(r):t.setAttribute(r,d?"":li(i)?String(i):i)}function ok(t,r,i,s,c){if(r==="innerHTML"||r==="textContent"){i!=null&&(t[r]=r==="innerHTML"?QP(i):i);return}const d=t.tagName;if(r==="value"&&d!=="PROGRESS"&&!d.includes("-")){const g=d==="OPTION"?t.getAttribute("value")||"":t.value,y=i==null?t.type==="checkbox"?"on":"":String(i);(g!==y||!("_value"in t))&&(t.value=y),i==null&&t.removeAttribute(r),t._value=i;return}let f=!1;if(i===""||i==null){const g=typeof t[r];g==="boolean"?i=Fx(i):i==null&&g==="string"?(i="",f=!0):g==="number"&&(i=0,f=!0)}try{t[r]=i}catch{}f&&t.removeAttribute(c||r)}function ba(t,r,i,s){t.addEventListener(r,i,s)}function A8(t,r,i,s){t.removeEventListener(r,i,s)}const ak=Symbol("_vei");function R8(t,r,i,s,c=null){const d=t[ak]||(t[ak]={}),f=d[r];if(s&&f)f.value=s;else{const[g,y]=P8(r);if(s){const b=d[r]=M8(s,c);ba(t,g,b,y)}else f&&(A8(t,g,f,y),d[r]=void 0)}}const sk=/(?:Once|Passive|Capture)$/;function P8(t){let r;if(sk.test(t)){r={};let s;for(;s=t.match(sk);)t=t.slice(0,t.length-s[0].length),r[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kr(t.slice(2)),r]}let cb=0;const N8=Promise.resolve(),O8=()=>cb||(N8.then(()=>cb=0),cb=Date.now());function M8(t,r){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;eo(D8(s,i.value),r,5,[s])};return i.value=t,i.attached=O8(),i}function D8(t,r){if(it(r)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},r.map(s=>c=>!c._stopped&&s&&s(c))}else return r}const lk=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,s5=(t,r,i,s,c,d)=>{const f=c==="svg";r==="class"?E8(t,s,f):r==="style"?T8(t,i,s):Ls(r)?dg(r)||R8(t,r,i,s,d):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):I8(t,r,s,f))?(ok(t,r,s),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&ik(t,r,s,f,d,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!Pt(s))?ok(t,kn(r),s,d,r):(r==="true-value"?t._trueValue=s:r==="false-value"&&(t._falseValue=s),ik(t,r,s,f))};function I8(t,r,i,s){if(s)return!!(r==="innerHTML"||r==="textContent"||r in t&&lk(r)&&wt(i));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="autocorrect"||r==="sandbox"&&t.tagName==="IFRAME"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const c=t.tagName;if(c==="IMG"||c==="VIDEO"||c==="CANVAS"||c==="SOURCE")return!1}return lk(r)&&Pt(i)?!1:r in t}const ck={};function l5(t,r,i){let s=Vn(t,r);Od(s)&&(s=qt({},s,r));class c extends Pg{constructor(f){super(s,f,i)}}return c.def=s,c}const L8=((t,r)=>l5(t,r,x5)),$8=typeof HTMLElement<"u"?HTMLElement:class{};class Pg extends $8{constructor(r,i={},s=Ym){super(),this._def=r,this._props=i,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._patching=!1,this._dirty=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==Ym?this._root=this.shadowRoot:r.shadowRoot!==!1?(this.attachShadow(qt({},r.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Pg){this._parent=r;break}this._instance||(this._resolved?this._mount(this._def):r&&r._pendingResolve?this._pendingResolve=r._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(r=this._parent){r&&(this._instance.parent=r._instance,this._inheritParentContext(r))}_inheritParentContext(r=this._parent){r&&this._app&&Object.setPrototypeOf(this._app._context.provides,r._instance.provides)}disconnectedCallback(){this._connected=!1,_a(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(r){for(const i of r)this._setAttr(i.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const r=(s,c=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:d,styles:f}=s;let g;if(d&&!it(d))for(const y in d){const b=d[y];(b===Number||b&&b.type===Number)&&(y in this._props&&(this._props[y]=od(this._props[y])),(g||(g=Object.create(null)))[kn(y)]=!0)}this._numberProps=g,this._resolveProps(s),this.shadowRoot&&this._applyStyles(f),this._mount(s)},i=this._def.__asyncLoader;i?this._pendingResolve=i().then(s=>{s.configureApp=this._def.configureApp,r(this._def=s,!0)}):r(this._def)}_mount(r){this._app=this._createApp(r),this._inheritParentContext(),r.configureApp&&r.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const i=this._instance&&this._instance.exposed;if(i)for(const s in i)dn(this,s)||Object.defineProperty(this,s,{get:()=>He(i[s])})}_resolveProps(r){const{props:i}=r,s=it(i)?i:Object.keys(i||{});for(const c of Object.keys(this))c[0]!=="_"&&s.includes(c)&&this._setProp(c,this[c]);for(const c of s.map(kn))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(d){this._setProp(c,d,!0,!this._patching)}})}_setAttr(r){if(r.startsWith("data-v-"))return;const i=this.hasAttribute(r);let s=i?this.getAttribute(r):ck;const c=kn(r);i&&this._numberProps&&this._numberProps[c]&&(s=od(s)),this._setProp(c,s,!1,!0)}_getProp(r){return this._props[r]}_setProp(r,i,s=!0,c=!1){if(i!==this._props[r]&&(this._dirty=!0,i===ck?delete this._props[r]:(this._props[r]=i,r==="key"&&this._app&&(this._app._ceVNode.key=i)),c&&this._instance&&this._update(),s)){const d=this._ob;d&&(this._processMutations(d.takeRecords()),d.disconnect()),i===!0?this.setAttribute(Kr(r),""):typeof i=="string"||typeof i=="number"?this.setAttribute(Kr(r),i+""):i||this.removeAttribute(Kr(r)),d&&d.observe(this,{attributes:!0})}}_update(){const r=this._createVNode();this._app&&(r.appContext=this._app._context),b5(r,this._root)}_createVNode(){const r={};this.shadowRoot||(r.onVnodeMounted=r.onVnodeUpdated=this._renderSlots.bind(this));const i=we(this._def,qt(r,this._props));return this._instance||(i.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const c=(d,f)=>{this.dispatchEvent(new CustomEvent(d,Od(f[0])?qt({detail:f},f[0]):{detail:f}))};s.emit=(d,...f)=>{c(d,f),Kr(d)!==d&&c(Kr(d),f)},this._setParent()}),i}_applyStyles(r,i){if(!r)return;if(i){if(i===this._def||this._styleChildren.has(i))return;this._styleChildren.add(i)}const s=this._nonce;for(let c=r.length-1;c>=0;c--){const d=document.createElement("style");s&&d.setAttribute("nonce",s),d.textContent=r[c],this.shadowRoot.prepend(d)}}_parseSlots(){const r=this._slots={};let i;for(;i=this.firstChild;){const s=i.nodeType===1&&i.getAttribute("slot")||"default";(r[s]||(r[s]=[])).push(i),this.removeChild(i)}}_renderSlots(){const r=this._getSlots(),i=this._instance.type.__scopeId;for(let s=0;s<r.length;s++){const c=r[s],d=c.getAttribute("name")||"default",f=this._slots[d],g=c.parentNode;if(f)for(const y of f){if(i&&y.nodeType===1){const b=i+"-s",E=document.createTreeWalker(y,1);y.setAttribute(b,"");let w;for(;w=E.nextNode();)w.setAttribute(b,"")}g.insertBefore(y,c)}else for(;c.firstChild;)g.insertBefore(c.firstChild,c);g.removeChild(c)}}_getSlots(){const r=[this];this._teleportTargets&&r.push(...this._teleportTargets);const i=new Set;for(const s of r){const c=s.querySelectorAll("slot");for(let d=0;d<c.length;d++)i.add(c[d])}return Array.from(i)}_injectChildStyle(r){this._applyStyles(r.styles,r)}_beginPatch(){this._patching=!0,this._dirty=!1}_endPatch(){this._patching=!1,this._dirty&&this._instance&&this._update()}_removeChildStyle(r){}}function c5(t){const r=ci(),i=r&&r.ce;return i||null}function B8(){const t=c5();return t&&t.shadowRoot}function F8(t="$style"){{const r=ci();if(!r)return nn;const i=r.type.__cssModules;if(!i)return nn;const s=i[t];return s||nn}}const u5=new WeakMap,f5=new WeakMap,Xm=Symbol("_moveCb"),uk=Symbol("_enterCb"),j8=t=>(delete t.props.mode,t),V8=j8({name:"TransitionGroup",props:qt({},t5,{tag:String,moveClass:String}),setup(t,{slots:r}){const i=ci(),s=Yx();let c,d;return Cg(()=>{if(!c.length)return;const f=t.moveClass||`${t.name||"v"}-move`;if(!G8(c[0].el,i.vnode.el,f)){c=[];return}c.forEach(H8),c.forEach(U8);const g=c.filter(z8);sx(i.vnode.el),g.forEach(y=>{const b=y.el,E=b.style;Oo(b,f),E.transform=E.webkitTransform=E.transitionDuration="";const w=b[Xm]=C=>{C&&C.target!==b||(!C||C.propertyName.endsWith("transform"))&&(b.removeEventListener("transitionend",w),b[Xm]=null,hs(b,f))};b.addEventListener("transitionend",w)}),c=[]}),()=>{const f=sn(t),g=r5(f);let y=f.tag||rn;if(c=[],d)for(let b=0;b<d.length;b++){const E=d[b];E.el&&E.el instanceof Element&&(c.push(E),Pa(E,Gc(E,g,s,i)),u5.set(E,{left:E.el.offsetLeft,top:E.el.offsetTop}))}d=r.default?wg(r.default()):[];for(let b=0;b<d.length;b++){const E=d[b];E.key!=null&&Pa(E,Gc(E,g,s,i))}return we(y,null,d)}}}),d5=V8;function H8(t){const r=t.el;r[Xm]&&r[Xm](),r[uk]&&r[uk]()}function U8(t){f5.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function z8(t){const r=u5.get(t),i=f5.get(t),s=r.left-i.left,c=r.top-i.top;if(s||c){const d=t.el.style;return d.transform=d.webkitTransform=`translate(${s}px,${c}px)`,d.transitionDuration="0s",t}}function G8(t,r,i){const s=t.cloneNode(),c=t[Kc];c&&c.forEach(g=>{g.split(/\s+/).forEach(y=>y&&s.classList.remove(y))}),i.split(/\s+/).forEach(g=>g&&s.classList.add(g)),s.style.display="none";const d=r.nodeType===1?r:r.parentNode;d.appendChild(s);const{hasTransform:f}=i5(s);return d.removeChild(s),f}const Ds=t=>{const r=t.props["onUpdate:modelValue"]||!1;return it(r)?i=>El(r,i):r};function W8(t){t.target.composing=!0}function fk(t){const r=t.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const Qi=Symbol("_assign");function dk(t,r,i){return r&&(t=t.trim()),i&&(t=Dd(t)),t}const ln={created(t,{modifiers:{lazy:r,trim:i,number:s}},c){t[Qi]=Ds(c);const d=s||c.props&&c.props.type==="number";ba(t,r?"change":"input",f=>{f.target.composing||t[Qi](dk(t.value,i,d))}),(i||d)&&ba(t,"change",()=>{t.value=dk(t.value,i,d)}),r||(ba(t,"compositionstart",W8),ba(t,"compositionend",fk),ba(t,"change",fk))},mounted(t,{value:r}){t.value=r??""},beforeUpdate(t,{value:r,oldValue:i,modifiers:{lazy:s,trim:c,number:d}},f){if(t[Qi]=Ds(f),t.composing)return;const g=(d||t.type==="number")&&!/^0\d/.test(t.value)?Dd(t.value):t.value,y=r??"";g!==y&&(document.activeElement===t&&t.type!=="range"&&(s&&r===i||c&&t.value.trim()===y)||(t.value=y))}},Ng={deep:!0,created(t,r,i){t[Qi]=Ds(i),ba(t,"change",()=>{const s=t._modelValue,c=Xc(t),d=t.checked,f=t[Qi];if(it(s)){const g=Ld(s,c),y=g!==-1;if(d&&!y)f(s.concat(c));else if(!d&&y){const b=[...s];b.splice(g,1),f(b)}}else if($s(s)){const g=new Set(s);d?g.add(c):g.delete(c),f(g)}else f(p5(t,d))})},mounted:pk,beforeUpdate(t,r,i){t[Qi]=Ds(i),pk(t,r,i)}};function pk(t,{value:r,oldValue:i},s){t._modelValue=r;let c;if(it(r))c=Ld(r,s.props.value)>-1;else if($s(r))c=r.has(s.props.value);else{if(r===i)return;c=ka(r,p5(t,!0))}t.checked!==c&&(t.checked=c)}const s1={created(t,{value:r},i){t.checked=ka(r,i.props.value),t[Qi]=Ds(i),ba(t,"change",()=>{t[Qi](Xc(t))})},beforeUpdate(t,{value:r,oldValue:i},s){t[Qi]=Ds(s),r!==i&&(t.checked=ka(r,s.props.value))}},l1={deep:!0,created(t,{value:r,modifiers:{number:i}},s){const c=$s(r);ba(t,"change",()=>{const d=Array.prototype.filter.call(t.options,f=>f.selected).map(f=>i?Dd(Xc(f)):Xc(f));t[Qi](t.multiple?c?new Set(d):d:d[0]),t._assigning=!0,_a(()=>{t._assigning=!1})}),t[Qi]=Ds(s)},mounted(t,{value:r}){hk(t,r)},beforeUpdate(t,r,i){t[Qi]=Ds(i)},updated(t,{value:r}){t._assigning||hk(t,r)}};function hk(t,r){const i=t.multiple,s=it(r);if(!(i&&!s&&!$s(r))){for(let c=0,d=t.options.length;c<d;c++){const f=t.options[c],g=Xc(f);if(i)if(s){const y=typeof g;y==="string"||y==="number"?f.selected=r.some(b=>String(b)===String(g)):f.selected=Ld(r,g)>-1}else f.selected=r.has(g);else if(ka(Xc(f),r)){t.selectedIndex!==c&&(t.selectedIndex=c);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Xc(t){return"_value"in t?t._value:t.value}function p5(t,r){const i=r?"_trueValue":"_falseValue";return i in t?t[i]:r}const h5={created(t,r,i){tm(t,r,i,null,"created")},mounted(t,r,i){tm(t,r,i,null,"mounted")},beforeUpdate(t,r,i,s){tm(t,r,i,s,"beforeUpdate")},updated(t,r,i,s){tm(t,r,i,s,"updated")}};function m5(t,r){switch(t){case"SELECT":return l1;case"TEXTAREA":return ln;default:switch(r){case"checkbox":return Ng;case"radio":return s1;default:return ln}}}function tm(t,r,i,s,c){const f=m5(t.tagName,i.props&&i.props.type)[c];f&&f(t,r,i,s)}function K8(){ln.getSSRProps=({value:t})=>({value:t}),s1.getSSRProps=({value:t},r)=>{if(r.props&&ka(r.props.value,t))return{checked:!0}},Ng.getSSRProps=({value:t},r)=>{if(it(t)){if(r.props&&Ld(t,r.props.value)>-1)return{checked:!0}}else if($s(t)){if(r.props&&t.has(r.props.value))return{checked:!0}}else if(t)return{checked:!0}},h5.getSSRProps=(t,r)=>{if(typeof r.type!="string")return;const i=m5(r.type.toUpperCase(),r.props&&r.props.type);if(i.getSSRProps)return i.getSSRProps(t,r)}}const X8=["ctrl","shift","alt","meta"],Y8={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,r)=>X8.some(i=>t[`${i}Key`]&&!r.includes(i))},gd=(t,r)=>{const i=t._withMods||(t._withMods={}),s=r.join(".");return i[s]||(i[s]=((c,...d)=>{for(let f=0;f<r.length;f++){const g=Y8[r[f]];if(g&&g(c,r))return}return t(c,...d)}))},Z8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},J8=(t,r)=>{const i=t._withKeys||(t._withKeys={}),s=r.join(".");return i[s]||(i[s]=(c=>{if(!("key"in c))return;const d=Kr(c.key);if(r.some(f=>f===d||Z8[f]===d))return t(c)}))},g5=qt({patchProp:s5},qP);let Xf,mk=!1;function v5(){return Xf||(Xf=NP(g5))}function y5(){return Xf=mk?Xf:OP(g5),mk=!0,Xf}const b5=((...t)=>{v5().render(...t)}),Q8=((...t)=>{y5().hydrate(...t)}),Ym=((...t)=>{const r=v5().createApp(...t),{mount:i}=r;return r.mount=s=>{const c=E5(s);if(!c)return;const d=r._component;!wt(d)&&!d.render&&!d.template&&(d.template=c.innerHTML),c.nodeType===1&&(c.textContent="");const f=i(c,!1,_5(c));return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),f},r}),x5=((...t)=>{const r=y5().createApp(...t),{mount:i}=r;return r.mount=s=>{const c=E5(s);if(c)return i(c,!0,_5(c))},r});function _5(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function E5(t){return Pt(t)?document.querySelector(t):t}let gk=!1;const q8=()=>{gk||(gk=!0,K8(),w8())},e$=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:aP,BaseTransitionPropsValidators:Zx,Comment:cr,DeprecationTypes:g8,EffectScope:jx,ErrorCodes:R6,ErrorTypeStrings:c8,Fragment:rn,KeepAlive:lP,ReactiveEffect:ad,Static:Tl,Suspense:GL,Teleport:j6,Text:Rs,TrackOpTypes:E6,Transition:n5,TransitionGroup:d5,TriggerOpTypes:w6,VueElement:Pg,assertNumber:A6,callWithAsyncErrorHandling:eo,callWithErrorHandling:su,camelize:kn,capitalize:Bs,cloneVNode:Vo,compatUtils:m8,computed:Mn,createApp:Ym,createBlock:Gn,createCommentVNode:cn,createElementBlock:Ge,createElementVNode:G,createHydrationRenderer:OP,createPropsRestProxy:_L,createRenderer:NP,createSSRApp:x5,createSlots:sL,createStaticVNode:UP,createTextVNode:Ut,createVNode:we,customRef:jR,defineAsyncComponent:nL,defineComponent:Vn,defineCustomElement:l5,defineEmits:fL,defineExpose:dL,defineModel:mL,defineOptions:pL,defineProps:uL,defineSSRCustomElement:L8,defineSlots:hL,devtools:u8,effect:K4,effectScope:Vx,getCurrentInstance:ci,getCurrentScope:gg,getCurrentWatcher:S6,getTransitionRawChildren:wg,guardReactiveProps:HP,h:Ml,handleError:Hl,hasInjectionContext:YR,hydrate:Q8,hydrateOnIdle:Z6,hydrateOnInteraction:eL,hydrateOnMediaQuery:q6,hydrateOnVisible:Q6,initCustomFormatter:a8,initDirectivesForSSR:q8,inject:Di,isMemoSame:ZP,isProxy:$d,isReactive:vo,isReadonly:jo,isRef:jn,isRuntimeOnly:r8,isShallow:_i,isVNode:Na,markRaw:_g,mergeDefaults:bL,mergeModels:xL,mergeProps:zP,nextTick:_a,nodeOps:qP,normalizeClass:Tt,normalizeProps:dR,normalizeStyle:mr,onActivated:cP,onBeforeMount:dP,onBeforeUnmount:Tg,onBeforeUpdate:Qx,onDeactivated:uP,onErrorCaptured:gP,onMounted:Uo,onRenderTracked:mP,onRenderTriggered:hP,onScopeDispose:Hx,onServerPrefetch:pP,onUnmounted:kg,onUpdated:Cg,onWatcherCleanup:UR,openBlock:Le,patchProp:s5,popScopeId:D6,provide:zf,proxyRefs:Kx,pushScopeId:M6,queuePostFlushCb:cd,reactive:au,readonly:Uc,ref:tt,registerRuntimeCompiler:n8,render:b5,renderList:Cr,renderSlot:wa,resolveComponent:dd,resolveDirective:aL,resolveDynamicComponent:As,resolveFilter:h8,resolveTransitionHooks:Gc,setBlockTracking:md,setDevtoolsHook:f8,setTransitionHooks:Pa,shallowReactive:Wx,shallowReadonly:BR,shallowRef:bo,ssrContextKey:ZR,ssrUtils:p8,stop:X4,toDisplayString:pn,toHandlerKey:_l,toHandlers:lL,toRaw:sn,toRef:b6,toRefs:VR,toValue:Sl,transformVNodeArgs:JL,triggerRef:h6,unref:He,useAttrs:yL,useCssModule:F8,useCssVars:S8,useHost:c5,useId:H6,useModel:PL,useSSRContext:JR,useShadowRoot:B8,useSlots:vL,useTemplateRef:U6,useTransitionState:Yx,vModelCheckbox:Ng,vModelDynamic:h5,vModelRadio:s1,vModelSelect:l1,vModelText:ln,vShow:Wm,version:JP,warn:l8,watch:Ei,watchEffect:L6,watchPostEffect:$6,watchSyncEffect:QR,withAsyncContext:EL,withCtx:Qt,withDefaults:gL,withDirectives:tn,withKeys:J8,withMemo:s8,withModifiers:gd,withScopeId:I6},Symbol.toStringTag,{value:"Module"}));let w5;const Og=t=>w5=t,S5=Symbol();function cx(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yf;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yf||(Yf={}));function t$(){const t=Vx(!0),r=t.run(()=>tt({}));let i=[],s=[];const c=_g({install(d){Og(c),c._a=d,d.provide(S5,c),d.config.globalProperties.$pinia=c,s.forEach(f=>i.push(f)),s=[]},use(d){return this._a?i.push(d):s.push(d),this},_p:i,_a:null,_e:t,_s:new Map,state:r});return c}const C5=()=>{};function vk(t,r,i,s=C5){t.add(r);const c=()=>{t.delete(r)&&s()};return!i&&gg()&&Hx(c),c}function Cc(t,...r){t.forEach(i=>{i(...r)})}const n$=t=>t(),yk=Symbol(),ub=Symbol();function ux(t,r){t instanceof Map&&r instanceof Map?r.forEach((i,s)=>t.set(s,i)):t instanceof Set&&r instanceof Set&&r.forEach(t.add,t);for(const i in r){if(!r.hasOwnProperty(i))continue;const s=r[i],c=t[i];cx(c)&&cx(s)&&t.hasOwnProperty(i)&&!jn(s)&&!vo(s)?t[i]=ux(c,s):t[i]=s}return t}const r$=Symbol();function i$(t){return!cx(t)||!Object.prototype.hasOwnProperty.call(t,r$)}const{assign:ms}=Object;function o$(t){return!!(jn(t)&&t.effect)}function a$(t,r,i,s){const{state:c,actions:d,getters:f}=r,g=i.state.value[t];let y;function b(){g||(i.state.value[t]=c?c():{});const E=VR(i.state.value[t]);return ms(E,d,Object.keys(f||{}).reduce((w,C)=>(w[C]=_g(Mn(()=>{Og(i);const T=i._s.get(t);return f[C].call(T,T)})),w),{}))}return y=T5(t,b,r,i,s,!0),y}function T5(t,r,i={},s,c,d){let f;const g=ms({actions:{}},i),y={deep:!0};let b,E,w=new Set,C=new Set,T;const D=s.state.value[t];!d&&!D&&(s.state.value[t]={}),tt({});let $;function H(ee){let W;b=E=!1,typeof ee=="function"?(ee(s.state.value[t]),W={type:Yf.patchFunction,storeId:t,events:T}):(ux(s.state.value[t],ee),W={type:Yf.patchObject,payload:ee,storeId:t,events:T});const Q=$=Symbol();_a().then(()=>{$===Q&&(b=!0)}),E=!0,Cc(w,W,s.state.value[t])}const N=d?function(){const{state:W}=i,Q=W?W():{};this.$patch(oe=>{ms(oe,Q)})}:C5;function L(){f.stop(),w.clear(),C.clear(),s._s.delete(t)}const M=(ee,W="")=>{if(yk in ee)return ee[ub]=W,ee;const Q=function(){Og(s);const oe=Array.from(arguments),re=new Set,J=new Set;function ce(ve){re.add(ve)}function ue(ve){J.add(ve)}Cc(C,{args:oe,name:Q[ub],store:z,after:ce,onError:ue});let le;try{le=ee.apply(this&&this.$id===t?this:z,oe)}catch(ve){throw Cc(J,ve),ve}return le instanceof Promise?le.then(ve=>(Cc(re,ve),ve)).catch(ve=>(Cc(J,ve),Promise.reject(ve))):(Cc(re,le),le)};return Q[yk]=!0,Q[ub]=W,Q},A={_p:s,$id:t,$onAction:vk.bind(null,C),$patch:H,$reset:N,$subscribe(ee,W={}){const Q=vk(w,ee,W.detached,()=>oe()),oe=f.run(()=>Ei(()=>s.state.value[t],re=>{(W.flush==="sync"?E:b)&&ee({storeId:t,type:Yf.direct,events:T},re)},ms({},y,W)));return Q},$dispose:L},z=au(A);s._s.set(t,z);const te=(s._a&&s._a.runWithContext||n$)(()=>s._e.run(()=>(f=Vx()).run(()=>r({action:M}))));for(const ee in te){const W=te[ee];if(jn(W)&&!o$(W)||vo(W))d||(D&&i$(W)&&(jn(W)?W.value=D[ee]:ux(W,D[ee])),s.state.value[t][ee]=W);else if(typeof W=="function"){const Q=M(W,ee);te[ee]=Q,g.actions[ee]=W}}return ms(z,te),ms(sn(z),te),Object.defineProperty(z,"$state",{get:()=>s.state.value[t],set:ee=>{H(W=>{ms(W,ee)})}}),s._p.forEach(ee=>{ms(z,f.run(()=>ee({store:z,app:s._a,pinia:s,options:g})))}),D&&d&&i.hydrate&&i.hydrate(z.$state,D),b=!0,E=!0,z}function s$(t,r,i){let s;const c=typeof r=="function";s=c?i:r;function d(f,g){const y=YR();return f=f||(y?Di(S5,null):null),f&&Og(f),f=w5,f._s.has(t)||(c?T5(t,r,s,f):a$(t,s,f)),f._s.get(t)}return d.$id=t,d}const nm=tt([]);let l$=0;function lu(){function t(i,s="info"){const c=l$++,d={id:c,message:i,type:s};nm.value.push(d),setTimeout(()=>{r(c)},3e3)}function r(i){const s=nm.value.findIndex(c=>c.id===i);s>-1&&nm.value.splice(s,1)}return{toasts:nm,add:t,remove:r}}const bk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,s)=>s?s.toUpperCase():i.toLowerCase()),u$=t=>{const r=c$(t);return r.charAt(0).toUpperCase()+r.slice(1)},f$=(...t)=>t.filter((r,i,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===i).join(" ").trim(),xk=t=>t==="";var Tf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const d$=({name:t,iconNode:r,absoluteStrokeWidth:i,"absolute-stroke-width":s,strokeWidth:c,"stroke-width":d,size:f=Tf.width,color:g=Tf.stroke,...y},{slots:b})=>Ml("svg",{...Tf,...y,width:f,height:f,stroke:g,"stroke-width":xk(i)||xk(s)||i===!0||s===!0?Number(c||d||Tf["stroke-width"])*24/Number(f):c||d||Tf["stroke-width"],class:f$("lucide",y.class,...t?[`lucide-${bk(u$(t))}-icon`,`lucide-${bk(t)}`]:["lucide-icon"])},[...r.map(E=>Ml(...E)),...b.default?[b.default()]:[]]);const xt=(t,r)=>(i,{slots:s,attrs:c})=>Ml(d$,{...c,...i,iconNode:r,name:t},s);const k5=xt("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const p$=xt("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const h$=xt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const A5=xt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const c1=xt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const m$=xt("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const R5=xt("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const g$=xt("clipboard-paste",[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]]);const v$=xt("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);const P5=xt("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);const y$=xt("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const b$=xt("crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);const N5=xt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const fb=xt("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const x$=xt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const _$=xt("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]);const E$=xt("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const w$=xt("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const S$=xt("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Mg=xt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const C$=xt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const T$=xt("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);const k$=xt("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const u1=xt("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);const A$=xt("list-tree",[["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"M3 10a2 2 0 0 0 2 2h3",key:"1npucw"}],["path",{d:"M3 5v12a2 2 0 0 0 2 2h3",key:"x1gjn2"}]]);const R$=xt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const P$=xt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const N$=xt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);const O$=xt("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);const M$=xt("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);const D$=xt("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const I$=xt("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const O5=xt("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);const L$=xt("paint-bucket",[["path",{d:"M11 7 6 2",key:"1jwth8"}],["path",{d:"M18.992 12H2.041",key:"xw1gg"}],["path",{d:"M21.145 18.38A3.34 3.34 0 0 1 20 16.5a3.3 3.3 0 0 1-1.145 1.88c-.575.46-.855 1.02-.855 1.595A2 2 0 0 0 20 22a2 2 0 0 0 2-2.025c0-.58-.285-1.13-.855-1.595",key:"1nkol4"}],["path",{d:"m8.5 4.5 2.148-2.148a1.205 1.205 0 0 1 1.704 0l7.296 7.296a1.205 1.205 0 0 1 0 1.704l-7.592 7.592a3.615 3.615 0 0 1-5.112 0l-3.888-3.888a3.615 3.615 0 0 1 0-5.112L5.67 7.33",key:"1nk1rd"}]]);const Dg=xt("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);const $$=xt("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const M5=xt("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);const kl=xt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const D5=xt("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const B$=xt("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const F$=xt("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const I5=xt("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const f1=xt("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);const j$=xt("text-align-center",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]]);const V$=xt("text-align-end",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]]);const H$=xt("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]);const U$=xt("text-wrap",[["path",{d:"m16 16-3 3 3 3",key:"117b85"}],["path",{d:"M3 12h14.5a1 1 0 0 1 0 7H13",key:"18xa6z"}],["path",{d:"M3 19h6",key:"1ygdsz"}],["path",{d:"M3 5h18",key:"1u36vt"}]]);const Al=xt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const z$=xt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);const G$=xt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const d1=xt("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const Ig=xt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const L5=xt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),W$={class:"fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none"},K$={class:"text-sm font-medium text-slate-100 flex-1"},X$=["onClick"],Y$=Vn({__name:"ToastContainer",setup(t){const{toasts:r,remove:i}=lu(),s={success:c1,error:A5,info:C$},c={success:"bg-slate-800 text-emerald-400 border-l-4 border-emerald-500",error:"bg-slate-800 text-red-400 border-l-4 border-red-500",info:"bg-slate-800 text-blue-400 border-l-4 border-blue-500"};return(d,f)=>(Le(),Ge("div",W$,[we(d5,{name:"toast"},{default:Qt(()=>[(Le(!0),Ge(rn,null,Cr(He(r),g=>(Le(),Ge("div",{key:g.id,class:Tt(["pointer-events-auto px-4 py-3 rounded shadow-lg shadow-black/20 flex items-center gap-3 min-w-[300px] max-w-sm backdrop-blur-sm",c[g.type]])},[(Le(),Gn(As(s[g.type]),{class:"w-5 h-5 shrink-0"})),G("span",K$,pn(g.message),1),G("button",{onClick:y=>He(i)(g.id),class:"text-slate-500 hover:text-white transition-colors"},[we(He(Ig),{class:"w-4 h-4"})],8,X$)],2))),128))]),_:1})]))}}),Vd=(t,r)=>{const i=t.__vccOpts||t;for(const[s,c]of r)i[s]=c;return i},Z$=Vd(Y$,[["__scopeId","data-v-535cbe7b"]]),J$=Vn({__name:"App",setup(t){return(r,i)=>{const s=dd("router-view");return Le(),Ge(rn,null,[we(s),we(Z$)],64)}}});const Dc=typeof document<"u";function $5(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Q$(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&$5(t.default)}const bn=Object.assign;function db(t,r){const i={};for(const s in r){const c=r[s];i[s]=xo(c)?c.map(t):t(c)}return i}const Zf=()=>{},xo=Array.isArray;function _k(t,r){const i={};for(const s in t)i[s]=s in r?r[s]:t[s];return i}const B5=/#/g,q$=/&/g,eB=/\//g,tB=/=/g,nB=/\?/g,F5=/\+/g,rB=/%5B/g,iB=/%5D/g,j5=/%5E/g,oB=/%60/g,V5=/%7B/g,aB=/%7C/g,H5=/%7D/g,sB=/%20/g;function p1(t){return t==null?"":encodeURI(""+t).replace(aB,"|").replace(rB,"[").replace(iB,"]")}function lB(t){return p1(t).replace(V5,"{").replace(H5,"}").replace(j5,"^")}function fx(t){return p1(t).replace(F5,"%2B").replace(sB,"+").replace(B5,"%23").replace(q$,"%26").replace(oB,"`").replace(V5,"{").replace(H5,"}").replace(j5,"^")}function cB(t){return fx(t).replace(tB,"%3D")}function uB(t){return p1(t).replace(B5,"%23").replace(nB,"%3F")}function fB(t){return uB(t).replace(eB,"%2F")}function vd(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const dB=/\/$/,pB=t=>t.replace(dB,"");function pb(t,r,i="/"){let s,c={},d="",f="";const g=r.indexOf("#");let y=r.indexOf("?");return y=g>=0&&y>g?-1:y,y>=0&&(s=r.slice(0,y),d=r.slice(y,g>0?g:r.length),c=t(d.slice(1))),g>=0&&(s=s||r.slice(0,g),f=r.slice(g,r.length)),s=vB(s??r,i),{fullPath:s+d+f,path:s,query:c,hash:vd(f)}}function hB(t,r){const i=r.query?t(r.query):"";return r.path+(i&&"?")+i+(r.hash||"")}function Ek(t,r){return!r||!t.toLowerCase().startsWith(r.toLowerCase())?t:t.slice(r.length)||"/"}function mB(t,r,i){const s=r.matched.length-1,c=i.matched.length-1;return s>-1&&s===c&&Yc(r.matched[s],i.matched[c])&&U5(r.params,i.params)&&t(r.query)===t(i.query)&&r.hash===i.hash}function Yc(t,r){return(t.aliasOf||t)===(r.aliasOf||r)}function U5(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var i in t)if(!gB(t[i],r[i]))return!1;return!0}function gB(t,r){return xo(t)?wk(t,r):xo(r)?wk(r,t):t?.valueOf()===r?.valueOf()}function wk(t,r){return xo(r)?t.length===r.length&&t.every((i,s)=>i===r[s]):t.length===1&&t[0]===r}function vB(t,r){if(t.startsWith("/"))return t;if(!t)return r;const i=r.split("/"),s=t.split("/"),c=s[s.length-1];(c===".."||c===".")&&s.push("");let d=i.length-1,f,g;for(f=0;f<s.length;f++)if(g=s[f],g!==".")if(g==="..")d>1&&d--;else break;return i.slice(0,d).join("/")+"/"+s.slice(f).join("/")}const ds={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let dx=(function(t){return t.pop="pop",t.push="push",t})({}),hb=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function yB(t){if(!t)if(Dc){const r=document.querySelector("base");t=r&&r.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pB(t)}const bB=/^[^#]+#/;function xB(t,r){return t.replace(bB,"#")+r}function _B(t,r){const i=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:r.behavior,left:s.left-i.left-(r.left||0),top:s.top-i.top-(r.top||0)}}const Lg=()=>({left:window.scrollX,top:window.scrollY});function EB(t){let r;if("el"in t){const i=t.el,s=typeof i=="string"&&i.startsWith("#"),c=typeof i=="string"?s?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!c)return;r=_B(c,t)}else r=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.scrollX,r.top!=null?r.top:window.scrollY)}function Sk(t,r){return(history.state?history.state.position-r:-1)+t}const px=new Map;function wB(t,r){px.set(t,r)}function SB(t){const r=px.get(t);return px.delete(t),r}function CB(t){return typeof t=="string"||t&&typeof t=="object"}function z5(t){return typeof t=="string"||typeof t=="symbol"}let tr=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const G5=Symbol("");tr.MATCHER_NOT_FOUND+"",tr.NAVIGATION_GUARD_REDIRECT+"",tr.NAVIGATION_ABORTED+"",tr.NAVIGATION_CANCELLED+"",tr.NAVIGATION_DUPLICATED+"";function Zc(t,r){return bn(new Error,{type:t,[G5]:!0},r)}function la(t,r){return t instanceof Error&&G5 in t&&(r==null||!!(t.type&r))}const TB=["params","query","hash"];function kB(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const r={};for(const i of TB)i in t&&(r[i]=t[i]);return JSON.stringify(r,null,2)}function AB(t){const r={};if(t===""||t==="?")return r;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const c=i[s].replace(F5," "),d=c.indexOf("="),f=vd(d<0?c:c.slice(0,d)),g=d<0?null:vd(c.slice(d+1));if(f in r){let y=r[f];xo(y)||(y=r[f]=[y]),y.push(g)}else r[f]=g}return r}function Ck(t){let r="";for(let i in t){const s=t[i];if(i=cB(i),s==null){s!==void 0&&(r+=(r.length?"&":"")+i);continue}(xo(s)?s.map(c=>c&&fx(c)):[s&&fx(s)]).forEach(c=>{c!==void 0&&(r+=(r.length?"&":"")+i,c!=null&&(r+="="+c))})}return r}function RB(t){const r={};for(const i in t){const s=t[i];s!==void 0&&(r[i]=xo(s)?s.map(c=>c==null?null:""+c):s==null?s:""+s)}return r}const PB=Symbol(""),Tk=Symbol(""),$g=Symbol(""),h1=Symbol(""),hx=Symbol("");function kf(){let t=[];function r(s){return t.push(s),()=>{const c=t.indexOf(s);c>-1&&t.splice(c,1)}}function i(){t=[]}return{add:r,list:()=>t.slice(),reset:i}}function xs(t,r,i,s,c,d=f=>f()){const f=s&&(s.enterCallbacks[c]=s.enterCallbacks[c]||[]);return()=>new Promise((g,y)=>{const b=C=>{C===!1?y(Zc(tr.NAVIGATION_ABORTED,{from:i,to:r})):C instanceof Error?y(C):CB(C)?y(Zc(tr.NAVIGATION_GUARD_REDIRECT,{from:r,to:C})):(f&&s.enterCallbacks[c]===f&&typeof C=="function"&&f.push(C),g())},E=d(()=>t.call(s&&s.instances[c],r,i,b));let w=Promise.resolve(E);t.length<3&&(w=w.then(b)),w.catch(C=>y(C))})}function mb(t,r,i,s,c=d=>d()){const d=[];for(const f of t)for(const g in f.components){let y=f.components[g];if(!(r!=="beforeRouteEnter"&&!f.instances[g]))if($5(y)){const b=(y.__vccOpts||y)[r];b&&d.push(xs(b,i,s,f,g,c))}else{let b=y();d.push(()=>b.then(E=>{if(!E)throw new Error(`Couldn't resolve component "${g}" at "${f.path}"`);const w=Q$(E)?E.default:E;f.mods[g]=E,f.components[g]=w;const C=(w.__vccOpts||w)[r];return C&&xs(C,i,s,f,g,c)()}))}}return d}function NB(t,r){const i=[],s=[],c=[],d=Math.max(r.matched.length,t.matched.length);for(let f=0;f<d;f++){const g=r.matched[f];g&&(t.matched.find(b=>Yc(b,g))?s.push(g):i.push(g));const y=t.matched[f];y&&(r.matched.find(b=>Yc(b,y))||c.push(y))}return[i,s,c]}let OB=()=>location.protocol+"//"+location.host;function W5(t,r){const{pathname:i,search:s,hash:c}=r,d=t.indexOf("#");if(d>-1){let f=c.includes(t.slice(d))?t.slice(d).length:1,g=c.slice(f);return g[0]!=="/"&&(g="/"+g),Ek(g,"")}return Ek(i,t)+s+c}function MB(t,r,i,s){let c=[],d=[],f=null;const g=({state:C})=>{const T=W5(t,location),D=i.value,$=r.value;let H=0;if(C){if(i.value=T,r.value=C,f&&f===D){f=null;return}H=$?C.position-$.position:0}else s(T);c.forEach(N=>{N(i.value,D,{delta:H,type:dx.pop,direction:H?H>0?hb.forward:hb.back:hb.unknown})})};function y(){f=i.value}function b(C){c.push(C);const T=()=>{const D=c.indexOf(C);D>-1&&c.splice(D,1)};return d.push(T),T}function E(){if(document.visibilityState==="hidden"){const{history:C}=window;if(!C.state)return;C.replaceState(bn({},C.state,{scroll:Lg()}),"")}}function w(){for(const C of d)C();d=[],window.removeEventListener("popstate",g),window.removeEventListener("pagehide",E),document.removeEventListener("visibilitychange",E)}return window.addEventListener("popstate",g),window.addEventListener("pagehide",E),document.addEventListener("visibilitychange",E),{pauseListeners:y,listen:b,destroy:w}}function kk(t,r,i,s=!1,c=!1){return{back:t,current:r,forward:i,replaced:s,position:window.history.length,scroll:c?Lg():null}}function DB(t){const{history:r,location:i}=window,s={value:W5(t,i)},c={value:r.state};c.value||d(s.value,{back:null,current:s.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function d(y,b,E){const w=t.indexOf("#"),C=w>-1?(i.host&&document.querySelector("base")?t:t.slice(w))+y:OB()+t+y;try{r[E?"replaceState":"pushState"](b,"",C),c.value=b}catch(T){console.error(T),i[E?"replace":"assign"](C)}}function f(y,b){d(y,bn({},r.state,kk(c.value.back,y,c.value.forward,!0),b,{position:c.value.position}),!0),s.value=y}function g(y,b){const E=bn({},c.value,r.state,{forward:y,scroll:Lg()});d(E.current,E,!0),d(y,bn({},kk(s.value,y,null),{position:E.position+1},b),!1),s.value=y}return{location:s,state:c,push:g,replace:f}}function IB(t){t=yB(t);const r=DB(t),i=MB(t,r.state,r.location,r.replace);function s(d,f=!0){f||i.pauseListeners(),history.go(d)}const c=bn({location:"",base:t,go:s,createHref:xB.bind(null,t)},r,i);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>r.state.value}),c}function LB(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),IB(t)}let hl=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var xr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(xr||{});const $B={type:hl.Static,value:""},BB=/[a-zA-Z0-9_]/;function FB(t){if(!t)return[[]];if(t==="/")return[[$B]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function r(T){throw new Error(`ERR (${i})/"${b}": ${T}`)}let i=xr.Static,s=i;const c=[];let d;function f(){d&&c.push(d),d=[]}let g=0,y,b="",E="";function w(){b&&(i===xr.Static?d.push({type:hl.Static,value:b}):i===xr.Param||i===xr.ParamRegExp||i===xr.ParamRegExpEnd?(d.length>1&&(y==="*"||y==="+")&&r(`A repeatable param (${b}) must be alone in its segment. eg: '/:ids+.`),d.push({type:hl.Param,value:b,regexp:E,repeatable:y==="*"||y==="+",optional:y==="*"||y==="?"})):r("Invalid state to consume buffer"),b="")}function C(){b+=y}for(;g<t.length;){if(y=t[g++],y==="\\"&&i!==xr.ParamRegExp){s=i,i=xr.EscapeNext;continue}switch(i){case xr.Static:y==="/"?(b&&w(),f()):y===":"?(w(),i=xr.Param):C();break;case xr.EscapeNext:C(),i=s;break;case xr.Param:y==="("?i=xr.ParamRegExp:BB.test(y)?C():(w(),i=xr.Static,y!=="*"&&y!=="?"&&y!=="+"&&g--);break;case xr.ParamRegExp:y===")"?E[E.length-1]=="\\"?E=E.slice(0,-1)+y:i=xr.ParamRegExpEnd:E+=y;break;case xr.ParamRegExpEnd:w(),i=xr.Static,y!=="*"&&y!=="?"&&y!=="+"&&g--,E="";break;default:r("Unknown state");break}}return i===xr.ParamRegExp&&r(`Unfinished custom RegExp for param "${b}"`),w(),f(),c}const Ak="[^/]+?",jB={sensitive:!1,strict:!1,start:!0,end:!0};var ni=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(ni||{});const VB=/[.+*?^${}()[\]/\\]/g;function HB(t,r){const i=bn({},jB,r),s=[];let c=i.start?"^":"";const d=[];for(const b of t){const E=b.length?[]:[ni.Root];i.strict&&!b.length&&(c+="/");for(let w=0;w<b.length;w++){const C=b[w];let T=ni.Segment+(i.sensitive?ni.BonusCaseSensitive:0);if(C.type===hl.Static)w||(c+="/"),c+=C.value.replace(VB,"\\$&"),T+=ni.Static;else if(C.type===hl.Param){const{value:D,repeatable:$,optional:H,regexp:N}=C;d.push({name:D,repeatable:$,optional:H});const L=N||Ak;if(L!==Ak){T+=ni.BonusCustomRegExp;try{`${L}`}catch(A){throw new Error(`Invalid custom RegExp for param "${D}" (${L}): `+A.message)}}let M=$?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;w||(M=H&&b.length<2?`(?:/${M})`:"/"+M),H&&(M+="?"),c+=M,T+=ni.Dynamic,H&&(T+=ni.BonusOptional),$&&(T+=ni.BonusRepeatable),L===".*"&&(T+=ni.BonusWildcard)}E.push(T)}s.push(E)}if(i.strict&&i.end){const b=s.length-1;s[b][s[b].length-1]+=ni.BonusStrict}i.strict||(c+="/?"),i.end?c+="$":i.strict&&!c.endsWith("/")&&(c+="(?:/|$)");const f=new RegExp(c,i.sensitive?"":"i");function g(b){const E=b.match(f),w={};if(!E)return null;for(let C=1;C<E.length;C++){const T=E[C]||"",D=d[C-1];w[D.name]=T&&D.repeatable?T.split("/"):T}return w}function y(b){let E="",w=!1;for(const C of t){(!w||!E.endsWith("/"))&&(E+="/"),w=!1;for(const T of C)if(T.type===hl.Static)E+=T.value;else if(T.type===hl.Param){const{value:D,repeatable:$,optional:H}=T,N=D in b?b[D]:"";if(xo(N)&&!$)throw new Error(`Provided param "${D}" is an array but it is not repeatable (* or + modifiers)`);const L=xo(N)?N.join("/"):N;if(!L)if(H)C.length<2&&(E.endsWith("/")?E=E.slice(0,-1):w=!0);else throw new Error(`Missing required param "${D}"`);E+=L}}return E||"/"}return{re:f,score:s,keys:d,parse:g,stringify:y}}function UB(t,r){let i=0;for(;i<t.length&&i<r.length;){const s=r[i]-t[i];if(s)return s;i++}return t.length<r.length?t.length===1&&t[0]===ni.Static+ni.Segment?-1:1:t.length>r.length?r.length===1&&r[0]===ni.Static+ni.Segment?1:-1:0}function K5(t,r){let i=0;const s=t.score,c=r.score;for(;i<s.length&&i<c.length;){const d=UB(s[i],c[i]);if(d)return d;i++}if(Math.abs(c.length-s.length)===1){if(Rk(s))return 1;if(Rk(c))return-1}return c.length-s.length}function Rk(t){const r=t[t.length-1];return t.length>0&&r[r.length-1]<0}const zB={strict:!1,end:!0,sensitive:!1};function GB(t,r,i){const s=HB(FB(t.path),i),c=bn(s,{record:t,parent:r,children:[],alias:[]});return r&&!c.record.aliasOf==!r.record.aliasOf&&r.children.push(c),c}function WB(t,r){const i=[],s=new Map;r=_k(zB,r);function c(w){return s.get(w)}function d(w,C,T){const D=!T,$=Nk(w);$.aliasOf=T&&T.record;const H=_k(r,w),N=[$];if("alias"in w){const A=typeof w.alias=="string"?[w.alias]:w.alias;for(const z of A)N.push(Nk(bn({},$,{components:T?T.record.components:$.components,path:z,aliasOf:T?T.record:$})))}let L,M;for(const A of N){const{path:z}=A;if(C&&z[0]!=="/"){const Z=C.record.path,te=Z[Z.length-1]==="/"?"":"/";A.path=C.record.path+(z&&te+z)}if(L=GB(A,C,H),T?T.alias.push(L):(M=M||L,M!==L&&M.alias.push(L),D&&w.name&&!Ok(L)&&f(w.name)),X5(L)&&y(L),$.children){const Z=$.children;for(let te=0;te<Z.length;te++)d(Z[te],L,T&&T.children[te])}T=T||L}return M?()=>{f(M)}:Zf}function f(w){if(z5(w)){const C=s.get(w);C&&(s.delete(w),i.splice(i.indexOf(C),1),C.children.forEach(f),C.alias.forEach(f))}else{const C=i.indexOf(w);C>-1&&(i.splice(C,1),w.record.name&&s.delete(w.record.name),w.children.forEach(f),w.alias.forEach(f))}}function g(){return i}function y(w){const C=YB(w,i);i.splice(C,0,w),w.record.name&&!Ok(w)&&s.set(w.record.name,w)}function b(w,C){let T,D={},$,H;if("name"in w&&w.name){if(T=s.get(w.name),!T)throw Zc(tr.MATCHER_NOT_FOUND,{location:w});H=T.record.name,D=bn(Pk(C.params,T.keys.filter(M=>!M.optional).concat(T.parent?T.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),w.params&&Pk(w.params,T.keys.map(M=>M.name))),$=T.stringify(D)}else if(w.path!=null)$=w.path,T=i.find(M=>M.re.test($)),T&&(D=T.parse($),H=T.record.name);else{if(T=C.name?s.get(C.name):i.find(M=>M.re.test(C.path)),!T)throw Zc(tr.MATCHER_NOT_FOUND,{location:w,currentLocation:C});H=T.record.name,D=bn({},C.params,w.params),$=T.stringify(D)}const N=[];let L=T;for(;L;)N.unshift(L.record),L=L.parent;return{name:H,path:$,params:D,matched:N,meta:XB(N)}}t.forEach(w=>d(w));function E(){i.length=0,s.clear()}return{addRoute:d,resolve:b,removeRoute:f,clearRoutes:E,getRoutes:g,getRecordMatcher:c}}function Pk(t,r){const i={};for(const s of r)s in t&&(i[s]=t[s]);return i}function Nk(t){const r={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:KB(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(r,"mods",{value:{}}),r}function KB(t){const r={},i=t.props||!1;if("component"in t)r.default=i;else for(const s in t.components)r[s]=typeof i=="object"?i[s]:i;return r}function Ok(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function XB(t){return t.reduce((r,i)=>bn(r,i.meta),{})}function YB(t,r){let i=0,s=r.length;for(;i!==s;){const d=i+s>>1;K5(t,r[d])<0?s=d:i=d+1}const c=ZB(t);return c&&(s=r.lastIndexOf(c,s-1)),s}function ZB(t){let r=t;for(;r=r.parent;)if(X5(r)&&K5(t,r)===0)return r}function X5({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Mk(t){const r=Di($g),i=Di(h1),s=Mn(()=>{const y=He(t.to);return r.resolve(y)}),c=Mn(()=>{const{matched:y}=s.value,{length:b}=y,E=y[b-1],w=i.matched;if(!E||!w.length)return-1;const C=w.findIndex(Yc.bind(null,E));if(C>-1)return C;const T=Dk(y[b-2]);return b>1&&Dk(E)===T&&w[w.length-1].path!==T?w.findIndex(Yc.bind(null,y[b-2])):C}),d=Mn(()=>c.value>-1&&t9(i.params,s.value.params)),f=Mn(()=>c.value>-1&&c.value===i.matched.length-1&&U5(i.params,s.value.params));function g(y={}){if(e9(y)){const b=r[He(t.replace)?"replace":"push"](He(t.to)).catch(Zf);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>b),b}return Promise.resolve()}return{route:s,href:Mn(()=>s.value.href),isActive:d,isExactActive:f,navigate:g}}function JB(t){return t.length===1?t[0]:t}const QB=Vn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Mk,setup(t,{slots:r}){const i=au(Mk(t)),{options:s}=Di($g),c=Mn(()=>({[Ik(t.activeClass,s.linkActiveClass,"router-link-active")]:i.isActive,[Ik(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const d=r.default&&JB(r.default(i));return t.custom?d:Ml("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:c.value},d)}}}),qB=QB;function e9(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const r=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return t.preventDefault&&t.preventDefault(),!0}}function t9(t,r){for(const i in r){const s=r[i],c=t[i];if(typeof s=="string"){if(s!==c)return!1}else if(!xo(c)||c.length!==s.length||s.some((d,f)=>d.valueOf()!==c[f].valueOf()))return!1}return!0}function Dk(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ik=(t,r,i)=>t??r??i,n9=Vn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:r,slots:i}){const s=Di(hx),c=Mn(()=>t.route||s.value),d=Di(Tk,0),f=Mn(()=>{let b=He(d);const{matched:E}=c.value;let w;for(;(w=E[b])&&!w.components;)b++;return b}),g=Mn(()=>c.value.matched[f.value]);zf(Tk,Mn(()=>f.value+1)),zf(PB,g),zf(hx,c);const y=tt();return Ei(()=>[y.value,g.value,t.name],([b,E,w],[C,T,D])=>{E&&(E.instances[w]=b,T&&T!==E&&b&&b===C&&(E.leaveGuards.size||(E.leaveGuards=T.leaveGuards),E.updateGuards.size||(E.updateGuards=T.updateGuards))),b&&E&&(!T||!Yc(E,T)||!C)&&(E.enterCallbacks[w]||[]).forEach($=>$(b))},{flush:"post"}),()=>{const b=c.value,E=t.name,w=g.value,C=w&&w.components[E];if(!C)return Lk(i.default,{Component:C,route:b});const T=w.props[E],D=T?T===!0?b.params:typeof T=="function"?T(b):T:null,H=Ml(C,bn({},D,r,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(w.instances[E]=null)},ref:y}));return Lk(i.default,{Component:H,route:b})||H}}});function Lk(t,r){if(!t)return null;const i=t(r);return i.length===1?i[0]:i}const r9=n9;function i9(t){const r=WB(t.routes,t),i=t.parseQuery||AB,s=t.stringifyQuery||Ck,c=t.history,d=kf(),f=kf(),g=kf(),y=bo(ds);let b=ds;Dc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=db.bind(null,Se=>""+Se),w=db.bind(null,fB),C=db.bind(null,vd);function T(Se,ke){let he,De;return z5(Se)?(he=r.getRecordMatcher(Se),De=ke):De=Se,r.addRoute(De,he)}function D(Se){const ke=r.getRecordMatcher(Se);ke&&r.removeRoute(ke)}function $(){return r.getRoutes().map(Se=>Se.record)}function H(Se){return!!r.getRecordMatcher(Se)}function N(Se,ke){if(ke=bn({},ke||y.value),typeof Se=="string"){const q=pb(i,Se,ke.path),be=r.resolve({path:q.path},ke),Ce=c.createHref(q.fullPath);return bn(q,be,{params:C(be.params),hash:vd(q.hash),redirectedFrom:void 0,href:Ce})}let he;if(Se.path!=null)he=bn({},Se,{path:pb(i,Se.path,ke.path).path});else{const q=bn({},Se.params);for(const be in q)q[be]==null&&delete q[be];he=bn({},Se,{params:w(q)}),ke.params=w(ke.params)}const De=r.resolve(he,ke),at=Se.hash||"";De.params=E(C(De.params));const St=hB(s,bn({},Se,{hash:lB(at),path:De.path})),X=c.createHref(St);return bn({fullPath:St,hash:at,query:s===Ck?RB(Se.query):Se.query||{}},De,{redirectedFrom:void 0,href:X})}function L(Se){return typeof Se=="string"?pb(i,Se,y.value.path):bn({},Se)}function M(Se,ke){if(b!==Se)return Zc(tr.NAVIGATION_CANCELLED,{from:ke,to:Se})}function A(Se){return te(Se)}function z(Se){return A(bn(L(Se),{replace:!0}))}function Z(Se,ke){const he=Se.matched[Se.matched.length-1];if(he&&he.redirect){const{redirect:De}=he;let at=typeof De=="function"?De(Se,ke):De;return typeof at=="string"&&(at=at.includes("?")||at.includes("#")?at=L(at):{path:at},at.params={}),bn({query:Se.query,hash:Se.hash,params:at.path!=null?{}:Se.params},at)}}function te(Se,ke){const he=b=N(Se),De=y.value,at=Se.state,St=Se.force,X=Se.replace===!0,q=Z(he,De);if(q)return te(bn(L(q),{state:typeof q=="object"?bn({},at,q.state):at,force:St,replace:X}),ke||he);const be=he;be.redirectedFrom=ke;let Ce;return!St&&mB(s,De,he)&&(Ce=Zc(tr.NAVIGATION_DUPLICATED,{to:be,from:De}),ot(De,De,!0,!1)),(Ce?Promise.resolve(Ce):Q(be,De)).catch(Ae=>la(Ae)?la(Ae,tr.NAVIGATION_GUARD_REDIRECT)?Ae:Te(Ae):fe(Ae,be,De)).then(Ae=>{if(Ae){if(la(Ae,tr.NAVIGATION_GUARD_REDIRECT))return te(bn({replace:X},L(Ae.to),{state:typeof Ae.to=="object"?bn({},at,Ae.to.state):at,force:St}),ke||be)}else Ae=re(be,De,!0,X,at);return oe(be,De,Ae),Ae})}function ee(Se,ke){const he=M(Se,ke);return he?Promise.reject(he):Promise.resolve()}function W(Se){const ke=Xt.values().next().value;return ke&&typeof ke.runWithContext=="function"?ke.runWithContext(Se):Se()}function Q(Se,ke){let he;const[De,at,St]=NB(Se,ke);he=mb(De.reverse(),"beforeRouteLeave",Se,ke);for(const q of De)q.leaveGuards.forEach(be=>{he.push(xs(be,Se,ke))});const X=ee.bind(null,Se,ke);return he.push(X),Kt(he).then(()=>{he=[];for(const q of d.list())he.push(xs(q,Se,ke));return he.push(X),Kt(he)}).then(()=>{he=mb(at,"beforeRouteUpdate",Se,ke);for(const q of at)q.updateGuards.forEach(be=>{he.push(xs(be,Se,ke))});return he.push(X),Kt(he)}).then(()=>{he=[];for(const q of St)if(q.beforeEnter)if(xo(q.beforeEnter))for(const be of q.beforeEnter)he.push(xs(be,Se,ke));else he.push(xs(q.beforeEnter,Se,ke));return he.push(X),Kt(he)}).then(()=>(Se.matched.forEach(q=>q.enterCallbacks={}),he=mb(St,"beforeRouteEnter",Se,ke,W),he.push(X),Kt(he))).then(()=>{he=[];for(const q of f.list())he.push(xs(q,Se,ke));return he.push(X),Kt(he)}).catch(q=>la(q,tr.NAVIGATION_CANCELLED)?q:Promise.reject(q))}function oe(Se,ke,he){g.list().forEach(De=>W(()=>De(Se,ke,he)))}function re(Se,ke,he,De,at){const St=M(Se,ke);if(St)return St;const X=ke===ds,q=Dc?history.state:{};he&&(De||X?c.replace(Se.fullPath,bn({scroll:X&&q&&q.scroll},at)):c.push(Se.fullPath,at)),y.value=Se,ot(Se,ke,he,X),Te()}let J;function ce(){J||(J=c.listen((Se,ke,he)=>{if(!Wt.listening)return;const De=N(Se),at=Z(De,Wt.currentRoute.value);if(at){te(bn(at,{replace:!0,force:!0}),De).catch(Zf);return}b=De;const St=y.value;Dc&&wB(Sk(St.fullPath,he.delta),Lg()),Q(De,St).catch(X=>la(X,tr.NAVIGATION_ABORTED|tr.NAVIGATION_CANCELLED)?X:la(X,tr.NAVIGATION_GUARD_REDIRECT)?(te(bn(L(X.to),{force:!0}),De).then(q=>{la(q,tr.NAVIGATION_ABORTED|tr.NAVIGATION_DUPLICATED)&&!he.delta&&he.type===dx.pop&&c.go(-1,!1)}).catch(Zf),Promise.reject()):(he.delta&&c.go(-he.delta,!1),fe(X,De,St))).then(X=>{X=X||re(De,St,!1),X&&(he.delta&&!la(X,tr.NAVIGATION_CANCELLED)?c.go(-he.delta,!1):he.type===dx.pop&&la(X,tr.NAVIGATION_ABORTED|tr.NAVIGATION_DUPLICATED)&&c.go(-1,!1)),oe(De,St,X)}).catch(Zf)}))}let ue=kf(),le=kf(),ve;function fe(Se,ke,he){Te(Se);const De=le.list();return De.length?De.forEach(at=>at(Se,ke,he)):console.error(Se),Promise.reject(Se)}function pe(){return ve&&y.value!==ds?Promise.resolve():new Promise((Se,ke)=>{ue.add([Se,ke])})}function Te(Se){return ve||(ve=!Se,ce(),ue.list().forEach(([ke,he])=>Se?he(Se):ke()),ue.reset()),Se}function ot(Se,ke,he,De){const{scrollBehavior:at}=t;if(!Dc||!at)return Promise.resolve();const St=!he&&SB(Sk(Se.fullPath,0))||(De||!he)&&history.state&&history.state.scroll||null;return _a().then(()=>at(Se,ke,St)).then(X=>X&&EB(X)).catch(X=>fe(X,Se,ke))}const Ye=Se=>c.go(Se);let ie;const Xt=new Set,Wt={currentRoute:y,listening:!0,addRoute:T,removeRoute:D,clearRoutes:r.clearRoutes,hasRoute:H,getRoutes:$,resolve:N,options:t,push:A,replace:z,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:d.add,beforeResolve:f.add,afterEach:g.add,onError:le.add,isReady:pe,install(Se){Se.component("RouterLink",qB),Se.component("RouterView",r9),Se.config.globalProperties.$router=Wt,Object.defineProperty(Se.config.globalProperties,"$route",{enumerable:!0,get:()=>He(y)}),Dc&&!ie&&y.value===ds&&(ie=!0,A(c.location).catch(De=>{}));const ke={};for(const De in ds)Object.defineProperty(ke,De,{get:()=>y.value[De],enumerable:!0});Se.provide($g,Wt),Se.provide(h1,Wx(ke)),Se.provide(hx,y);const he=Se.unmount;Xt.add(Se),Se.unmount=function(){Xt.delete(Se),Xt.size<1&&(b=ds,J&&J(),J=null,y.value=ds,ie=!1,ve=!1),he()}}};function Kt(Se){return Se.reduce((ke,he)=>ke.then(()=>W(he)),Promise.resolve())}return Wt}function o9(){return Di($g)}function a9(t){return Di(h1)}const s9=s$("theme",()=>{const t=tt(localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches);Ei(t,i=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},{immediate:!0});function r(){t.value=!t.value}return{isDark:t,toggleTheme:r}}),l9={key:0,class:"fixed inset-0 z-50 flex items-end justify-center pointer-events-none"},c9={class:"w-full max-w-4xl max-h-[40vh] bg-white dark:bg-slate-900 border-t border-x border-slate-200 dark:border-slate-700 rounded-t-2xl shadow-2xl transform transition-transform duration-300 pointer-events-auto flex flex-col overflow-hidden"},u9={class:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50 backdrop-blur"},f9={class:"flex-1 overflow-y-auto p-6 prose dark:prose-invert prose-sm max-w-none"},d9={class:"mt-4 space-y-4"},p9={href:"mailto:tassiloDheinemann@gmail.com",class:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400 hover:underline"},h9=Vn({__name:"AboutModal",props:{isOpen:{type:Boolean}},emits:["close"],setup(t,{emit:r}){const i=r;return(s,c)=>t.isOpen?(Le(),Ge("div",l9,[G("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto transition-opacity duration-300",onClick:c[0]||(c[0]=d=>i("close"))}),G("div",c9,[G("div",u9,[c[2]||(c[2]=G("h3",{class:"text-lg font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2"},[G("span",{class:"w-6 h-6 bg-gradient-to-br from-slate-900 to-slate-700 dark:from-white dark:to-slate-300 rounded text-[10px] text-white dark:text-slate-900 flex items-center justify-center font-bold"},"CT"),Ut(" About CTools ")],-1)),G("button",{onClick:c[1]||(c[1]=d=>i("close")),class:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors text-slate-500"},[we(He(Ig),{class:"w-5 h-5"})])]),G("div",f9,[c[6]||(c[6]=G("p",{class:"text-sm text-slate-600 dark:text-slate-300 mb-4"}," CTools is a specialized suite of utilities designed to streamline the workflow for Corporater implementation consultants and developers. ",-1)),G("div",d9,[c[5]||(c[5]=UP('<div><h4 class="text-sm font-bold uppercase tracking-wider text-slate-500 mb-2">Changelog</h4><div class="space-y-4"><div class="border-l-2 border-indigo-500 pl-3"><span class="text-xs font-bold text-indigo-600 dark:text-indigo-400">v2.0.0 (Suite Edition)</span><p class="text-xs text-slate-500 mt-1">Consolidated individual tools into a single unified application suite.</p></div></div></div>',1)),G("div",null,[c[4]||(c[4]=G("h4",{class:"text-sm font-bold uppercase tracking-wider text-slate-500 mb-2"},"Contact",-1)),G("a",p9,[we(He(N$),{class:"w-4 h-4"}),c[3]||(c[3]=Ut(" tassiloDheinemann@gmail.com ",-1))])])])])])])):cn("",!0)}}),m9={class:"flex h-screen w-screen overflow-hidden bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors duration-300"},g9={class:"w-16 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col items-center py-4 z-20 shrink-0"},v9={class:"flex-1 space-y-4 w-full px-2"},y9={class:"absolute left-full ml-3 px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50"},b9={class:"mt-auto flex flex-col items-center gap-2 mb-4"},x9={class:"flex-1 flex flex-col min-w-0"},_9={class:"h-14 bg-white/80 dark:bg-slate-900/80 backdrop-blur border-b border-slate-200 dark:border-slate-800 shrink-0 px-6 flex items-center justify-between z-10 transition-colors duration-300"},E9={class:"flex items-center gap-3"},w9={key:0,class:"text-lg font-semibold tracking-tight flex items-center gap-2"},S9={key:1,class:"text-lg font-semibold tracking-tight text-slate-500"},C9={class:"flex-1 overflow-hidden relative"},T9=Vn({__name:"MainLayout",setup(t){const r=a9(),i=s9(),s=tt(!1),c=[{name:"Dashboard",path:"/",icon:k$,color:"text-slate-500"},{name:"Colorset",path:"/colorset",icon:Dg,color:"text-pink-500"},{name:"Layout",path:"/layout",icon:u1,color:"text-blue-500"},{name:"Process",path:"/process",icon:k5,color:"text-emerald-500"},{name:"Table",path:"/table",icon:f1,color:"text-orange-500"},{name:"Image",path:"/image",icon:Mg,color:"text-violet-500"},{name:"SVG Tuner",path:"/tuner",icon:d1,color:"text-teal-500"},{name:"cDraw",path:"/cdraw",icon:M5,color:"text-sky-500"}],d=Mn(()=>c.find(f=>f.path===r.path));return(f,g)=>{const y=dd("router-link"),b=dd("router-view");return Le(),Ge("div",null,[G("div",m9,[G("aside",g9,[we(y,{to:"/",class:"mb-8 block group relative"},{default:Qt(()=>[...g[3]||(g[3]=[G("div",{class:"flex flex-col items-center justify-center"},[G("div",{class:"text-2xl font-black tracking-tighter leading-none bg-clip-text text-transparent bg-gradient-to-br from-indigo-600 to-violet-500 dark:from-indigo-400 dark:to-violet-300"}," c "),G("div",{class:"text-[0.6rem] font-bold uppercase tracking-widest text-slate-400 dark:text-slate-500 group-hover:text-indigo-500 transition-colors"}," Tools ")],-1)])]),_:1}),G("nav",v9,[(Le(),Ge(rn,null,Cr(c,E=>we(y,{key:E.path,to:E.path,class:Tt(["w-10 h-10 mx-auto rounded-lg flex items-center justify-center transition-all duration-200 group relative",[(E.path==="/"?He(r).path==="/":He(r).path.startsWith(E.path))?"bg-slate-100 dark:bg-slate-800 shadow-sm ring-1 ring-slate-200 dark:ring-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-800/50 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"]])},{default:Qt(()=>[(Le(),Gn(As(E.icon),{class:Tt(["w-5 h-5 transition-colors",[(E.path==="/"?He(r).path==="/":He(r).path.startsWith(E.path))?E.color:""]])},null,8,["class"])),G("div",y9,pn(E.name),1)]),_:2},1032,["to","class"])),64))]),G("div",b9,[G("button",{onClick:g[0]||(g[0]=E=>s.value=!0),class:"w-10 h-10 rounded-lg flex items-center justify-center text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",title:"About CTools"},[we(He(R5),{class:"w-5 h-5"})]),G("button",{onClick:g[1]||(g[1]=E=>He(i).toggleTheme()),class:"w-10 h-10 rounded-lg flex items-center justify-center text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"},[He(i).isDark?(Le(),Gn(He(I5),{key:0,class:"w-5 h-5"})):(Le(),Gn(He(O5),{key:1,class:"w-5 h-5"}))])])]),G("div",x9,[G("header",_9,[G("div",E9,[d.value?(Le(),Ge("h1",w9,[(Le(),Gn(As(d.value.icon),{class:Tt(["w-5 h-5",d.value.color])},null,8,["class"])),Ut(" "+pn(d.value.name),1)])):(Le(),Ge("h1",S9,"Dashboard"))]),g[4]||(g[4]=G("div",{class:"flex items-center gap-4"},[G("div",{id:"header-actions"})],-1))]),G("main",C9,[we(b,null,{default:Qt(({Component:E})=>[we(n5,{name:"fade",mode:"out-in"},{default:Qt(()=>[(Le(),Gn(lP,null,[(Le(),Gn(As(E)))],1024))]),_:2},1024)]),_:1})])])]),we(h9,{isOpen:s.value,onClose:g[2]||(g[2]=E=>s.value=!1)},null,8,["isOpen"])])}}}),k9=Vd(T9,[["__scopeId","data-v-c883f966"]]),A9={key:0,class:"px-4 py-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50 flex justify-between items-center shrink-0"},R9={class:"font-bold text-xs uppercase tracking-wider text-slate-500"},P9={class:"flex-1 overflow-y-auto p-4 space-y-4"},Y5=Vn({__name:"InspectorPanel",props:{title:{},width:{default:"w-72"}},setup(t){return(r,i)=>(Le(),Ge("div",{class:Tt(["bg-white dark:bg-slate-900 border-l border-slate-200 dark:border-slate-800 flex flex-col shadow-xl z-20 shrink-0 h-full",t.width])},[t.title?(Le(),Ge("div",A9,[G("h3",R9,pn(t.title),1),wa(r.$slots,"header-actions")])):cn("",!0),G("div",P9,[wa(r.$slots,"default")])],2))}}),N9=["disabled"],ri=Vn({__name:"BaseButton",props:{variant:{default:"solid"},size:{default:"md"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{}},setup(t){const r=t,i=Mn(()=>{const s="inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-1 disabled:opacity-50 disabled:pointer-events-none active:scale-[0.98]",c={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",icon:"h-9 w-9 p-0"},d={solid:"bg-cora-600 hover:bg-cora-500 text-white shadow-sm shadow-cora-500/20 ring-cora-500",outline:"border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-200 ring-slate-200",ghost:"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200",danger:"bg-red-500 hover:bg-red-600 text-white shadow-sm shadow-red-500/20 ring-red-500"};return`${s} ${c[r.size]} ${d[r.variant]}`});return(s,c)=>(Le(),Ge("button",{class:Tt(i.value),disabled:t.disabled||t.loading},[t.loading?(Le(),Gn(He(R$),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):t.icon?(Le(),Gn(As(t.icon),{key:1,class:"w-4 h-4 mr-2"})):cn("",!0),wa(s.$slots,"default")],10,N9))}}),O9={class:"space-y-1"},M9={key:0,class:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wide"},D9={class:"relative"},I9=["type","value","placeholder","disabled"],Pi=Vn({__name:"BaseInput",props:{modelValue:{},label:{},placeholder:{default:""},type:{default:"text"},disabled:{type:Boolean,default:!1},mono:{type:Boolean,default:!1},icon:{}},emits:["update:modelValue"],setup(t,{emit:r}){const i=t,s=r,c=Mn(()=>["w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm transition-all text-slate-900 dark:text-slate-100 placeholder-slate-400","focus:outline-none focus:ring-2 focus:ring-cora-500/20 focus:border-cora-500","disabled:opacity-50 disabled:pointer-events-none",i.mono?"font-mono text-xs":"font-sans",i.icon?"pl-9":""].join(" "));return(d,f)=>(Le(),Ge("div",O9,[t.label?(Le(),Ge("label",M9,pn(t.label),1)):cn("",!0),G("div",D9,[t.icon?(Le(),Gn(As(t.icon),{key:0,class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})):cn("",!0),G("input",{type:t.type,value:t.modelValue,onInput:f[0]||(f[0]=g=>s("update:modelValue",g.target.value)),placeholder:t.placeholder,disabled:t.disabled,class:Tt(c.value)},null,42,I9)])]))}});function Z5(){function t(r,i,s="text/plain"){let c;typeof r=="string"?c=new Blob([r],{type:s}):c=r;const d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=i,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}return{downloadBlob:t}}const L9={class:"flex h-full w-full"},$9={class:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-2 z-10"},B9={class:"bg-white/90 dark:bg-slate-800/90 backdrop-blur border border-slate-200 dark:border-slate-700 shadow-xl rounded-lg px-2 py-1 flex items-center text-slate-500 gap-1"},F9={class:"text-xs font-mono w-12 text-center select-none"},j9={class:"bg-white/90 dark:bg-slate-800/90 backdrop-blur border border-slate-200 dark:border-slate-700 shadow-xl rounded-lg p-1 flex items-center gap-1"},V9=["innerHTML"],H9={class:"text-[10px] text-slate-400 font-mono"},U9={class:"flex flex-col gap-2"},z9={class:"flex gap-2"},G9={class:"grid grid-cols-[1fr,auto] gap-2"},W9={class:"flex gap-2"},K9={class:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg mb-4"},X9=["onClick"],Y9={key:0,class:"space-y-6"},Z9={class:"flex justify-between mb-2"},J9={class:"grid grid-cols-2 gap-2"},Q9={class:"bg-slate-50/50 dark:bg-slate-800/50 p-3 rounded-lg border border-slate-100 dark:border-slate-800"},q9={class:"flex items-center justify-between mb-2"},eF={key:0,class:"text-[10px] text-emerald-500 mt-2 flex items-center"},tF={key:1,class:"space-y-3"},nF={key:0,class:"text-center py-8 text-slate-500"},rF={class:"mt-4 relative inline-block"},iF={class:"relative w-6 h-6 shrink-0 rounded overflow-hidden border border-slate-200 dark:border-slate-700"},oF=["onUpdate:modelValue","onInput"],aF=["onUpdate:modelValue","onChange"],sF={class:"text-[10px] text-slate-400 font-mono w-16 truncate text-right"},lF={key:2,class:"flex-1 flex flex-col min-h-0 -mx-4 -mb-4 border-t border-slate-200 dark:border-slate-800"},cF=`<svg width="400" height="400" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
    <rect width="400" height="400" fill="#ffffff" rx="20"/>
    <circle cx="200" cy="200" r="120" fill="#4f46e5" fill-opacity="0.1"/>
    <path d="M200 80 L320 300 L80 300 Z" fill="#6366f1" stroke="#4338ca" stroke-width="10" stroke-linejoin="round"/>
    <circle cx="200" cy="240" r="40" fill="#ffffff"/>
</svg>`,uF=Vn({__name:"SvgTuner",setup(t){const{add:r}=lu(),{downloadBlob:i}=Z5(),s=tt(cF),c=tt([]),d=tt("tune"),f=tt("light"),g=tt(.8),y=tt(""),b=tt({width:"",height:""}),E=tt(0),w=tt("tuned-design"),C=tt(null),T=tt(null),D=tt(null),$=Mn(()=>f.value==="light"?"bg-slate-50 bg-grid-pattern":f.value==="dark"?"bg-slate-900 bg-grid-pattern":'bg-[url("https://www.transparenttextures.com/patterns/stardust.png")] bg-slate-200'),H=Mn(()=>{const re=new Blob([s.value]).size;return re<1024?`${re} B`:`${(re/1024).toFixed(2)} KB`}),N=()=>{const J=new DOMParser().parseFromString(s.value,"image/svg+xml"),ce=J.querySelector("svg");if(ce){b.value.width=ce.getAttribute("width")||"",b.value.height=ce.getAttribute("height")||"";const ve=ce.getAttribute("viewBox");if(ve&&!D.value){const fe=ve.split(/[\s,]+/).map(Number);if(fe.length===4){const[pe,Te,ot,Ye]=fe;D.value={x:pe,y:Te,w:ot,h:Ye}}}}const ue=new Set,le=document.createTreeWalker(J,NodeFilter.SHOW_ELEMENT);for(;le.nextNode();){const ve=le.currentNode;["fill","stroke"].forEach(pe=>{const Te=ve.getAttribute(pe);Te&&Te!=="none"&&!Te.startsWith("url(")&&ue.add(Te)});const fe=ve.style;fe&&(fe.fill&&fe.fill!=="none"&&ue.add(fe.fill),fe.stroke&&fe.stroke!=="none"&&ue.add(fe.stroke))}c.value=Array.from(ue).map(ve=>({original:ve,val:ve}))},L=(re,J)=>{let ce=s.value;const le=(fe=>fe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(re);ce=ce.replace(new RegExp(`="${le}"`,"g"),`="${J}"`),ce=ce.replace(new RegExp(`: ${le}`,"g"),`: ${J}`),ce=ce.replace(new RegExp(`:${le}`,"g"),`:${J}`),s.value=ce;const ve=c.value.findIndex(fe=>fe.original===re);ve!==-1&&c.value[ve]&&(c.value[ve].original=J)},M=re=>{const ce=new DOMParser().parseFromString(s.value,"image/svg+xml"),ue=ce.querySelector("svg");ue&&(ue.setAttribute("fill",re),s.value=new XMLSerializer().serializeToString(ce),r("Applied fill to root SVG","success"))},A=()=>{if(!C.value)return;const ce=new DOMParser().parseFromString(s.value,"image/svg+xml").querySelector("svg");if(!ce)return;let ue=parseFloat(ce.getAttribute("width")||"0"),le=parseFloat(ce.getAttribute("height")||"0");if(!ue||!le){const Ye=ce.getAttribute("viewBox");if(Ye){const ie=Ye.split(/[\s,]+/).map(Number);ie.length===4&&(ue=ie[2],le=ie[3])}}ue||(ue=300),le||(le=150);const ve=C.value.clientWidth,fe=C.value.clientHeight,pe=ve/ue,Te=fe/le,ot=Math.min(pe,Te)*.8;g.value=parseFloat(Math.max(.1,Math.min(ot,20)).toFixed(2))},z=()=>{const re=document.getElementById("svg-render-target"),J=re?re.querySelector("svg"):null;if(J)try{const ce=J.getBBox(),ue=Math.floor(ce.x),le=Math.floor(ce.y),ve=Math.ceil(ce.width),fe=Math.ceil(ce.height),pe=`${ue} ${le} ${ve} ${fe}`,ot=new DOMParser().parseFromString(s.value,"image/svg+xml"),Ye=ot.querySelector("svg");Ye&&(Ye.setAttribute("viewBox",pe),Ye.setAttribute("width",ve.toString()),Ye.setAttribute("height",fe.toString()),b.value.width=ve.toString(),b.value.height=fe.toString(),s.value=new XMLSerializer().serializeToString(ot),D.value={x:ue,y:le,w:ve,h:fe},E.value=0,r("ViewBox snapped to content","success"),_a(()=>A()))}catch{r("Could not calculate bounding box. Ensure SVG is rendered.","error")}},Z=()=>{if(!D.value)return;const re=E.value,J=D.value,ce=J.x-re,ue=J.y-re,le=J.w+re*2,ve=J.h+re*2,fe=`${ce} ${ue} ${le} ${ve}`,Te=new DOMParser().parseFromString(s.value,"image/svg+xml"),ot=Te.querySelector("svg");ot&&(ot.setAttribute("viewBox",fe),s.value=new XMLSerializer().serializeToString(Te))},te=()=>{const re=new Blob([s.value]).size,ce=new DOMParser().parseFromString(s.value,"image/svg+xml"),ue=Te=>{const ot=Array.from(Te.childNodes);for(const Ye of ot)Ye.nodeType===Node.COMMENT_NODE?Te.removeChild(Ye):Ye.nodeType===Node.TEXT_NODE?Ye.textContent?.trim()?Ye.textContent=Ye.textContent.trim():Te.removeChild(Ye):Ye.nodeType===Node.ELEMENT_NODE&&ue(Ye)},le=ce.querySelector("svg");le&&ue(le);let ve=new XMLSerializer().serializeToString(ce);ve=ve.replace(/>\s+</g,"><"),s.value=ve;const fe=new Blob([s.value]).size,pe=((re-fe)/1024).toFixed(2);y.value=`Saved ${pe} KB`,r(`Safely reduced size by ${pe} KB`,"success")},ee=()=>{const J=new DOMParser().parseFromString(s.value,"image/svg+xml"),ce=J.querySelector("svg");ce&&(b.value.width&&ce.setAttribute("width",b.value.width),b.value.height&&ce.setAttribute("height",b.value.height),s.value=new XMLSerializer().serializeToString(J))},W=re=>{const J=re.target.files?.[0];if(!J)return;const ce=new FileReader;ce.onload=ue=>{s.value=ue.target?.result;const le=J.name.replace(/\.[^/.]+$/,"");w.value=le||"tuned-design",d.value="tune",D.value=null,E.value=0,_a(()=>{N(),A()})},ce.readAsText(J)},Q=()=>{i(s.value,`${w.value||"tuned-design"}.svg`,"image/svg+xml")},oe=()=>{const re=new Blob([s.value],{type:"image/svg+xml;charset=utf-8"}),J=URL.createObjectURL(re),ce=new Image;ce.onload=()=>{const ue=document.createElement("canvas"),le=parseFloat(b.value.width)||800,ve=parseFloat(b.value.height)||800;ue.width=le,ue.height=ve;const fe=ue.getContext("2d");if(fe){fe.drawImage(ce,0,0,le,ve);const pe=ue.toDataURL("image/png"),Te=document.createElement("a");Te.href=pe,Te.download=`${w.value||"tuned-design"}.png`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te)}URL.revokeObjectURL(J),r("PNG Downloaded","success")},ce.src=J};return Uo(()=>{N(),_a(()=>A())}),Ei(d,()=>{d.value==="code"&&N()}),Ei(s,()=>{}),(re,J)=>{const ce=dd("CodeOutputPanel");return Le(),Ge("div",L9,[G("div",{class:Tt(["flex-1 relative overflow-hidden flex flex-col",$.value])},[G("div",$9,[G("div",B9,[G("button",{onClick:J[0]||(J[0]=ue=>g.value=Math.max(g.value-.1,.1)),class:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded"},[we(He(D$),{class:"w-4 h-4"})]),G("span",F9,pn(Math.round(g.value*100))+"%",1),G("button",{onClick:J[1]||(J[1]=ue=>g.value=Math.min(g.value+.1,5)),class:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded"},[we(He(kl),{class:"w-4 h-4"})]),J[13]||(J[13]=G("div",{class:"w-px h-3 bg-slate-300 dark:bg-slate-600 mx-1"},null,-1)),G("button",{onClick:A,class:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",title:"Reset View"},[we(He(D5),{class:"w-4 h-4"})])]),G("div",j9,[G("button",{onClick:J[2]||(J[2]=ue=>f.value="light"),class:Tt([f.value==="light"?"bg-slate-200 dark:bg-slate-700 text-cora-500":"text-slate-400","p-1.5 rounded"])},[we(He(I5),{class:"w-4 h-4"})],2),G("button",{onClick:J[3]||(J[3]=ue=>f.value="dark"),class:Tt([f.value==="dark"?"bg-slate-200 dark:bg-slate-700 text-cora-500":"text-slate-400","p-1.5 rounded"])},[we(He(O5),{class:"w-4 h-4"})],2),G("button",{onClick:J[4]||(J[4]=ue=>f.value="checker"),class:Tt([f.value==="checker"?"bg-slate-200 dark:bg-slate-700 text-cora-500":"text-slate-400","p-1.5 rounded"])},[we(He(w$),{class:"w-4 h-4"})],2)])]),G("div",{ref_key:"canvasContainer",ref:C,class:"flex-1 flex items-center justify-center overflow-auto p-12 relative group/canvas",onWheel:J[5]||(J[5]=gd(ue=>ue.deltaY<0?g.value=Math.min(g.value+.1,5):g.value=Math.max(g.value-.1,.1),["ctrl","prevent"]))},[G("div",{class:"relative shadow-2xl transition-transform duration-100 ease-out origin-center",style:mr({transform:`scale(${g.value})`})},[G("div",{innerHTML:s.value,class:"block bg-transparent",id:"svg-render-target"},null,8,V9)],4)],544)],2),we(Y5,{title:"SVG Controls",width:"w-80"},{"header-actions":Qt(()=>[G("span",H9,pn(H.value),1)]),default:Qt(()=>[G("div",U9,[G("div",z9,[we(ri,{size:"sm",variant:"outline",class:"w-full",onClick:J[6]||(J[6]=ue=>T.value?.click())},{default:Qt(()=>[G("input",{type:"file",ref_key:"fileInput",ref:T,onChange:W,accept:".svg",class:"hidden"},null,544),we(He(z$),{class:"w-3 h-3 mr-2"}),J[14]||(J[14]=Ut(" Import ",-1))]),_:1}),we(ri,{size:"sm",variant:"outline",class:"w-full",onClick:J[7]||(J[7]=ue=>d.value="code")},{default:Qt(()=>[we(He(g$),{class:"w-3 h-3 mr-2"}),J[15]||(J[15]=Ut(" Code ",-1))]),_:1})]),G("div",G9,[we(Pi,{modelValue:w.value,"onUpdate:modelValue":J[8]||(J[8]=ue=>w.value=ue),placeholder:"Filename",mono:""},null,8,["modelValue"]),J[16]||(J[16]=G("div",{class:"flex items-center text-xs text-slate-400 font-mono"},".svg",-1))]),G("div",W9,[we(ri,{size:"sm",class:"w-full",onClick:Q},{default:Qt(()=>[we(He(N5),{class:"w-3 h-3 mr-2"}),J[17]||(J[17]=Ut(" SVG ",-1))]),_:1}),we(ri,{size:"sm",variant:"ghost",class:"w-full bg-pink-100 text-pink-700 hover:bg-pink-200 dark:bg-pink-500/10 dark:text-pink-400 dark:hover:bg-pink-500/20",onClick:oe},{default:Qt(()=>[we(He(Mg),{class:"w-3 h-3 mr-2"}),J[18]||(J[18]=Ut(" PNG ",-1))]),_:1})])]),J[27]||(J[27]=G("hr",{class:"border-slate-100 dark:border-slate-800 my-2"},null,-1)),G("div",K9,[(Le(),Ge(rn,null,Cr(["tune","palette","code"],ue=>G("button",{key:ue,onClick:le=>d.value=ue,class:Tt(["flex-1 py-1.5 text-xs font-medium rounded capitalize transition-all",d.value===ue?"bg-white dark:bg-slate-700 shadow text-cora-600 dark:text-cora-400":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"])},pn(ue),11,X9)),64))]),d.value==="tune"?(Le(),Ge("div",Y9,[G("div",null,[J[20]||(J[20]=G("h4",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Geometry",-1)),we(ri,{size:"sm",variant:"outline",class:"w-full justify-start",onClick:z},{default:Qt(()=>[we(He(b$),{class:"w-3.5 h-3.5 mr-2 text-indigo-500"}),J[19]||(J[19]=Ut(" Auto-Crop to Content ",-1))]),_:1})]),G("div",null,[G("div",Z9,[J[21]||(J[21]=G("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Padding",-1)),G("span",{class:Tt(["text-xs font-mono",E.value<0?"text-pink-500":"text-emerald-500"])},pn(E.value>0?"+":"")+pn(E.value)+"px",3)]),tn(G("input",{type:"range","onUpdate:modelValue":J[9]||(J[9]=ue=>E.value=ue),min:"-100",max:"100",step:"1",onInput:Z,class:"w-full h-1 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cora-500"},null,544),[[ln,E.value,void 0,{number:!0}]])]),G("div",null,[J[22]||(J[22]=G("h4",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Dimensions",-1)),G("div",J9,[we(Pi,{label:"Width",modelValue:b.value.width,"onUpdate:modelValue":J[10]||(J[10]=ue=>b.value.width=ue),onChange:ee,mono:""},null,8,["modelValue"]),we(Pi,{label:"Height",modelValue:b.value.height,"onUpdate:modelValue":J[11]||(J[11]=ue=>b.value.height=ue),onChange:ee,mono:""},null,8,["modelValue"])])]),G("div",Q9,[G("div",q9,[J[23]||(J[23]=G("span",{class:"text-sm font-medium"},"Smart Minify",-1)),we(He(L5),{class:"w-4 h-4 text-amber-500"})]),we(ri,{size:"sm",variant:"ghost",class:"w-full text-xs",onClick:te},{default:Qt(()=>[...J[24]||(J[24]=[Ut("Running Optimizer",-1)])]),_:1}),y.value?(Le(),Ge("div",eF,[we(He(h$),{class:"w-3 h-3 mr-1"}),Ut(" "+pn(y.value),1)])):cn("",!0)])])):cn("",!0),d.value==="palette"?(Le(),Ge("div",tF,[c.value.length===0?(Le(),Ge("div",nF,[we(He(Dg),{class:"w-8 h-8 mx-auto mb-2 opacity-20"}),J[26]||(J[26]=G("p",{class:"text-xs"},"No explicit colors found.",-1)),G("div",rF,[G("input",{type:"color",onInput:J[12]||(J[12]=ue=>M(ue.target.value)),class:"absolute inset-0 opacity-0 cursor-pointer w-full h-full"},null,32),we(ri,{size:"sm"},{default:Qt(()=>[we(He(L$),{class:"w-3 h-3 mr-2"}),J[25]||(J[25]=Ut(" Colorize ",-1))]),_:1})])])):cn("",!0),(Le(!0),Ge(rn,null,Cr(c.value,(ue,le)=>(Le(),Ge("div",{key:le,class:"flex items-center gap-2 bg-slate-50 dark:bg-slate-800/50 p-2 rounded border border-slate-100 dark:border-slate-800"},[G("div",iF,[tn(G("input",{type:"color","onUpdate:modelValue":ve=>ue.val=ve,onInput:ve=>L(ue.original,ue.val),class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",style:mr({backgroundColor:ue.val})},null,44,oF),[[ln,ue.val]]),G("div",{class:"w-full h-full",style:mr({backgroundColor:ue.val})},null,4)]),tn(G("input",{type:"text","onUpdate:modelValue":ve=>ue.val=ve,onChange:ve=>L(ue.original,ue.val),class:"flex-1 bg-transparent text-xs font-mono focus:outline-none uppercase text-slate-700 dark:text-slate-300"},null,40,aF),[[ln,ue.val]]),G("span",sF,pn(ue.original),1)]))),128))])):cn("",!0),d.value==="code"?(Le(),Ge("div",lF,[we(ce,{title:"SVG Code",code:s.value},null,8,["code"])])):cn("",!0)]),_:1})])}}}),fF=Vd(uF,[["__scopeId","data-v-b35faac4"]]);function J5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bg(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var i=function s(){var c=!1;try{c=this instanceof s}catch{}return c?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var c=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(i,s,c.get?c:{enumerable:!0,get:function(){return t[s]}})}),i}var _m={exports:{}};var dF=_m.exports,$k;function pF(){return $k||($k=1,(function(t,r){(function(i,s){t.exports=s()})(dF,(function(){function i(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}var s=(function(e,n){return e(n={exports:{}},n.exports),n.exports})((function(e){var n=e.exports=function(o,a){if(a||(a=16),o===void 0&&(o=128),o<=0)return"0";for(var l=Math.log(Math.pow(2,o))/Math.log(a),u=2;l===1/0;u*=2)l=Math.log(Math.pow(2,o/u))/Math.log(a)*u;var h=l-Math.floor(l),p="";for(u=0;u<Math.floor(l);u++)p=Math.floor(Math.random()*a).toString(a)+p;if(h){var m=Math.pow(a,h);p=Math.floor(Math.random()*m).toString(a)+p}var v=parseInt(p,a);return v!==1/0&&v>=Math.pow(2,o)?n(o,a):p};n.rack=function(o,a,l){var u=function(p){var m=0;do{if(m++>10){if(!l)throw new Error("too many ID collisions, use more bits");o+=l}var v=n(o,a)}while(Object.hasOwnProperty.call(h,v));return h[v]=p,v},h=u.hats={};return u.get=function(p){return u.hats[p]},u.set=function(p,m){return u.hats[p]=m,u},u.bits=o||128,u.base=a||16,u}}));function c(e){if(!(this instanceof c))return new c(e);e=e||[128,36,1],this._seed=e.length?s.rack(e[0],e[1],e[2]):e}function d(e){return Array.prototype.concat.apply([],e)}c.prototype.next=function(e){return this._seed(e||!0)},c.prototype.nextPrefixed=function(e,n){var o;do o=e+this.next(!0);while(this.assigned(o));return this.claim(o,n),o},c.prototype.claim=function(e,n){this._seed.set(e,n||!0)},c.prototype.assigned=function(e){return this._seed.get(e)||!1},c.prototype.unclaim=function(e){delete this._seed.hats[e]},c.prototype.clear=function(){var e,n=this._seed.hats;for(e in n)this.unclaim(e)};const f=Object.prototype.toString,g=Object.prototype.hasOwnProperty;function y(e){return e===void 0}function b(e){return e!==void 0}function E(e){return e==null}function w(e){return f.call(e)==="[object Array]"}function C(e){return f.call(e)==="[object Object]"}function T(e){return f.call(e)==="[object Number]"}function D(e){const n=f.call(e);return n==="[object Function]"||n==="[object AsyncFunction]"||n==="[object GeneratorFunction]"||n==="[object AsyncGeneratorFunction]"||n==="[object Proxy]"}function $(e){return f.call(e)==="[object String]"}function H(e,n){return g.call(e,n)}function N(e,n){const o=fe(n);let a;return A(e,(function(l,u){if(o(l,u))return a=l,!1})),a}function L(e,n){const o=fe(n);let a=w(e)?-1:void 0;return A(e,(function(l,u){if(o(l,u))return a=u,!1})),a}function M(e,n){const o=fe(n);let a=[];return A(e,(function(l,u){o(l,u)&&a.push(l)})),a}function A(e,n){let o,a;if(y(e))return;const l=w(e)?Te:pe;for(let u in e)if(H(e,u)&&(o=e[u],a=n(o,l(u)),a===!1))return o}function z(e,n){if(y(e))return[];(function(a){if(!w(a))throw new Error("must supply array")})(e);const o=fe(n);return e.filter((function(a,l){return!o(a,l)}))}function Z(e,n,o){return A(e,(function(a,l){o=n(o,a,l)})),o}function te(e,n){return!!Z(e,(function(o,a,l){return o&&n(a,l)}),!0)}function ee(e,n){return!!N(e,n)}function W(e,n){let o=[];return A(e,(function(a,l){o.push(n(a,l))})),o}function Q(e){return e&&Object.keys(e)||[]}function oe(e){return W(e,(n=>n))}function re(e,n,o={}){return n=ve(n),A(e,(function(a){let l=n(a)||"_",u=o[l];u||(u=o[l]=[]),u.push(a)})),o}function J(e,...n){e=ve(e);let o={};return A(n,(a=>re(a,e,o))),W(o,(function(a,l){return a[0]}))}const ce=J;function ue(e,n){n=ve(n);let o=[];return A(e,(function(a,l){let u=n(a,l),h={d:u,v:a};for(var p=0;p<o.length;p++){let{d:m}=o[p];if(u<m)return void o.splice(p,0,h)}o.push(h)})),W(o,(a=>a.v))}function le(e){return function(n){return te(e,(function(o,a){return n[a]===o}))}}function ve(e){return D(e)?e:n=>n[e]}function fe(e){return D(e)?e:n=>n===e}function pe(e){return e}function Te(e){return Number(e)}function ot(e,n){let o,a,l,u;function h(x){let _=Date.now(),S=x?0:u+n-_;if(S>0)return p(S);e.apply(l,a),m()}function p(x){o=setTimeout(h,x)}function m(){o&&clearTimeout(o),o=u=a=l=void 0}function v(...x){u=Date.now(),a=x,l=this,o||p(n)}return v.flush=function(){o&&h(!0),m()},v.cancel=m,v}function Ye(e,n){return e.bind(n)}function ie(e,...n){return Object.assign(e,...n)}function Xt(e,n){let o={},a=Object(e);return A(n,(function(l){l in a&&(o[l]=e[l])})),o}function Wt(e,n){let o={};return A(Object(e),(function(a,l){n.indexOf(l)===-1&&(o[l]=a)})),o}function Kt(e,n){return n.forEach((function(o){o&&typeof o!="string"&&!Array.isArray(o)&&Object.keys(o).forEach((function(a){if(a!=="default"&&!(a in e)){var l=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:function(){return o[a]}})}}))})),Object.freeze(e)}const Se=Object.prototype.toString,ke=Object.prototype.hasOwnProperty;function he(e,n){return ke.call(e,n)}function De(e,n){let o,a;if(e===void 0)return;const l=(function(u){return Se.call(u)==="[object Array]"})(e)?St:at;for(let u in e)if(he(e,u)&&(o=e[u],a=n(o,l(u)),a===!1))return o}function at(e){return e}function St(e){return Number(e)}function X(e,...n){const o=e.style;return De(n,(function(a){a&&De(a,(function(l,u){o[u]=l}))})),e}function q(e,n,o){return arguments.length==2?e.getAttribute(n):o===null?e.removeAttribute(n):(e.setAttribute(n,o),e)}const be=Object.prototype.toString;function Ce(e){return new Ae(e)}function Ae(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function $e(e){for(var n;n=e.firstChild;)e.removeChild(n);return e}function Xe(e,n,o){var a=o?e:e.parentNode;return a&&typeof a.closest=="function"&&a.closest(n)||null}Ae.prototype.add=function(e){return this.list.add(e),this},Ae.prototype.remove=function(e){return be.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)},Ae.prototype.removeMatching=function(e){const n=this.array();for(let o=0;o<n.length;o++)e.test(n[o])&&this.remove(n[o]);return this},Ae.prototype.toggle=function(e,n){return n!==void 0?n!==this.list.toggle(e,n)&&this.list.toggle(e):this.list.toggle(e),this},Ae.prototype.array=function(){return Array.from(this.list)},Ae.prototype.has=Ae.prototype.contains=function(e){return this.list.contains(e)};var Ue,ze,Be,pt={};function Qe(){Ue=window.addEventListener?"addEventListener":"attachEvent",ze=window.removeEventListener?"removeEventListener":"detachEvent",Be=Ue!=="addEventListener"?"on":""}var Ie=Kt({__proto__:null,bind:pt.bind=function(e,n,o,a){return Ue||Qe(),e[Ue](Be+n,o,a||!1),o},unbind:pt.unbind=function(e,n,o,a){return ze||Qe(),e[ze](Be+n,o,a||!1),o},default:pt},[pt]),yt=["focus","blur"],$t,Nt={bind:function(e,n,o,a,l){return yt.indexOf(o)!==-1&&(l=!0),Ie.bind(e,o,(function(u){var h=u.target||u.srcElement;u.delegateTarget=Xe(h,n,!0),u.delegateTarget&&a.call(e,u)}),l)},unbind:function(e,n,o,a){return yt.indexOf(n)!==-1&&(a=!0),Ie.unbind(e,n,o,a)}},de=function(e,n){if(typeof e!="string")throw new TypeError("String expected");n||(n=document);var o=/<([\w:]+)/.exec(e);if(!o)return n.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var a=o[1];if(a=="body")return(l=n.createElement("html")).innerHTML=e,l.removeChild(l.lastChild);var l,u=Object.prototype.hasOwnProperty.call(ge,a)?ge[a]:ge._default,h=u[0],p=u[1],m=u[2];for((l=n.createElement("div")).innerHTML=p+e+m;h--;)l=l.lastChild;if(l.firstChild==l.lastChild)return l.removeChild(l.firstChild);for(var v=n.createDocumentFragment();l.firstChild;)v.appendChild(l.removeChild(l.firstChild));return v},me=!1;typeof document<"u"&&(($t=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',me=!$t.getElementsByTagName("link").length,$t=void 0);var ge={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:me?[1,"X<div>","</div>"]:[0,"",""]};ge.td=ge.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],ge.option=ge.optgroup=[1,'<select multiple="multiple">',"</select>"],ge.thead=ge.tbody=ge.colgroup=ge.caption=ge.tfoot=[1,"<table>","</table>"],ge.polyline=ge.ellipse=ge.polygon=ge.circle=ge.text=ge.line=ge.path=ge.rect=ge.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Re=de;function Je(e,n){return e&&typeof e.matches=="function"&&e.matches(n)||!1}function Ke(e,n){return(n=n||document).querySelector(e)}function kt(e,n){return(n=n||document).querySelectorAll(e)}function gt(e){e.parentNode&&e.parentNode.removeChild(e)}function We(e,n){return(function(o,a){a.appendChild((function(l,u){if(l.ownerDocument!==u.ownerDocument)try{return u.ownerDocument.importNode(l,!0)}catch{}return l})(o,a))})(n,e),e}var _t={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function ct(e,n,o){var a=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),l=_t[a];l?(l===2&&typeof o=="number"&&(o=String(o)+"px"),e.style[a]=o):e.setAttributeNS(null,n,o)}function Ne(e,n,o){if(typeof n=="string"){if(o===void 0)return(function(a,l){return _t[l]?a.style[l]:a.getAttributeNS(null,l)})(e,n);ct(e,n,o)}else(function(a,l){var u,h,p=Object.keys(l);for(u=0;h=p[u];u++)ct(a,h,l[h])})(e,n);return e}const en=Object.prototype.toString;function rt(e){return new Hn(e)}function Hn(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function Da(e){for(var n;n=e.firstChild;)e.removeChild(n);return e}function tp(e){return e.cloneNode(!0)}Hn.prototype.add=function(e){return this.list.add(e),this},Hn.prototype.remove=function(e){return en.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)},Hn.prototype.removeMatching=function(e){const n=this.array();for(let o=0;o<n.length;o++)e.test(n[o])&&this.remove(n[o]);return this},Hn.prototype.toggle=function(e,n){return n!==void 0?n!==this.list.toggle(e,n)&&this.list.toggle(e):this.list.toggle(e),this},Hn.prototype.array=function(){return Array.from(this.list)},Hn.prototype.has=Hn.prototype.contains=function(e){return this.list.contains(e)};var Ia="http://www.w3.org/2000/svg",s_='<svg xmlns="'+Ia+'"';function q3(e){var n=!1;e.substring(0,4)==="<svg"?e.indexOf(Ia)===-1&&(e=s_+e.substring(4)):(e=s_+">"+e+"</svg>",n=!0);var o=(function(u){var h;return(h=new DOMParser).async=!1,h.parseFromString(u,"text/xml")})(e);if(!n)return o;for(var a=document.createDocumentFragment(),l=o.firstChild;l.firstChild;)a.appendChild(l.firstChild);return a}function ut(e,n){var o;return(e=e.trim()).charAt(0)==="<"?(o=q3(e).firstChild,o=document.importNode(o,!0)):o=document.createElementNS(Ia,e),n&&Ne(o,n),o}var uv=null;function l_(){return uv===null&&(uv=ut("svg")),uv}function c_(e,n){var o,a,l=Object.keys(n);for(o=0;a=l[o];o++)e[a]=n[a];return e}function hu(e){return l_().createSVGTransform()}var u_=/([&<>]{1})/g,eO=/([\n\r"]{1})/g,tO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function fv(e,n){return e.replace(n,(function(o,a){return tO[a]||a}))}function f_(e,n){var o,a,l,u,h;switch(e.nodeType){case 3:n.push(fv(e.textContent,u_));break;case 1:if(n.push("<",e.tagName),e.hasAttributes())for(o=0,a=(l=e.attributes).length;o<a;++o)u=l.item(o),n.push(" ",u.name,'="',fv(u.value,eO),'"');if(e.hasChildNodes()){for(n.push(">"),o=0,a=(h=e.childNodes).length;o<a;++o)f_(h.item(o),n);n.push("</",e.tagName,">")}else n.push("/>");break;case 8:n.push("<!--",fv(e.nodeValue,u_),"-->");break;case 4:n.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return n}function d_(e,n){return(function(o){for(var a=o.firstChild,l=[];a;)f_(a,l),a=a.nextSibling;return l.join("")})(e)}function Wn(e){var n=e.parentNode;return n&&n.removeChild(e),e}function nO(e,n){return n instanceof SVGMatrix?e.createSVGTransformFromMatrix(n):n}function mu(e,n){var o=e.transform.baseVal;return n&&(Array.isArray(n)||(n=[n]),(function(a,l){var u,h;for(a.clear(),u=0;h=l[u];u++)a.appendItem(nO(a,h))})(o,n)),o.consolidate()}const rO=/^class[ {]/;function dv(e){return Array.isArray(e)}function pv(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function np(...e){e.length===1&&dv(e[0])&&(e=e[0]);const n=(e=[...e]).pop();return n.$inject=e,n}const iO=/constructor\s*[^(]*\(\s*([^)]*)\)/m,oO=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,aO=/\/\*([^*]*)\*\//m;function sO(e){if(typeof e!="function")throw new Error(`Cannot annotate "${e}". Expected a function!`);const n=e.toString().match((function(a){return rO.test(a.toString())})(e)?iO:oO);if(!n)return[];const o=n[1]||n[2];return o&&o.split(",").map((a=>{const l=a.match(aO);return(l&&l[1]||a).trim()}))||[]}function p_(e,n){const o=n||{get:function(P,U){if(a.push(P),U===!1)return null;throw p(`No provider for "${P}"!`)}},a=[],l=this._providers=Object.create(o._providers||null),u=this._instances=Object.create(null),h=u.injector=this,p=function(P){const U=a.join(" -> ");return a.length=0,new Error(U?`${P} (Resolving: ${U})`:P)};function m(P,U){if(!l[P]&&P.includes(".")){const K=P.split(".");let Y=m(K.shift());for(;K.length;)Y=Y[K.shift()];return Y}if(pv(u,P))return u[P];if(pv(l,P)){if(a.indexOf(P)!==-1)throw a.push(P),p("Cannot resolve circular dependency!");return a.push(P),u[P]=l[P][0](l[P][1]),a.pop(),u[P]}return o.get(P,U)}function v(P,U){if(U===void 0&&(U={}),typeof P!="function"){if(!dv(P))throw p(`Cannot invoke "${P}". Expected a function!`);P=np(P.slice())}return{fn:P,dependencies:(P.$inject||sO(P)).map((K=>pv(U,K)?U[K]:m(K)))}}function x(P){const{fn:U,dependencies:K}=v(P);return new(Function.prototype.bind.call(U,null,...K))}function _(P,U,K){const{fn:Y,dependencies:se}=v(P,K);return Y.apply(U,se)}function S(P){return np((U=>P.get(U)))}function k(P,U){if(U&&U.length){const K=Object.create(null),Y=Object.create(null),se=[],Ee=[],_e=[];let ye,st,Oe,Me;for(let Pe in l)ye=l[Pe],U.indexOf(Pe)!==-1&&(ye[2]==="private"?(st=se.indexOf(ye[3]),st===-1?(Oe=ye[3].createChild([],U),Me=S(Oe),se.push(ye[3]),Ee.push(Oe),_e.push(Me),K[Pe]=[Me,Pe,"private",Oe]):K[Pe]=[_e[st],Pe,"private",Ee[st]]):K[Pe]=[ye[2],ye[1]],Y[Pe]=!0),ye[2]!=="factory"&&ye[2]!=="type"||!ye[1].$scope||U.forEach((Ve=>{ye[1].$scope.indexOf(Ve)!==-1&&(K[Pe]=[ye[2],ye[1]],Y[Ve]=!0)}));U.forEach((Pe=>{if(!Y[Pe])throw new Error('No provider for "'+Pe+'". Cannot use provider from the parent!')})),P.unshift(K)}return new p_(P,h)}const R={factory:_,type:x,value:function(P){return P}};function O(P,U){const K=P.__init__||[];return function(){K.forEach((Y=>{typeof Y=="string"?U.get(Y):U.invoke(Y)}))}}function F(P){const U=P.__exports__;if(U){const K=P.__modules__,Y=Object.keys(P).reduce(((ye,st)=>(st!=="__exports__"&&st!=="__modules__"&&st!=="__init__"&&st!=="__depends__"&&(ye[st]=P[st]),ye)),Object.create(null)),se=k((K||[]).concat(Y)),Ee=np((function(ye){return se.get(ye)}));U.forEach((function(ye){l[ye]=[Ee,ye,"private",se]}));const _e=(P.__init__||[]).slice();return _e.unshift((function(){se.init()})),O(P=Object.assign({},P,{__init__:_e}),se)}return Object.keys(P).forEach((function(K){if(K==="__init__"||K==="__depends__")return;const Y=P[K];if(Y[2]==="private")return void(l[K]=Y);const se=Y[0],Ee=Y[1];l[K]=[R[se],lO(se,Ee),se]})),O(P,h)}function I(P,U){return P.indexOf(U)!==-1||(P=(U.__depends__||[]).reduce(I,P)).indexOf(U)!==-1?P:P.concat(U)}this.get=m,this.invoke=_,this.instantiate=x,this.createChild=k,this.init=(function(P){const U=P.reduce(I,[]).map(F);let K=!1;return function(){K||(K=!0,U.forEach((Y=>Y())))}})(e)}function lO(e,n){return e!=="value"&&dv(n)&&(n=np(n.slice())),n}function zo(e,n){var o=this;n=n||1e3,e.on(["render.shape","render.connection"],n,(function(a,l){var u=a.type,h=l.element,p=l.gfx,m=l.attrs;if(o.canRender(h))return u==="render.shape"?o.drawShape(p,h,m):o.drawConnection(p,h,m)})),e.on(["render.getShapePath","render.getConnectionPath"],n,(function(a,l){if(o.canRender(l))return a.type==="render.getShapePath"?o.getShapePath(l):o.getConnectionPath(l)}))}function Fs(e){return e.flat().join(",").replace(/,?([A-Za-z]),?/g,"$1")}function hv(e){return["L",e.x,e.y]}function cO(e,n){const o=e.length,a=[(l=e[0],["M",l.x,l.y])];var l,u,h,p;for(let m=1;m<o;m++){const v=e[m-1],x=e[m],_=e[m+1];if(!_||!n){a.push(hv(x));continue}const S=Math.min(n,mv(x.x-v.x,x.y-v.y),mv(_.x-x.x,_.y-x.y));if(!S){a.push(hv(x));continue}const k=rp(x,v,S),R=rp(x,v,.5*S),O=rp(x,_,S),F=rp(x,_,.5*S);a.push(hv(k)),a.push((h=F,p=O,["C",(u=R).x,u.y,h.x,h.y,p.x,p.y]))}return a}function rp(e,n,o){const a=n.x-e.x,l=n.y-e.y,u=o/mv(a,l);return{x:e.x+a*u,y:e.y+l*u}}function mv(e,n){return Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}function gu(e,n,o){T(n)&&(o=n,n=null),n||(n={});const a=ut("path",n);return T(o)&&(a.dataset.cornerRadius=String(o)),gv(a,e)}function gv(e,n){return Ne(e,{d:Fs(cO(n,parseInt(e.dataset.cornerRadius,10)||0))}),e}function ip(e){return M(e,(function(n){return!N(e,(function(o){return o!==n&&h_(n,o)}))}))}function h_(e,n){if(n){if(e===n)return n;if(e.parent)return h_(e.parent,n)}}function m_(e,n,o){var a=!o||e.indexOf(n)===-1;return a&&e.push(n),a}function js(e,n,o){o=o||0,w(e)||(e=[e]),A(e,(function(a,l){var u=n(a,l,o);w(u)&&u.length&&js(u,n,o+1)}))}function vu(e,n){return(function(o,a){var l=[],u=[];return js(o,(function(h,p,m){m_(l,h,a);var v=h.children;if(v&&m_(u,v,a))return v})),l})(e,!n)}function ir(e,n){var o,a,l,u;return n=!!n,w(e)||(e=[e]),A(e,(function(h){var p=h;h.waypoints&&!n&&(p=ir(h.waypoints,!0));var m=p.x,v=p.y,x=p.height||0,_=p.width||0;(m<o||o===void 0)&&(o=m),(v<a||a===void 0)&&(a=v),(m+_>l||l===void 0)&&(l=m+_),(v+x>u||u===void 0)&&(u=v+x)})),{x:o,y:a,height:u-a,width:l-o}}function g_(e,n){var o={};return A(e,(function(a){var l=a;l.waypoints&&(l=ir(l)),!T(n.y)&&l.x>n.x&&(o[a.id]=a),!T(n.x)&&l.y>n.y&&(o[a.id]=a),l.x>n.x&&l.y>n.y&&(T(n.width)&&T(n.height)&&l.width+l.x<n.width+n.x&&l.height+l.y<n.height+n.y?o[a.id]=a:T(n.width)&&T(n.height)||(o[a.id]=a))})),o}function v_(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function y_(e){return!(!e||!e.isFrame)}function yu(e,n){return ie({},e||{},n||{})}zo.prototype.canRender=function(e){},zo.prototype.drawShape=function(e,n){},zo.prototype.drawConnection=function(e,n){},zo.prototype.getShapePath=function(e){},zo.prototype.getConnectionPath=function(e){};function La(e,n){zo.call(this,e,1),this.CONNECTION_STYLE=n.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=n.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=n.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}i(La,zo),La.prototype.canRender=function(){return!0},La.prototype.drawShape=function(e,n,o){var a=ut("rect");return Ne(a,{x:0,y:0,width:n.width||0,height:n.height||0}),y_(n)?Ne(a,ie({},this.FRAME_STYLE,o||{})):Ne(a,ie({},this.SHAPE_STYLE,o||{})),We(e,a),a},La.prototype.drawConnection=function(e,n,o){var a=gu(n.waypoints,ie({},this.CONNECTION_STYLE,o||{}));return We(e,a),a},La.prototype.getShapePath=function(e){var n=e.x,o=e.y,a=e.width;return Fs([["M",n,o],["l",a,0],["l",0,e.height],["l",-a,0],["z"]])},La.prototype.getConnectionPath=function(e){var n,o,a=e.waypoints,l=[];for(n=0;o=a[n];n++)o=o.original||o,l.push([n===0?"M":"L",o.x,o.y]);return Fs(l)},La.$inject=["eventBus","styles"];var uO={__init__:["defaultRenderer"],defaultRenderer:["type",La],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},n=this;this.cls=function(o,a,l){return ie(this.style(a,l),{class:o})},this.style=function(o,a){w(o)||a||(a=o,o=[]);var l=Z(o,(function(u,h){return ie(u,e[h]||{})}),{});return a?ie(l,a):l},this.computeStyle=function(o,a,l){return w(a)||(l=a,a=[]),n.style(a||[],ie({},l,o||{}))}}]};function Kn(e,n){if(!e||!n)return-1;var o=e.indexOf(n);return o!==-1&&e.splice(o,1),o}function or(e,n,o){if(e&&n){typeof o!="number"&&(o=-1);var a=e.indexOf(n);if(a!==-1){if(a===o||o===-1)return;e.splice(a,1)}o!==-1?e.splice(o,0,n):e.push(n)}}function vv(e,n){return e&&n?e.indexOf(n):-1}function bu(e,n){return e&&n?Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)):-1}function yv(e,n,o,a){if(a===void 0&&(a=5),!e||!n||!o)return!1;var l=(n.x-e.x)*(o.y-e.y)-(n.y-e.y)*(o.x-e.x),u=bu(e,n);return Math.abs(l/u)<=a}function Go(e,n){var o=Array.from(arguments).flat();const a={x:"v",y:"h"};for(const[l,u]of Object.entries(a))if(fO(l,o))return u;return!1}function fO(e,n){const o=n[0];return te(n,(function(a){return Math.abs(o[e]-a[e])<=2}))}function b_(e,n,o){return o=o||0,e.x>n.x-o&&e.y>n.y-o&&e.x<n.x+n.width+o&&e.y<n.y+n.height+o}function bv(e,n){return{x:Math.round(e.x+(n.x-e.x)/2),y:Math.round(e.y+(n.y-e.y)/2)}}var dO=/,?([a-z]),?/gi,x_=parseFloat,Xn=Math,$a=Xn.PI,_o=Xn.min,Eo=Xn.max,__=Xn.pow,Ba=Xn.abs,pO=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,hO=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,op=Array.isArray||function(e){return e instanceof Array};function xv(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function xu(e){if(typeof e=="function"||Object(e)!==e)return e;var n=new e.constructor;for(var o in e)xv(e,o)&&(n[o]=xu(e[o]));return n}function zl(e){var n=zl.ps=zl.ps||{};return n[e]?n[e].sleep=100:n[e]={sleep:100},setTimeout((function(){for(var o in n)xv(n,o)&&o!=e&&(n[o].sleep--,!n[o].sleep&&delete n[o])})),n[e]}function _v(e,n,o,a){return arguments.length===1&&(n=e.y,o=e.width,a=e.height,e=e.x),{x:e,y:n,width:o,height:a,x2:e+o,y2:n+a}}function E_(){return this.join(",").replace(dO,"$1")}function ap(e){var n=xu(e);return n.toString=E_,n}function w_(e,n,o,a,l,u,h,p,m){var v=1-m,x=__(v,3),_=__(v,2),S=m*m*m,k=x*n+3*_*m*a+3*v*m*m*u+S*p;return{x:sp(x*e+3*_*m*o+3*v*m*m*l+S*h),y:sp(k)}}function S_(e){var n=(function(o,a,l,u,h,p,m,v){for(var x,_,S,k,R,O,F,I,P=[],U=[[],[]],K=0;K<2;++K)if(K==0?(_=6*o-12*l+6*h,x=-3*o+9*l-9*h+3*m,S=3*l-3*o):(_=6*a-12*u+6*p,x=-3*a+9*u-9*p+3*v,S=3*u-3*a),Ba(x)<1e-12){if(Ba(_)<1e-12)continue;0<(k=-S/_)&&k<1&&P.push(k)}else F=_*_-4*S*x,I=Xn.sqrt(F),F<0||(0<(R=(-_+I)/(2*x))&&R<1&&P.push(R),0<(O=(-_-I)/(2*x))&&O<1&&P.push(O));for(var Y,se=P.length,Ee=se;se--;)Y=1-(k=P[se]),U[0][se]=Y*Y*Y*o+3*Y*Y*k*l+3*Y*k*k*h+k*k*k*m,U[1][se]=Y*Y*Y*a+3*Y*Y*k*u+3*Y*k*k*p+k*k*k*v;return U[0][Ee]=o,U[1][Ee]=a,U[0][Ee+1]=m,U[1][Ee+1]=v,U[0].length=U[1].length=Ee+2,{x0:_o(...U[0]),y0:_o(...U[1]),x1:Eo(...U[0]),y1:Eo(...U[1])}})(...e);return _v(n.x0,n.y0,n.x1-n.x0,n.y1-n.y0)}function Fa(e,n,o){return n>=e.x&&n<=e.x+e.width&&o>=e.y&&o<=e.y+e.height}function C_(e,n,o,a,l){return e*(e*(-3*n+9*o-9*a+3*l)+6*n-12*o+6*a)-3*n+3*o}function T_(e,n,o,a,l,u,h,p,m){m==null&&(m=1);for(var v=(m=m>1?1:m<0?0:m)/2,x=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],_=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],S=0,k=0;k<12;k++){var R=v*x[k]+v,O=C_(R,e,o,l,h),F=C_(R,n,a,u,p),I=O*O+F*F;S+=_[k]*Xn.sqrt(I)}return v*S}function mO(e,n,o,a,l,u,h,p){if(!(Eo(e,o)<_o(l,h)||_o(e,o)>Eo(l,h)||Eo(n,a)<_o(u,p)||_o(n,a)>Eo(u,p))){var m=(e*a-n*o)*(u-p)-(n-a)*(l*p-u*h),v=(e-o)*(u-p)-(n-a)*(l-h);if(v){var x=sp(((e*a-n*o)*(l-h)-(e-o)*(l*p-u*h))/v),_=sp(m/v),S=+x.toFixed(2),k=+_.toFixed(2);if(!(S<+_o(e,o).toFixed(2)||S>+Eo(e,o).toFixed(2)||S<+_o(l,h).toFixed(2)||S>+Eo(l,h).toFixed(2)||k<+_o(n,a).toFixed(2)||k>+Eo(n,a).toFixed(2)||k<+_o(u,p).toFixed(2)||k>+Eo(u,p).toFixed(2)))return{x,y:_}}}}function sp(e){return Math.round(1e11*e)/1e11}function gO(e,n,o){if(!(function(_e,ye){return _e=_v(_e),Fa(ye=_v(ye),_e.x,_e.y)||Fa(ye,_e.x2,_e.y)||Fa(ye,_e.x,_e.y2)||Fa(ye,_e.x2,_e.y2)||Fa(_e,ye.x,ye.y)||Fa(_e,ye.x2,ye.y)||Fa(_e,ye.x,ye.y2)||Fa(_e,ye.x2,ye.y2)||(_e.x<ye.x2&&_e.x>ye.x||ye.x<_e.x2&&ye.x>_e.x)&&(_e.y<ye.y2&&_e.y>ye.y||ye.y<_e.y2&&ye.y>_e.y)})(S_(e),S_(n)))return[];for(var a=T_(...e),l=T_(...n),u=A_(e)?1:~~(a/5)||1,h=A_(n)?1:~~(l/5)||1,p=[],m=[],v={},x=[],_=0;_<u+1;_++){var S=w_(...e,_/u);p.push({x:S.x,y:S.y,t:_/u})}for(_=0;_<h+1;_++)S=w_(...n,_/h),m.push({x:S.x,y:S.y,t:_/h});for(_=0;_<u;_++)for(var k=0;k<h;k++){var R,O=p[_],F=p[_+1],I=m[k],P=m[k+1],U=Ba(F.x-O.x)<.01?"y":"x",K=Ba(P.x-I.x)<.01?"y":"x",Y=mO(O.x,O.y,F.x,F.y,I.x,I.y,P.x,P.y);if(Y){if(v[R=Y.x.toFixed(9)+"#"+Y.y.toFixed(9)])continue;v[R]=!0;var se=O.t+Ba((Y[U]-O[U])/(F[U]-O[U]))*(F.t-O.t),Ee=I.t+Ba((Y[K]-I[K])/(P[K]-I[K]))*(P.t-I.t);se>=0&&se<=1&&Ee>=0&&Ee<=1&&x.push({x:Y.x,y:Y.y,t1:se,t2:Ee})}}return x}function k_(e,n,o){e=N_(e),n=N_(n);for(var a,l,u,h,p,m,v,x,_,S,k=[],R=0,O=e.length;R<O;R++){var F=e[R];if(F[0]=="M")a=p=F[1],l=m=F[2];else{F[0]=="C"?(a=(_=[a,l,...F.slice(1)])[6],l=_[7]):(_=[a,l,a,l,p,m,p,m],a=p,l=m);for(var I=0,P=n.length;I<P;I++){var U=n[I];if(U[0]=="M")u=v=U[1],h=x=U[2];else{U[0]=="C"?(u=(S=[u,h,...U.slice(1)])[6],h=S[7]):(S=[u,h,u,h,v,x,v,x],u=v,h=x);for(var K=gO(_,S),Y=0,se=K.length;Y<se;Y++)K[Y].segment1=R,K[Y].segment2=I,K[Y].bez1=_,K[Y].bez2=S;k=k.concat(K)}}}}return k}function vO(e){var n=zl(e);if(n.abs)return ap(n.abs);if(op(e)&&op(e&&e[0])||(e=(function(I){if(!I)return null;var P=zl(I);if(P.arr)return xu(P.arr);var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},K=[];return op(I)&&op(I[0])&&(K=xu(I)),K.length||String(I).replace(pO,(function(Y,se,Ee){var _e=[],ye=se.toLowerCase();for(Ee.replace(hO,(function(st,Oe){Oe&&_e.push(+Oe)})),ye=="m"&&_e.length>2&&(K.push([se,..._e.splice(0,2)]),ye="l",se=se=="m"?"l":"L");_e.length>=U[ye]&&(K.push([se,..._e.splice(0,U[ye])]),U[ye]););})),K.toString=zl.toString,P.arr=xu(K),K})(e)),!e||!e.length)return[["M",0,0]];var o,a=[],l=0,u=0,h=0,p=0,m=0;e[0][0]=="M"&&(h=l=+e[0][1],p=u=+e[0][2],m++,a[0]=["M",l,u]);for(var v,x,_=m,S=e.length;_<S;_++){if(a.push(v=[]),(o=(x=e[_])[0])!=o.toUpperCase())switch(v[0]=o.toUpperCase(),v[0]){case"A":v[1]=x[1],v[2]=x[2],v[3]=x[3],v[4]=x[4],v[5]=x[5],v[6]=+x[6]+l,v[7]=+x[7]+u;break;case"V":v[1]=+x[1]+u;break;case"H":v[1]=+x[1]+l;break;case"M":h=+x[1]+l,p=+x[2]+u;default:for(var k=1,R=x.length;k<R;k++)v[k]=+x[k]+(k%2?l:u)}else for(var O=0,F=x.length;O<F;O++)v[O]=x[O];switch(o=o.toUpperCase(),v[0]){case"Z":l=+h,u=+p;break;case"H":l=v[1];break;case"V":u=v[1];break;case"M":h=v[v.length-2],p=v[v.length-1];default:l=v[v.length-2],u=v[v.length-1]}}return a.toString=E_,n.abs=ap(a),a}function A_(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function lp(e,n,o,a){return[e,n,o,a,o,a]}function R_(e,n,o,a,l,u){var h=.3333333333333333,p=2/3;return[h*e+p*o,h*n+p*a,h*l+p*o,h*u+p*a,l,u]}function P_(e,n,o,a,l,u,h,p,m,v){var x,_=120*$a/180,S=$a/180*(+l||0),k=[],R=(function(Po){return function wn(){var fn=Array.prototype.slice.call(arguments,0).join(""),sr=wn.cache=wn.cache||{},yr=wn.count=wn.count||[];return xv(sr,fn)?((function(On,Mr){for(var ne=0,B=On.length;ne<B;ne++)if(On[ne]===Mr)return On.push(On.splice(ne,1)[0])})(yr,fn),sr[fn]):(yr.length>=1e3&&delete sr[yr.shift()],yr.push(fn),sr[fn]=Po(...arguments),sr[fn])}})((function(Po,wn,fn){return{x:Po*Xn.cos(fn)-wn*Xn.sin(fn),y:Po*Xn.sin(fn)+wn*Xn.cos(fn)}}));if(v)Ee=v[0],_e=v[1],Y=v[2],se=v[3];else{e=(x=R(e,n,-S)).x,n=x.y;var O=(e-(p=(x=R(p,m,-S)).x))/2,F=(n-(m=x.y))/2,I=O*O/(o*o)+F*F/(a*a);I>1&&(o*=I=Xn.sqrt(I),a*=I);var P=o*o,U=a*a,K=(u==h?-1:1)*Xn.sqrt(Ba((P*U-P*F*F-U*O*O)/(P*F*F+U*O*O))),Y=K*o*F/a+(e+p)/2,se=K*-a*O/o+(n+m)/2,Ee=Xn.asin(((n-se)/a).toFixed(9)),_e=Xn.asin(((m-se)/a).toFixed(9));(Ee=e<Y?$a-Ee:Ee)<0&&(Ee=2*$a+Ee),(_e=p<Y?$a-_e:_e)<0&&(_e=2*$a+_e),h&&Ee>_e&&(Ee-=2*$a),!h&&_e>Ee&&(_e-=2*$a)}var ye=_e-Ee;if(Ba(ye)>_){var st=_e,Oe=p,Me=m;_e=Ee+_*(h&&_e>Ee?1:-1),k=P_(p=Y+o*Xn.cos(_e),m=se+a*Xn.sin(_e),o,a,l,0,h,Oe,Me,[_e,st,Y,se])}ye=_e-Ee;var Pe=Xn.cos(Ee),Ve=Xn.sin(Ee),nt=Xn.cos(_e),Mt=Xn.sin(_e),Rt=Xn.tan(ye/4),Dt=4/3*o*Rt,Ft=4/3*a*Rt,En=[e,n],Dn=[e+Dt*Ve,n-Ft*Pe],Lt=[p+Dt*Mt,m-Ft*nt],Ct=[p,m];if(Dn[0]=2*En[0]-Dn[0],Dn[1]=2*En[1]-Dn[1],v)return[Dn,Lt,Ct].concat(k);for(var oa=[],qr=0,aa=(k=[Dn,Lt,Ct].concat(k).join().split(",")).length;qr<aa;qr++)oa[qr]=qr%2?R(k[qr-1],k[qr],S).y:R(k[qr],k[qr+1],S).x;return oa}function N_(e){var n=zl(e);if(n.curve)return ap(n.curve);for(var o=vO(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(k,R,O){var F,I;if(!k)return["C",R.x,R.y,R.x,R.y,R.x,R.y];switch(!(k[0]in{T:1,Q:1})&&(R.qx=R.qy=null),k[0]){case"M":R.X=k[1],R.Y=k[2];break;case"A":k=["C",...P_(R.x,R.y,...k.slice(1))];break;case"S":O=="C"||O=="S"?(F=2*R.x-R.bx,I=2*R.y-R.by):(F=R.x,I=R.y),k=["C",F,I,...k.slice(1)];break;case"T":O=="Q"||O=="T"?(R.qx=2*R.x-R.qx,R.qy=2*R.y-R.qy):(R.qx=R.x,R.qy=R.y),k=["C",...R_(R.x,R.y,R.qx,R.qy,k[1],k[2])];break;case"Q":R.qx=k[1],R.qy=k[2],k=["C",...R_(R.x,R.y,k[1],k[2],k[3],k[4])];break;case"L":k=["C",...lp(R.x,R.y,k[1],k[2])];break;case"H":k=["C",...lp(R.x,R.y,k[1],R.y)];break;case"V":k=["C",...lp(R.x,R.y,R.x,k[1])];break;case"Z":k=["C",...lp(R.x,R.y,R.X,R.Y)]}return k},u=function(k,R){if(k[R].length>7){k[R].shift();for(var O=k[R];O.length;)h[R]="A",k.splice(R++,0,["C",...O.splice(0,6)]);k.splice(R,1),x=o.length}},h=[],p="",m="",v=0,x=o.length;v<x;v++){o[v]&&(p=o[v][0]),p!="C"&&(h[v]=p,v&&(m=h[v-1])),o[v]=l(o[v],a,m),h[v]!="A"&&p=="C"&&(h[v]="C"),u(o,v);var _=o[v],S=_.length;a.x=_[S-2],a.y=_[S-1],a.bx=x_(_[S-4])||a.x,a.by=x_(_[S-3])||a.y}return n.curve=ap(o),o}function mn(e){return C(e)&&H(e,"waypoints")}function Bt(e){return C(e)&&H(e,"labelTarget")}function O_(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function ja(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function mt(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function cp(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function yO(e){for(var n=e.waypoints,o=n.reduce((function(m,v,x){var _=n[x-1];if(_){var S=m[m.length-1],k=S&&S.endLength||0,R=(function(O,F){return Math.sqrt(Math.pow(O.x-F.x,2)+Math.pow(O.y-F.y,2))})(_,v);m.push({start:_,end:v,startLength:k,endLength:k+R,length:R})}return m}),[]),a=o.reduce((function(m,v){return m+v.length}),0),l=a/2,u=0,h=o[u];h.endLength<l;)h=o[++u];var p=(l-h.startLength)/h.length;return{x:h.start.x+(h.end.x-h.start.x)*p,y:h.start.y+(h.end.y-h.start.y)*p}}function vt(e){return mn(e)?yO(e):ja({x:(n=e).x+(n.width||0)/2,y:n.y+(n.height||0)/2});var n}function Ar(e,n,o){C(o=o||0)||(o={x:o,y:o});var a=mt(e),l=mt(n),u=a.bottom+o.y<=l.top,h=a.left-o.x>=l.right,p=a.top-o.y>=l.bottom,m=u?"top":p?"bottom":null,v=a.right+o.x<=l.left?"left":h?"right":null;return v&&m?m+"-"+v:v||m||"intersect"}function _u(e,n,o){var a=(function(l,u){return k_(l,u)})(e,n);return a.length===1||a.length===2&&bu(a[0],a[1])<1?ja(a[0]):a.length>1?(a=ue(a,(function(l){var u=Math.floor(100*l.t2)||1;return u=((u=100-u)<10?"0":"")+u,l.segment2+"#"+u})),ja(a[o?0:a.length-1])):null}function up(e,n){return Math.round(e*n)/n}function M_(e){return T(e)?e+"px":e}function D_(e,n,o){const a=ut("g");rt(a).add(n);const l=o!==void 0?o:e.childNodes.length-1;return e.insertBefore(a,e.childNodes[l]||null),a}const bO={shape:["x","y","width","height"],connection:["waypoints"]};function bt(e,n,o,a){this._eventBus=n,this._elementRegistry=a,this._graphicsFactory=o,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._focused=!1,this._init(e||{})}function I_(e,n){const o="matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")";e.setAttribute("transform",o)}bt.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],bt.prototype._init=function(e){const n=this._eventBus,o=this._container=(function(u){const h=(u=ie({},{width:"100%",height:"100%"},u)).container||document.body,p=document.createElement("div");return p.setAttribute("class","djs-container djs-parent"),X(p,{position:"relative",overflow:"hidden",width:M_(u.width),height:M_(u.height)}),h.appendChild(p),p})(e),a=this._svg=ut("svg");Ne(a,{width:"100%",height:"100%"}),q(a,"tabindex",0),e.autoFocus&&n.on("element.hover",(()=>{this.restoreFocus()})),n.on("element.mousedown",500,(u=>{this.focus()})),a.addEventListener("focusin",(()=>{this._setFocused(!0)})),a.addEventListener("focusout",(()=>{this._setFocused(!1)})),We(o,a);const l=this._viewport=D_(a,"viewport");e.deferUpdate&&(this._viewboxChanged=ot(Ye(this._viewboxChanged,this),300)),n.on("diagram.init",(()=>{n.fire("canvas.init",{svg:a,viewport:l})})),n.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],(()=>{delete this._cachedViewbox})),n.on("diagram.destroy",500,this._destroy,this),n.on("diagram.clear",500,this._clear,this)},bt.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},bt.prototype._setFocused=function(e){e!=this._focused&&(this._focused=e,this._eventBus.fire("canvas.focus.changed",{focused:e}))},bt.prototype._clear=function(){this._elementRegistry.getAll().forEach((e=>{const n=v_(e);n==="root"?this.removeRootElement(e):this._removeElement(e,n)})),this._planes=[],this._rootElement=null,delete this._cachedViewbox},bt.prototype.focus=function(){this._svg.focus({preventScroll:!0}),this._setFocused(!0)},bt.prototype.restoreFocus=function(){document.activeElement===document.body&&this.focus()},bt.prototype.isFocused=function(){return this._focused},bt.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},bt.prototype.getLayer=function(e,n){if(!e)throw new Error("must specify a name");let o=this._layers[e];if(o||(o=this._layers[e]=this._createLayer(e,n)),n!==void 0&&o.index!==n)throw new Error("layer <"+e+"> already created at index <"+n+">");return o.group},bt.prototype._getChildIndex=function(e){return Z(this._layers,(function(n,o){return o.visible&&e>=o.index&&n++,n}),0)},bt.prototype._createLayer=function(e,n){n===void 0&&(n=1);const o=this._getChildIndex(n);return{group:D_(this._viewport,"layer-"+e,o),index:n,visible:!0}},bt.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");const n=this._layers[e];if(!n)throw new Error("layer <"+e+"> does not exist");const o=this._viewport,a=n.group,l=n.index;if(n.visible)return a;const u=this._getChildIndex(l);return o.insertBefore(a,o.childNodes[u]||null),n.visible=!0,a},bt.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");const n=this._layers[e];if(!n)throw new Error("layer <"+e+"> does not exist");const o=n.group;return n.visible&&(Wn(o),n.visible=!1),o},bt.prototype._removeLayer=function(e){const n=this._layers[e];n&&(delete this._layers[e],Wn(n.group))},bt.prototype.getActiveLayer=function(){const e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null},bt.prototype.findRoot=function(e){return typeof e=="string"&&(e=this._elementRegistry.get(e)),e?(this._findPlaneForRoot((function(o){for(;o.parent;)o=o.parent;return o})(e))||{}).rootElement:void 0},bt.prototype.getRootElements=function(){return this._planes.map((function(e){return e.rootElement}))},bt.prototype._findPlaneForRoot=function(e){return N(this._planes,(function(n){return n.rootElement===e}))},bt.prototype.getContainer=function(){return this._container},bt.prototype._updateMarker=function(e,n,o){let a;e.id||(e=this._elementRegistry.get(e)),e.markers=e.markers||new Set,a=this._elementRegistry._elements[e.id],a&&(A([a.gfx,a.secondaryGfx],(function(l){l&&(o?(e.markers.add(n),rt(l).add(n)):(e.markers.delete(n),rt(l).remove(n)))})),this._eventBus.fire("element.marker.update",{element:e,gfx:a.gfx,marker:n,add:!!o}))},bt.prototype.addMarker=function(e,n){this._updateMarker(e,n,!0)},bt.prototype.removeMarker=function(e,n){this._updateMarker(e,n,!1)},bt.prototype.hasMarker=function(e,n){return e.id||(e=this._elementRegistry.get(e)),!!e.markers&&e.markers.has(n)},bt.prototype.toggleMarker=function(e,n){this.hasMarker(e,n)?this.removeMarker(e,n):this.addMarker(e,n)},bt.prototype.getRootElement=function(){const e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))},bt.prototype.addRootElement=function(e){const n=this._rootsIdx++;e||(e={id:"__implicitroot_"+n,children:[],isImplicit:!0});const o=e.layer="root-"+n;this._ensureValid("root",e);const a=this.getLayer(o,0);return this.hideLayer(o),this._addRoot(e,a),this._planes.push({rootElement:e,layer:a}),e},bt.prototype.removeRootElement=function(e){if(typeof e=="string"&&(e=this._elementRegistry.get(e)),this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter((function(n){return n.rootElement!==e})),this._rootElement===e&&(this._rootElement=null),e},bt.prototype.setRootElement=function(e){if(e===this._rootElement)return e;let n;if(!e)throw new Error("rootElement required");return n=this._findPlaneForRoot(e),n||(e=this.addRootElement(e)),this._setRoot(e),e},bt.prototype._removeRoot=function(e){const n=this._elementRegistry,o=this._eventBus;o.fire("root.remove",{element:e}),o.fire("root.removed",{element:e}),n.remove(e)},bt.prototype._addRoot=function(e,n){const o=this._elementRegistry,a=this._eventBus;a.fire("root.add",{element:e}),o.add(e,n),a.fire("root.added",{element:e,gfx:n})},bt.prototype._setRoot=function(e,n){const o=this._rootElement;o&&(this._elementRegistry.updateGraphics(o,null,!0),this.hideLayer(o.layer)),e&&(n||(n=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})},bt.prototype._ensureValid=function(e,n){if(!n.id)throw new Error("element must have an id");if(this._elementRegistry.get(n.id))throw new Error("element <"+n.id+"> already exists");const o=bO[e];if(!te(o,(function(l){return n[l]!==void 0})))throw new Error("must supply { "+o.join(", ")+" } with "+e)},bt.prototype._setParent=function(e,n,o){or(n.children,e,o),e.parent=n},bt.prototype._addElement=function(e,n,o,a){o=o||this.getRootElement();const l=this._eventBus,u=this._graphicsFactory;this._ensureValid(e,n),l.fire(e+".add",{element:n,parent:o}),this._setParent(n,o,a);const h=u.create(e,n,a);return this._elementRegistry.add(n,h),u.update(e,n,h),l.fire(e+".added",{element:n,gfx:h}),n},bt.prototype.addShape=function(e,n,o){return this._addElement("shape",e,n,o)},bt.prototype.addConnection=function(e,n,o){return this._addElement("connection",e,n,o)},bt.prototype._removeElement=function(e,n){const o=this._elementRegistry,a=this._graphicsFactory,l=this._eventBus;if(e=o.get(e.id||e))return l.fire(n+".remove",{element:e}),a.remove(e),Kn(e.parent&&e.parent.children,e),e.parent=null,l.fire(n+".removed",{element:e}),o.remove(e),e},bt.prototype.removeShape=function(e){return this._removeElement(e,"shape")},bt.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},bt.prototype.getGraphics=function(e,n){return this._elementRegistry.getGraphics(e,n)},bt.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},bt.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},bt.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return structuredClone(this._cachedViewbox);const n=this._viewport,o=this.getSize();let a,l,u,h,p,m,v;return e?(this._changeViewbox((function(){p=Math.min(o.width/e.width,o.height/e.height);const x=this._svg.createSVGMatrix().scale(p).translate(-e.x,-e.y);mu(n,x)})),e):(u=this._rootElement?this.getActiveLayer():null,a=u&&u.getBBox()||{},h=mu(n),l=h?h.matrix:(function(x,_,S,k,R,O){var F=l_().createSVGMatrix();switch(arguments.length){case 0:return F;case 1:return c_(F,x);case 6:return c_(F,{a:x,b:_,c:S,d:k,e:R,f:O})}})(),p=up(l.a,1e3),m=up(-l.e||0,1e3),v=up(-l.f||0,1e3),e=this._cachedViewbox={x:m?m/p:0,y:v?v/p:0,width:o.width/p,height:o.height/p,scale:p,inner:{width:a.width||0,height:a.height||0,x:a.x||0,y:a.y||0},outer:o})},bt.prototype.scroll=function(e){const n=this._viewport;let o=n.getCTM();return e&&this._changeViewbox((function(){e=ie({dx:0,dy:0},e||{}),o=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(o),I_(n,o)})),{x:o.e,y:o.f}},bt.prototype.scrollToElement=function(e,n){let o=100;typeof e=="string"&&(e=this._elementRegistry.get(e));const a=this.findRoot(e);if(a!==this.getRootElement()&&this.setRootElement(a),a===e)return;n||(n={}),typeof n=="number"&&(o=n),n={top:n.top||o,right:n.right||o,bottom:n.bottom||o,left:n.left||o};const l=ir(e),u=mt(l),h=this.viewbox(),p=this.zoom();let m,v;h.y+=n.top/p,h.x+=n.left/p,h.width-=(n.right+n.left)/p,h.height-=(n.bottom+n.top)/p;const x=mt(h);if(l.width<h.width&&l.height<h.height){const _=Math.max(0,u.right-x.right),S=Math.min(0,u.left-x.left),k=Math.max(0,u.bottom-x.bottom),R=Math.min(0,u.top-x.top);m=_||S,v=k||R}else m=l.x-h.x,v=l.y-h.y;this.scroll({dx:-m*p,dy:-v*p})},bt.prototype.zoom=function(e,n){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(n);let o,a;return this._changeViewbox((function(){typeof n!="object"&&(o=this.viewbox().outer,n={x:o.width/2,y:o.height/2}),a=this._setZoom(e,n)})),up(a.a,1e3)},bt.prototype._fitViewport=function(e){const n=this.viewbox(),o=n.outer,a=n.inner;let l,u;return a.x>=0&&a.y>=0&&a.x+a.width<=o.width&&a.y+a.height<=o.height&&!e?u={x:0,y:0,width:Math.max(a.width+a.x,o.width),height:Math.max(a.height+a.y,o.height)}:(l=Math.min(1,o.width/a.width,o.height/a.height),u={x:a.x+(e?a.width/2-o.width/l/2:0),y:a.y+(e?a.height/2-o.height/l/2:0),width:o.width/l,height:o.height/l}),this.viewbox(u),this.viewbox(!1).scale},bt.prototype._setZoom=function(e,n){const o=this._svg,a=this._viewport,l=o.createSVGMatrix(),u=o.createSVGPoint();let h,p,m,v,x;m=a.getCTM();const _=m.a;return n?(h=ie(u,n),p=h.matrixTransform(m.inverse()),v=l.translate(p.x,p.y).scale(1/_*e).translate(-p.x,-p.y),x=m.multiply(v)):x=l.scale(e),I_(this._viewport,x),x},bt.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},bt.prototype.getAbsoluteBBox=function(e){const n=this.viewbox();let o;return e.waypoints?o=this.getGraphics(e).getBBox():o=e,{x:o.x*n.scale-n.x*n.scale,y:o.y*n.scale-n.y*n.scale,width:o.width*n.scale,height:o.height*n.scale}},bt.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Gl="data-element-id";function wi(e){this._elements={},this._eventBus=e}function L_(e,n,o){var a=(function(l,u,h,p){var m=h.inverse;return Object.defineProperty(l,"remove",{value:function(v){var x=this.indexOf(v);return x!==-1&&(this.splice(x,1),u.unset(v,m,p)),v}}),Object.defineProperty(l,"contains",{value:function(v){return this.indexOf(v)!==-1}}),Object.defineProperty(l,"add",{value:function(v,x){var _=this.indexOf(v);if(x===void 0){if(_!==-1)return;x=this.length}_!==-1&&this.splice(_,1),this.splice(x,0,v),_===-1&&u.set(v,m,p)}}),Object.defineProperty(l,"__refs_collection",{value:!0}),l})(o[n.name]||[],e,n,o);Object.defineProperty(o,n.name,{enumerable:n.enumerable,value:a}),a.length&&a.forEach((function(l){e.set(l,n.inverse,o)}))}function Ii(e,n){if(!(this instanceof Ii))return new Ii(e,n);e.inverse=n,n.inverse=e,this.props={},this.props[e.name]=e,this.props[n.name]=n}wi.$inject=["eventBus"],wi.prototype.add=function(e,n,o){var a=e.id;this._validateId(a),Ne(n,Gl,a),o&&Ne(o,Gl,a),this._elements[a]={element:e,gfx:n,secondaryGfx:o}},wi.prototype.remove=function(e){var n=this._elements,o=e.id||e,a=o&&n[o];a&&(Ne(a.gfx,Gl,""),a.secondaryGfx&&Ne(a.secondaryGfx,Gl,""),delete n[o])},wi.prototype.updateId=function(e,n){this._validateId(n),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:n});var o=this.getGraphics(e),a=this.getGraphics(e,!0);this.remove(e),e.id=n,this.add(e,o,a)},wi.prototype.updateGraphics=function(e,n,o){var a=e.id||e,l=this._elements[a];return o?l.secondaryGfx=n:l.gfx=n,n&&Ne(n,Gl,a),n},wi.prototype.get=function(e){var n;n=typeof e=="string"?e:e&&Ne(e,Gl);var o=this._elements[n];return o&&o.element},wi.prototype.filter=function(e){var n=[];return this.forEach((function(o,a){e(o,a)&&n.push(o)})),n},wi.prototype.find=function(e){for(var n=this._elements,o=Object.keys(n),a=0;a<o.length;a++){var l=n[o[a]],u=l.element;if(e(u,l.gfx))return u}},wi.prototype.getAll=function(){return this.filter((function(e){return e}))},wi.prototype.forEach=function(e){var n=this._elements;Object.keys(n).forEach((function(o){var a=n[o],l=a.element,u=a.gfx;return e(l,u)}))},wi.prototype.getGraphics=function(e,n){var o=e.id||e,a=this._elements[o];return a&&(n?a.secondaryGfx:a.gfx)},wi.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")},Ii.prototype.bind=function(e,n){if(typeof n=="string"){if(!this.props[n])throw new Error("no property <"+n+"> in ref");n=this.props[n]}n.collection?L_(this,n,e):(function(o,a,l){var u=a.inverse,h=l[a.name];Object.defineProperty(l,a.name,{configurable:a.configurable,enumerable:a.enumerable,get:function(){return h},set:function(p){if(p!==h){var m=h;h=null,m&&o.unset(m,u,l),h=p,o.set(h,u,l)}}})})(this,n,e)},Ii.prototype.ensureRefsCollection=function(e,n){var o=e[n.name];return(function(a){return a.__refs_collection===!0})(o)||L_(this,n,e),o},Ii.prototype.ensureBound=function(e,n){(function(o,a){return Object.prototype.hasOwnProperty.call(o,a.name||a)})(e,n)||this.bind(e,n)},Ii.prototype.unset=function(e,n,o){e&&(this.ensureBound(e,n),n.collection?this.ensureRefsCollection(e,n).remove(o):e[n.name]=void 0)},Ii.prototype.set=function(e,n,o){e&&(this.ensureBound(e,n),n.collection?this.ensureRefsCollection(e,n).add(o):e[n.name]=o)};var Ev=new Ii({name:"children",enumerable:!0,collection:!0},{name:"parent"}),$_=new Ii({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),B_=new Ii({name:"attachers",collection:!0},{name:"host"}),F_=new Ii({name:"outgoing",collection:!0},{name:"source"}),j_=new Ii({name:"incoming",collection:!0},{name:"target"});function Wl(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var n=this.label,o=this.labels;!e&&n?o.remove(n):o.add(e,0)}}),Ev.bind(this,"parent"),$_.bind(this,"labels"),F_.bind(this,"outgoing"),j_.bind(this,"incoming")}function Eu(){Wl.call(this),Ev.bind(this,"children"),B_.bind(this,"host"),B_.bind(this,"attachers")}function V_(){Wl.call(this),Ev.bind(this,"children")}function H_(){Eu.call(this),$_.bind(this,"labelTarget")}function U_(){Wl.call(this),F_.bind(this,"source"),j_.bind(this,"target")}i(Eu,Wl),i(V_,Eu),i(H_,Eu),i(U_,Wl);var xO={connection:U_,shape:Eu,label:H_,root:V_};function Wo(){this._uid=12}Wo.prototype.createRoot=function(e){return this.create("root",e)},Wo.prototype.createLabel=function(e){return this.create("label",e)},Wo.prototype.createShape=function(e){return this.create("shape",e)},Wo.prototype.createConnection=function(e){return this.create("connection",e)},Wo.prototype.create=function(e,n){return(n=ie({},n||{})).id||(n.id=e+"_"+this._uid++),(function(o,a){var l=xO[o];if(!l)throw new Error("unknown type: <"+o+">");return ie(new l,a)})(e,n)};var fp="__fn",_O=Array.prototype.slice;function ui(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function wu(){}function Vs(e){return e.childNodes[0]}function dp(e,n,o,a,l){var u=hu();u.setTranslate(n,o);var h=hu();h.setRotate(a||0,0,0);var p=hu();p.setScale(1,1),mu(e,[u,h,p])}function Er(e,n,o){var a=hu();a.setTranslate(n,o),mu(e,a)}function z_(e,n){var o=hu();o.setRotate(n,0,0),mu(e,o)}function Si(e,n){this._eventBus=e,this._elementRegistry=n}function G_(e,n,o){var a=o||n.firstChild;e!==a&&n.insertBefore(e,a)}ui.prototype.on=function(e,n,o,a){if(e=w(e)?e:[e],D(n)&&(a=o,o=n,n=1e3),!T(n))throw new Error("priority must be a number");var l=o;a&&((l=Ye(o,a))[fp]=o[fp]||o);var u=this;e.forEach((function(h){u._addListener(h,{priority:n,callback:l,next:null})}))},ui.prototype.once=function(e,n,o,a){var l=this;if(D(n)&&(a=o,o=n,n=1e3),!T(n))throw new Error("priority must be a number");function u(){u.__isTomb=!0;var h=o.apply(a,arguments);return l.off(e,u),h}u[fp]=o,this.on(e,n,u)},ui.prototype.off=function(e,n){e=w(e)?e:[e];var o=this;e.forEach((function(a){o._removeListener(a,n)}))},ui.prototype.createEvent=function(e){var n=new wu;return n.init(e),n},ui.prototype.fire=function(e,n){var o,a,l,u;if(u=_O.call(arguments),typeof e=="object"&&(e=(n=e).type),!e)throw new Error("no event type specified");if(a=this._listeners[e]){o=n instanceof wu?n:this.createEvent(n),u[0]=o;var h=o.type;e!==h&&(o.type=e);try{l=this._invokeListeners(o,u,a)}finally{e!==h&&(o.type=h)}return l===void 0&&o.defaultPrevented&&(l=!1),l}},ui.prototype.handleError=function(e){return this.fire("error",{error:e})===!1},ui.prototype._destroy=function(){this._listeners={}},ui.prototype._invokeListeners=function(e,n,o){for(var a;o&&!e.cancelBubble;)a=this._invokeListener(e,n,o),o=o.next;return a},ui.prototype._invokeListener=function(e,n,o){var a;if(o.callback.__isTomb)return a;try{a=(function(l,u){return l.apply(null,u)})(o.callback,n),a!==void 0&&(e.returnValue=a,e.stopPropagation()),a===!1&&e.preventDefault()}catch(l){if(!this.handleError(l))throw console.error("unhandled error in event listener",l),l}return a},ui.prototype._addListener=function(e,n){var o,a=this._getListeners(e);if(a){for(;a;){if(a.priority<n.priority)return n.next=a,void(o?o.next=n:this._setListeners(e,n));o=a,a=a.next}o.next=n}else this._setListeners(e,n)},ui.prototype._getListeners=function(e){return this._listeners[e]},ui.prototype._setListeners=function(e,n){this._listeners[e]=n},ui.prototype._removeListener=function(e,n){var o,a,l,u=this._getListeners(e);if(n)for(;u;)o=u.next,(l=u.callback)!==n&&l[fp]!==n||(a?a.next=o:this._setListeners(e,o)),a=u,u=o;else this._setListeners(e,null)},wu.prototype.stopPropagation=function(){this.cancelBubble=!0},wu.prototype.preventDefault=function(){this.defaultPrevented=!0},wu.prototype.init=function(e){ie(this,e||{})},Si.$inject=["eventBus","elementRegistry"],Si.prototype._getChildrenContainer=function(e){var n,o=this._elementRegistry.getGraphics(e);return e.parent?(n=(function(a){return a.parentNode.childNodes[1]})(o),n||(rt(n=ut("g")).add("djs-children"),We(o.parentNode,n))):n=o,n},Si.prototype._clear=function(e){var n=Vs(e);return $e(n),n},Si.prototype._createContainer=function(e,n,o,a){var l=ut("g");rt(l).add("djs-group"),o!==void 0?G_(l,n,n.childNodes[o]):We(n,l);var u=ut("g");rt(u).add("djs-element"),rt(u).add("djs-"+e),a&&rt(u).add("djs-frame"),We(l,u);var h=ut("g");return rt(h).add("djs-visual"),We(u,h),u},Si.prototype.create=function(e,n,o){var a=this._getChildrenContainer(n.parent);return this._createContainer(e,a,o,y_(n))},Si.prototype.updateContainments=function(e){var n,o=this,a=this._elementRegistry;n=Z(e,(function(l,u){return u.parent&&(l[u.parent.id]=u.parent),l}),{}),A(n,(function(l){var u=l.children;if(u){var h=o._getChildrenContainer(l);A(u.slice().reverse(),(function(p){G_(a.getGraphics(p).parentNode,h)}))}}))},Si.prototype.drawShape=function(e,n,o={}){return this._eventBus.fire("render.shape",{gfx:e,element:n,attrs:o})},Si.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},Si.prototype.drawConnection=function(e,n,o={}){return this._eventBus.fire("render.connection",{gfx:e,element:n,attrs:o})},Si.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},Si.prototype.update=function(e,n,o){if(n.parent){var a=this._clear(o);if(e==="shape")this.drawShape(a,n),Er(o,n.x,n.y);else{if(e!=="connection")throw new Error("unknown type: "+e);this.drawConnection(a,n)}n.hidden?Ne(o,"display","none"):Ne(o,"display","block")}},Si.prototype.remove=function(e){Wn(this._elementRegistry.getGraphics(e).parentNode)};var EO={__depends__:[uO],__init__:["canvas"],canvas:["type",bt],elementRegistry:["type",wi],elementFactory:["type",Wo],eventBus:["type",ui],graphicsFactory:["type",Si]};function wO(e){return(function(n){var o=new p_(n);return o.init(),o})([{config:["value",e=e||{}]},EO].concat(e.modules||[]))}function Va(e,n){this._injector=n||wO(e),this.get("eventBus").fire("diagram.init")}function wv(){}function W_(e,n){this.model=e,this.properties=n}Va.prototype.get=function(e,n){return this._injector.get(e,n)},Va.prototype.invoke=function(e,n,o){return this._injector.invoke(e,n,o)},Va.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Va.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},wv.prototype.get=function(e){return this.$model.properties.get(this,e)},wv.prototype.set=function(e,n){this.$model.properties.set(this,e,n)},W_.prototype.createType=function(e){var n=this.model,o=this.properties,a=Object.create(wv.prototype);A(e.properties,(function(h){h.isMany||h.default===void 0||(a[h.name]=h.default)})),o.defineModel(a,n),o.defineDescriptor(a,e);var l=e.ns.name;function u(h){o.define(this,"$type",{value:l,enumerable:!0}),o.define(this,"$attrs",{value:{}}),o.define(this,"$parent",{writable:!0}),A(h,Ye((function(p,m){this.set(m,p)}),this))}return u.prototype=a,u.hasType=a.$instanceOf=this.model.hasType,o.defineModel(u,n),o.defineDescriptor(u,e),u};var SO={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},K_={String:function(e){return e},Boolean:function(e){return e==="true"},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function Sv(e,n){var o=K_[e];return o?o(n):n}function Cv(e){return!!SO[e]}function X_(e){return!!K_[e]}function Rr(e,n){var o,a,l=e.split(/:/);if(l.length===1)o=e,a=n;else{if(l.length!==2)throw new Error("expected <prefix:localName> or <localName>, got "+e);o=l[1],a=l[0]}return{name:e=(a?a+":":"")+o,prefix:a,localName:o}}function Ci(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Ha(e,n){this.packageMap={},this.typeMap={},this.packages=[],this.properties=n,A(e,Ye(this.registerPackage,this))}function Y_(e,n,o){var a=n[o];if(a in e)throw new Error("package with "+o+" <"+a+"> already defined")}function Hs(e){this.model=e}function Z_(e,n,o){Object.defineProperty(e,n.name,{enumerable:!n.isReference,writable:!0,value:o,configurable:!0})}function Tv(e){return e.replace(/^:/,"")}function Li(e,n={}){this.properties=new Hs(this),this.factory=new W_(this,this.properties),this.registry=new Ha(e,this.properties),this.typeCache={},this.config=n}Ci.prototype.build=function(){return Xt(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Ci.prototype.addProperty=function(e,n,o){typeof n=="boolean"&&(o=n,n=void 0),this.addNamedProperty(e,o!==!1);var a=this.properties;n!==void 0?a.splice(n,0,e):a.push(e)},Ci.prototype.replaceProperty=function(e,n,o){var a=e.ns,l=this.properties,u=this.propertiesByName,h=e.name!==n.name;if(e.isId){if(!n.isId)throw new Error("property <"+n.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(n,!1)}if(e.isBody){if(!n.isBody)throw new Error("property <"+n.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(n,!1)}var p=l.indexOf(e);if(p===-1)throw new Error("property <"+a.name+"> not found in property list");l.splice(p,1),this.addProperty(n,o?void 0:p,h),u[a.name]=u[a.localName]=n},Ci.prototype.redefineProperty=function(e,n,o){var a=e.ns.prefix,l=n.split("#"),u=Rr(l[0],a),h=Rr(l[1],u.prefix).name,p=this.propertiesByName[h];if(!p)throw new Error("refined property <"+h+"> not found");this.replaceProperty(p,e,o),delete e.redefines},Ci.prototype.addNamedProperty=function(e,n){var o=e.ns,a=this.propertiesByName;n&&(this.assertNotDefined(e,o.name),this.assertNotDefined(e,o.localName)),a[o.name]=a[o.localName]=e},Ci.prototype.removeNamedProperty=function(e){var n=e.ns,o=this.propertiesByName;delete o[n.name],delete o[n.localName]},Ci.prototype.setBodyProperty=function(e,n){if(n&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},Ci.prototype.setIdProperty=function(e,n){if(n&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},Ci.prototype.assertNotTrait=function(e){if((e.extends||[]).length)throw new Error(`cannot create <${e.name}> extending <${e.extends}>`)},Ci.prototype.assertNotDefined=function(e,n){var o=e.name,a=this.propertiesByName[o];if(a)throw new Error("property <"+o+"> already defined; override of <"+a.definedBy.ns.name+"#"+a.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},Ci.prototype.hasProperty=function(e){return this.propertiesByName[e]},Ci.prototype.addTrait=function(e,n){n&&this.assertNotTrait(e);var o=this.allTypesByName,a=this.allTypes,l=e.name;l in o||(A(e.properties,Ye((function(u){u=ie({},u,{name:u.ns.localName,inherited:n}),Object.defineProperty(u,"definedBy",{value:e});var h=u.replaces,p=u.redefines;h||p?this.redefineProperty(u,h||p,h):(u.isBody&&this.setBodyProperty(u),u.isId&&this.setIdProperty(u),this.addProperty(u))}),this)),a.push(e),o[l]=e)},Ha.prototype.getPackage=function(e){return this.packageMap[e]},Ha.prototype.getPackages=function(){return this.packages},Ha.prototype.registerPackage=function(e){e=ie({},e);var n=this.packageMap;Y_(n,e,"prefix"),Y_(n,e,"uri"),A(e.types,Ye((function(o){this.registerType(o,e)}),this)),n[e.uri]=n[e.prefix]=e,this.packages.push(e)},Ha.prototype.registerType=function(e,n){var o=Rr((e=ie({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:ie(e.meta||{})})).name,n.prefix),a=o.name,l={};A(e.properties,Ye((function(u){var h=Rr(u.name,o.prefix),p=h.name;Cv(u.type)||(u.type=Rr(u.type,h.prefix).name),ie(u,{ns:h,name:p}),l[p]=u}),this)),ie(e,{ns:o,name:a,propertiesByName:l}),A(e.extends,Ye((function(u){var h=Rr(u,o.prefix),p=this.typeMap[h.name];p.traits=p.traits||[],p.traits.push(a)}),this)),this.definePackage(e,n),this.typeMap[a]=e},Ha.prototype.mapTypes=function(e,n,o){var a=Cv(e.name)?{name:e.name}:this.typeMap[e.name],l=this;function u(p,m){var v=Rr(p,Cv(p)?"":e.prefix);l.mapTypes(v,n,m)}function h(p){return u(p,!0)}if(!a)throw new Error("unknown type <"+e.name+">");A(a.superClass,o?h:function(p){return u(p,!1)}),n(a,!o),A(a.traits,h)},Ha.prototype.getEffectiveDescriptor=function(e){var n=Rr(e),o=new Ci(n);this.mapTypes(n,(function(l,u){o.addTrait(l,u)}));var a=o.build();return this.definePackage(a,a.allTypes[a.allTypes.length-1].$pkg),a},Ha.prototype.definePackage=function(e,n){this.properties.define(e,"$pkg",{value:n})},Hs.prototype.set=function(e,n,o){if(!$(n)||!n.length)throw new TypeError("property name must be a non-empty string");var a=this.getProperty(e,n),l=a&&a.name;o===void 0?a?delete e[l]:delete e.$attrs[Tv(n)]:a?l in e?e[l]=o:Z_(e,a,o):e.$attrs[Tv(n)]=o},Hs.prototype.get=function(e,n){var o=this.getProperty(e,n);if(!o)return e.$attrs[Tv(n)];var a=o.name;return!e[a]&&o.isMany&&Z_(e,o,[]),e[a]},Hs.prototype.define=function(e,n,o){if(!o.writable){var a=o.value;delete(o=ie({},o,{get:function(){return a}})).value}Object.defineProperty(e,n,o)},Hs.prototype.defineDescriptor=function(e,n){this.define(e,"$descriptor",{value:n})},Hs.prototype.defineModel=function(e,n){this.define(e,"$model",{value:n})},Hs.prototype.getProperty=function(e,n){var o=this.model,a=o.getPropertyDescriptor(e,n);if(a)return a;if(n.includes(":"))return null;const l=o.config.strict;if(l!==void 0){const u=new TypeError(`unknown property <${n}> on <${e.$type}>`);if(l)throw u;typeof console<"u"&&console.warn(u)}return null},Li.prototype.create=function(e,n){var o=this.getType(e);if(!o)throw new Error("unknown type <"+e+">");return new o(n)},Li.prototype.getType=function(e){var n=this.typeCache,o=$(e)?e:e.ns.name,a=n[o];return a||(e=this.registry.getEffectiveDescriptor(o),a=n[o]=this.factory.createType(e)),a},Li.prototype.createAny=function(e,n,o){var a=Rr(e),l={$type:e,$instanceOf:function(h){return h===this.$type},get:function(h){return this[h]},set:function(h,p){(function(m,v,x){let _=m;A(v,(function(S,k){if(typeof S!="number"&&typeof S!="string")throw new Error("illegal key type: "+typeof S+". Key should be of type number or string.");if(S==="constructor")throw new Error("illegal key: constructor");if(S==="__proto__")throw new Error("illegal key: __proto__");let R=v[k+1],O=_[S];b(R)&&E(O)&&(O=_[S]=isNaN(+R)?{}:[]),y(R)?y(x)?delete _[S]:_[S]=x:_=O}))})(this,[h],p)}},u={name:e,isGeneric:!0,ns:{prefix:a.prefix,localName:a.localName,uri:n}};return this.properties.defineDescriptor(l,u),this.properties.defineModel(l,this),this.properties.define(l,"get",{enumerable:!1,writable:!0}),this.properties.define(l,"set",{enumerable:!1,writable:!0}),this.properties.define(l,"$parent",{enumerable:!1,writable:!0}),this.properties.define(l,"$instanceOf",{enumerable:!1,writable:!0}),A(o,(function(h,p){C(h)&&h.value!==void 0?l[h.name]=h.value:l[p]=h})),l},Li.prototype.getPackage=function(e){return this.registry.getPackage(e)},Li.prototype.getPackages=function(){return this.registry.getPackages()},Li.prototype.getElementDescriptor=function(e){return e.$descriptor},Li.prototype.hasType=function(e,n){return n===void 0&&(n=e,e=this),n in e.$model.getElementDescriptor(e).allTypesByName},Li.prototype.getPropertyDescriptor=function(e,n){return this.getElementDescriptor(e).propertiesByName[n]},Li.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var CO=String.fromCharCode,TO=Object.prototype.hasOwnProperty,kO=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Su={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function AO(e,n,o,a){return a?TO.call(Su,a)?Su[a]:"&"+a+";":CO(n||parseInt(o,16))}function Us(e){return e.length>3&&e.indexOf("&")!==-1?e.replace(kO,AO):e}Object.keys(Su).forEach((function(e){Su[e.toUpperCase()]=Su[e]}));var J_="non-whitespace outside of root node";function Kl(e){return new Error(e)}function Q_(e){return"missing namespace for prefix <"+e+">"}function pp(e){return{get:e,enumerable:!0}}function RO(e){var n,o={};for(n in e)o[n]=e[n];return o}function kv(e){return e+"$uri"}function q_(){return{line:0,column:0}}function PO(e){throw e}function eE(e){if(!this)return new eE(e);var n,o,a,l,u,h,p,m,v,x=e&&e.proxy,_=PO,S=q_,k=!1,R=!1,O=null,F=!1;function I(U){U instanceof Error||(U=Kl(U)),O=U,_(U,S)}function P(U){u&&(U instanceof Error||(U=Kl(U)),u(U,S))}this.on=function(U,K){if(typeof K!="function")throw Kl("required args <name, cb>");switch(U){case"openTag":o=K;break;case"text":n=K;break;case"closeTag":a=K;break;case"error":_=K;break;case"warn":u=K;break;case"cdata":l=K;break;case"attention":m=K;break;case"question":p=K;break;case"comment":h=K;break;default:throw Kl("unsupported event: "+U)}return this},this.ns=function(U){if(U===void 0&&(U={}),typeof U!="object")throw Kl("required args <nsMap={}>");var K,Y={};for(K in U)Y[K]=U[K];return R=!0,v=Y,this},this.parse=function(U){if(typeof U!="string")throw Kl("required args <xml=string>");return O=null,(function(K){var Y,se,Ee,_e,ye,st,Oe,Me,Pe,Ve,nt,Mt=R?[]:null,Rt=R?(function(wn){var fn,sr,yr={};for(fn in wn)yr[sr=wn[fn]]=sr,yr[kv(sr)]=fn;return yr})(v):null,Dt=[],Ft=0,En=!1,Dn=!1,Lt=0,Ct=0,oa="",qr=0;function aa(){if(nt!==null)return nt;var wn,fn,sr,yr,On,Mr,ne,B,V,ae,xe,et=R&&Rt.xmlns,lt=R&&k?[]:null,dt=qr,Ht=oa,xn=Ht.length,br={},so={};e:for(;dt<xn;dt++)if(V=!1,!((ae=Ht.charCodeAt(dt))===32||ae<14&&ae>8)){for((ae<65||ae>122||ae>90&&ae<97)&&ae!==95&&ae!==58&&(P("illegal first char attribute name"),V=!0),xe=dt+1;xe<xn;xe++)if(!((ae=Ht.charCodeAt(xe))>96&&ae<123||ae>64&&ae<91||ae>47&&ae<59||ae===46||ae===45||ae===95)){if(ae===32||ae<14&&ae>8){P("missing attribute value"),dt=xe;continue e}if(ae===61)break;P("illegal attribute name char"),V=!0}if((B=Ht.substring(dt,xe))==="xmlns:xmlns"&&(P("illegal declaration of xmlns"),V=!0),(ae=Ht.charCodeAt(xe+1))===34)(xe=Ht.indexOf('"',dt=xe+2))===-1&&(xe=Ht.indexOf("'",dt))!==-1&&(P("attribute value quote missmatch"),V=!0);else if(ae===39)(xe=Ht.indexOf("'",dt=xe+2))===-1&&(xe=Ht.indexOf('"',dt))!==-1&&(P("attribute value quote missmatch"),V=!0);else for(P("missing attribute value quotes"),V=!0,xe+=1;xe<xn&&!((ae=Ht.charCodeAt(xe+1))===32||ae<14&&ae>8);xe++);for(xe===-1&&(P("missing closing quotes"),xe=xn,V=!0),V||(Mr=Ht.substring(dt,xe)),dt=xe;xe+1<xn&&!((ae=Ht.charCodeAt(xe+1))===32||ae<14&&ae>8);xe++)dt===xe&&(P("illegal character after attribute end"),V=!0);if(dt=xe+1,!V)if(B in so)P("attribute <"+B+"> already defined");else if(so[B]=!0,R)if(k){if((On=B==="xmlns"?"xmlns":B.charCodeAt(0)===120&&B.substr(0,6)==="xmlns:"?B.substr(6):null)!==null){if(wn=Us(Mr),fn=kv(On),!(ne=v[wn])){if(On==="xmlns"||fn in Rt&&Rt[fn]!==wn)do ne="ns"+Ft++;while(Rt[ne]!==void 0);else ne=On;v[wn]=ne}Rt[On]!==ne&&(yr||(Rt=RO(Rt),yr=!0),Rt[On]=ne,On==="xmlns"&&(Rt[kv(ne)]=wn,et=ne),Rt[fn]=wn),br[B]=Mr;continue}lt.push(B,Mr)}else(ae=B.indexOf(":"))!==-1?(sr=Rt[B.substring(0,ae)])?br[B=et===sr?B.substr(ae+1):sr+B.substr(ae)]=Mr:P(Q_(B.substring(0,ae))):br[B]=Mr;else br[B]=Mr}if(k)for(dt=0,xn=lt.length;dt<xn;dt++){if(B=lt[dt++],Mr=lt[dt],(ae=B.indexOf(":"))!==-1){if(!(sr=Rt[B.substring(0,ae)])){P(Q_(B.substring(0,ae)));continue}B=et===sr?B.substr(ae+1):sr+B.substr(ae)}br[B]=Mr}return nt=br}function Po(){for(var wn,fn,sr=/(\r\n|\r|\n)/g,yr=0,On=0,Mr=0,ne=Ct;Lt>=Mr&&(wn=sr.exec(K))&&!((ne=wn[0].length+wn.index)>Lt);)yr+=1,Mr=ne;return Lt==-1?(On=ne,fn=K.substring(Ct)):Ct===0?fn=K.substring(Ct,Lt):(On=Lt-Mr,fn=Ct==-1?K.substring(Lt):K.substring(Lt,Ct+1)),{data:fn,line:yr,column:On}}for(S=Po,x&&(Ve=Object.create({},{name:pp((function(){return Me})),originalName:pp((function(){return Pe})),attrs:pp(aa),ns:pp((function(){return Rt}))}));Ct!==-1;){if((Lt=K.charCodeAt(Ct)===60?Ct:K.indexOf("<",Ct))===-1)return Dt.length?I("unexpected end of file"):Ct===0?I("missing start tag"):void(Ct<K.length&&K.substring(Ct).trim()&&P(J_));if(Ct!==Lt){if(Dt.length){if(n&&(n(K.substring(Ct,Lt),Us,S),F))return}else if(K.substring(Ct,Lt).trim()&&(P(J_),F))return}if((ye=K.charCodeAt(Lt+1))===33){if((_e=K.charCodeAt(Lt+2))===91&&K.substr(Lt+3,6)==="CDATA["){if((Ct=K.indexOf("]]>",Lt))===-1)return I("unclosed cdata");if(l&&(l(K.substring(Lt+9,Ct),S),F))return;Ct+=3;continue}if(_e===45&&K.charCodeAt(Lt+3)===45){if((Ct=K.indexOf("-->",Lt))===-1)return I("unclosed comment");if(h&&(h(K.substring(Lt+4,Ct),Us,S),F))return;Ct+=3;continue}}if(ye!==63){for(se=Lt+1;;se++){if(st=K.charCodeAt(se),isNaN(st))return Ct=-1,I("unclosed tag");if(st===34)se=(_e=K.indexOf('"',se+1))!==-1?_e:se;else if(st===39)se=(_e=K.indexOf("'",se+1))!==-1?_e:se;else if(st===62){Ct=se;break}}if(ye!==33){if(nt={},ye===47){if(En=!1,Dn=!0,!Dt.length)return I("missing open tag");if(se=Me=Dt.pop(),_e=Lt+2+se.length,K.substring(Lt+2,_e)!==se)return I("closing tag mismatch");for(;_e<Ct;_e++)if(!((ye=K.charCodeAt(_e))===32||ye>8&&ye<14))return I("close tag")}else{if(K.charCodeAt(Ct-1)===47?(se=Me=K.substring(Lt+1,Ct-1),En=!0,Dn=!0):(se=Me=K.substring(Lt+1,Ct),En=!0,Dn=!1),!(ye>96&&ye<123||ye>64&&ye<91||ye===95||ye===58))return I("illegal first char nodeName");for(_e=1,Ee=se.length;_e<Ee;_e++)if(!((ye=se.charCodeAt(_e))>96&&ye<123||ye>64&&ye<91||ye>47&&ye<59||ye===45||ye===95||ye==46)){if(ye===32||ye<14&&ye>8){Me=se.substring(0,_e),nt=null;break}return I("invalid nodeName")}Dn||Dt.push(Me)}if(R){if(Y=Rt,En&&(Dn||Mt.push(Y),nt===null&&(k=se.indexOf("xmlns",_e)!==-1)&&(qr=_e,oa=se,aa(),k=!1)),Pe=Me,(ye=Me.indexOf(":"))!==-1){if(!(Oe=Rt[Me.substring(0,ye)]))return I("missing namespace on <"+Pe+">");Me=Me.substr(ye+1)}else Oe=Rt.xmlns;Oe&&(Me=Oe+":"+Me)}if(En&&(qr=_e,oa=se,o&&(x?o(Ve,Us,Dn,S):o(Me,aa,Us,Dn,S),F)))return;if(Dn){if(a&&(a(x?Ve:Me,Us,En,S),F))return;R&&(Rt=En?Y:Mt.pop())}Ct+=1}else{if(m&&(m(K.substring(Lt,Ct+1),Us,S),F))return;Ct+=1}}else{if((Ct=K.indexOf("?>",Lt))===-1)return I("unclosed question");if(p&&(p(K.substring(Lt,Ct+2),S),F))return;Ct+=2}}})(U),S=q_,F=!1,O},this.stop=function(){F=!0}}function tE(e){return e.xml&&e.xml.tagAlias==="lowerCase"}var Av={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},nE="property";function rE(e){return e.xml&&e.xml.serialize}function iE(e,n){return tE(n)?e.prefix+":"+((o=e.localName).charAt(0).toUpperCase()+o.slice(1)):e.name;var o}function Ua(e){return new Error(e)}function Ko(e){return e.$descriptor}function NO(e){ie(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(n){this.references.push(n)},this.addElement=function(n){if(!n)throw Ua("expected element");var o,a=this.elementsById,l=Ko(n).idProperty;if(l&&(o=n.get(l.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(o))throw new Error("illegal ID <"+o+">");if(a[o])throw Ua("duplicate ID <"+o+">");a[o]=n}},this.addWarning=function(n){this.warnings.push(n)}}function Cu(){}function Rv(){}function Xl(){}function Tu(e,n){this.property=e,this.context=n}function Pv(e,n){this.element=n,this.propertyDesc=e}function hp(){}function Fr(e,n,o){this.model=e,this.type=e.getType(n),this.context=o}function Nv(e,n,o){Fr.call(this,e,n,o)}function Yl(e,n,o){this.model=e,this.context=o}function Ov(e){e instanceof Li&&(e={model:e}),ie(this,{lax:!1},e)}Cu.prototype.handleEnd=function(){},Cu.prototype.handleText=function(){},Cu.prototype.handleNode=function(){},Rv.prototype=Object.create(Cu.prototype),Rv.prototype.handleNode=function(){return this},Xl.prototype=Object.create(Cu.prototype),Xl.prototype.handleText=function(e){this.body=(this.body||"")+e},Tu.prototype=Object.create(Xl.prototype),Tu.prototype.handleNode=function(e){if(this.element)throw Ua("expected no sub nodes");return this.element=this.createReference(e),this},Tu.prototype.handleEnd=function(){this.element.id=this.body},Tu.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},Pv.prototype=Object.create(Xl.prototype),Pv.prototype.handleEnd=function(){var e=this.body||"",n=this.element,o=this.propertyDesc;e=Sv(o.type,e),o.isMany?n.get(o.name).push(e):n.set(o.name,e)},hp.prototype=Object.create(Xl.prototype),hp.prototype.handleNode=function(e){var n=this,o=this.element;return o?n=this.handleChild(e):(o=this.element=this.createElement(e),this.context.addElement(o)),n},Fr.prototype=Object.create(hp.prototype),Fr.prototype.addReference=function(e){this.context.addReference(e)},Fr.prototype.handleText=function(e){if(!Ko(this.element).bodyProperty)throw Ua("unexpected body text <"+e+">");Xl.prototype.handleText.call(this,e)},Fr.prototype.handleEnd=function(){var e=this.body,n=this.element,o=Ko(n).bodyProperty;o&&e!==void 0&&(e=Sv(o.type,e),n.set(o.name,e))},Fr.prototype.createElement=function(e){var n,o=e.attributes,a=this.type,l=Ko(a),u=this.context,h=new a({}),p=this.model;return A(o,(function(m,v){var x=l.propertiesByName[v];x&&x.isReference?x.isMany?A(m.split(" "),(function(_){u.addReference({element:h,property:x.ns.name,id:_})})):u.addReference({element:h,property:x.ns.name,id:m}):(x?m=Sv(x.type,m):v==="xmlns"?v=":"+v:(n=Rr(v,l.ns.prefix),p.getPackage(n.prefix)&&u.addWarning({message:"unknown attribute <"+v+">",element:h,property:v,value:m})),h.set(v,m))})),h},Fr.prototype.getPropertyForNode=function(e){var n=Rr(e.name),o=this.type,a=this.model,l=Ko(o),u=n.name,h=l.propertiesByName[u];if(h&&!h.isAttr){const m=(function(v){const x=rE(v);return x!==nE&&(x||null)})(h);if(m){const v=e.attributes[m];if(v){const x=(function(_,S,k){const R=Rr(_,S.xmlns),O=Rr(`${S[R.prefix]||R.prefix}:${R.localName}`);return(function(F,I){var P=F.name,U=F.localName,K=I&&I.xml&&I.xml.typePrefix;return K&&U.indexOf(K)===0?F.prefix+":"+U.slice(K.length):P})(O,k.getPackage(O.prefix))})(v,e.ns,a);return ie({},h,{effectiveType:Ko(a.getType(x)).name})}}return h}var p=a.getPackage(n.prefix);if(p){const m=iE(n,p),v=a.getType(m);if(h=N(l.properties,(function(x){return!x.isVirtual&&!x.isReference&&!x.isAttribute&&v.hasType(x.type)})),h)return ie({},h,{effectiveType:Ko(v).name})}else if(h=N(l.properties,(function(m){return!m.isReference&&!m.isAttribute&&m.type==="Element"})),h)return h;throw Ua("unrecognized element <"+n.name+">")},Fr.prototype.toString=function(){return"ElementDescriptor["+Ko(this.type).name+"]"},Fr.prototype.valueHandler=function(e,n){return new Pv(e,n)},Fr.prototype.referenceHandler=function(e){return new Tu(e,this.context)},Fr.prototype.handler=function(e){return e==="Element"?new Yl(this.model,e,this.context):new Fr(this.model,e,this.context)},Fr.prototype.handleChild=function(e){var n,o,a,l;if(n=this.getPropertyForNode(e),a=this.element,X_(o=n.effectiveType||n.type))return this.valueHandler(n,a);var u=(l=n.isReference?this.referenceHandler(n).handleNode(e):this.handler(o).handleNode(e)).element;return u!==void 0&&(n.isMany?a.get(n.name).push(u):a.set(n.name,u),n.isReference?(ie(u,{element:a}),this.context.addReference(u)):u.$parent=a),l},Nv.prototype=Object.create(Fr.prototype),Nv.prototype.createElement=function(e){var n=e.name,o=Rr(n),a=this.model,l=this.type,u=a.getPackage(o.prefix),h=u&&iE(o,u)||n;if(!l.hasType(h))throw Ua("unexpected element <"+e.originalName+">");return Fr.prototype.createElement.call(this,e)},Yl.prototype=Object.create(hp.prototype),Yl.prototype.createElement=function(e){var n=e.name,o=Rr(n).prefix,a=e.ns[o+"$uri"],l=e.attributes;return this.model.createAny(n,a,l)},Yl.prototype.handleChild=function(e){var n=new Yl(this.model,"Element",this.context).handleNode(e),o=this.element,a=n.element;return a!==void 0&&((o.$children=o.$children||[]).push(a),a.$parent=o),n},Yl.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},Ov.prototype.fromXML=function(e,n,o){var a=n.rootHandler;n instanceof Fr?(a=n,n={}):typeof n=="string"?(a=this.handler(n),n={}):typeof a=="string"&&(a=this.handler(a));var l=this.model,u=this.lax,h=new NO(ie({},n,{rootHandler:a})),p=new eE({proxy:!0}),m=(function(){var F=[];return Object.defineProperty(F,"peek",{value:function(){return this[this.length-1]}}),F})();function v(F,I,P){var U=I(),K=U.line,Y=U.column,se=U.data;se.charAt(0)==="<"&&se.indexOf(" ")!==-1&&(se=se.slice(0,se.indexOf(" "))+">");var Ee="unparsable content "+(se?se+" ":"")+`detected
	line: `+K+`
	column: `+Y+`
	nested error: `+F.message;if(P)return h.addWarning({message:Ee,error:F}),!0;throw Ua(Ee)}function x(F,I){return v(F,I,!0)}a.context=h,m.push(a);var _=/^<\?xml /i,S=/ encoding="([^"]+)"/i,k=/^utf-8$/i;function R(F,I){try{m.peek().handleText(F)}catch(P){x(P,I)}}var O=l.getPackages().reduce((function(F,I){return F[I.uri]=I.prefix,F}),Object.entries(Av).reduce((function(F,[I,P]){return F[P]=I,F}),l.config&&l.config.nsMap||{}));return p.ns(O).on("openTag",(function(F,I,P,U){var K=F.attrs||{},Y=Object.keys(K).reduce((function(se,Ee){var _e=I(K[Ee]);return se[Ee]=_e,se}),{});(function(se,Ee){var _e=m.peek();try{m.push(_e.handleNode(se))}catch(ye){v(ye,Ee,u)&&m.push(new Rv)}})({name:F.name,originalName:F.originalName,attributes:Y,ns:F.ns},U)})).on("question",(function(F){if(_.test(F)){var I=S.exec(F),P=I&&I[1];P&&!k.test(P)&&h.addWarning({message:"unsupported document encoding <"+P+">, falling back to UTF-8"})}})).on("closeTag",(function(){m.pop().handleEnd()})).on("cdata",R).on("text",(function(F,I,P){(function(U,K){U.trim()&&R(U,K)})(I(F),P)})).on("error",v).on("warn",x),new Promise((function(F,I){var P;try{p.parse(e),(function(){var Ee,_e,ye=h.elementsById,st=h.references;for(Ee=0;_e=st[Ee];Ee++){var Oe=_e.element,Me=ye[_e.id],Pe=Ko(Oe).propertiesByName[_e.property];if(Me||h.addWarning({message:"unresolved reference <"+_e.id+">",element:_e.element,property:_e.property,value:_e.id}),Pe.isMany){var Ve=Oe.get(Pe.name),nt=Ve.indexOf(_e);nt===-1&&(nt=Ve.length),Me?Ve[nt]=Me:Ve.splice(nt,1)}else Oe.set(Pe.name,Me)}})()}catch(Ee){P=Ee}var U=a.element;P||U||(P=Ua("failed to parse document as <"+a.type.$descriptor.name+">"));var K=h.warnings,Y=h.references,se=h.elementsById;return P?(P.warnings=K,I(P)):F({rootElement:U,elementsById:se,references:Y,warnings:K})}))},Ov.prototype.handler=function(e){return new Nv(this.model,e)};var OO=/<|>|'|"|&|\n\r|\n/g,oE=/<|>|&/g;function wo(e){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=e,this.defaultPrefixMap=e&&e.defaultPrefixMap||{}}function MO(e,n){return tE(n)?(o=e).charAt(0).toLowerCase()+o.slice(1):e;var o}function aE(e,n){e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function sE(e){return $(e)?e:(e.prefix?e.prefix+":":"")+e.localName}wo.prototype.mapDefaultPrefixes=function(e){this.defaultPrefixMap=e},wo.prototype.defaultUriByPrefix=function(e){return this.defaultPrefixMap[e]},wo.prototype.byUri=function(e){return this.uriMap[e]||this.parent&&this.parent.byUri(e)},wo.prototype.add=function(e,n){this.uriMap[e.uri]=e,n?this.wellknown.push(e):this.custom.push(e),this.mapPrefix(e.prefix,e.uri)},wo.prototype.uriByPrefix=function(e){return this.prefixMap[e||"xmlns"]||this.parent&&this.parent.uriByPrefix(e)},wo.prototype.mapPrefix=function(e,n){this.prefixMap[e||"xmlns"]=n},wo.prototype.getNSKey=function(e){return e.prefix!==void 0?e.uri+"|"+e.prefix:e.uri},wo.prototype.logUsed=function(e){var n=e.uri,o=this.getNSKey(e);this.used[o]=this.byUri(n),this.parent&&this.parent.logUsed(e)},wo.prototype.getUsed=function(e){return[].concat(this.wellknown,this.custom).filter((n=>{var o=this.getNSKey(n);return this.used[o]}))};var DO={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},IO={"<":"lt",">":"gt","&":"amp"};function lE(e,n,o){return(e=$(e)?e:""+e).replace(n,(function(a){return"&"+o[a]+";"}))}function Mv(e){this.tagName=e}function zs(){}function Dv(e){this.tagName=e}function _n(e,n){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=n}function mp(e,n,o){_n.call(this,e,n),this.serialization=o}function LO(){this.value="",this.write=function(e){this.value+=e}}function $O(e,n){var o=[""];this.append=function(a){return e.write(a),this},this.appendNewLine=function(){return n&&e.write(`
`),this},this.appendIndent=function(){return n&&e.write(o.join("  ")),this},this.indent=function(){return o.push(""),this},this.unindent=function(){return o.pop(),this}}function BO(e){return e=ie({format:!1,preamble:!0},e||{}),{toXML:function(n,o){var a=o||new LO,l=new $O(a,e.format);e.preamble&&l.append(`<?xml version="1.0" encoding="UTF-8"?>
`);var u=new _n,h=n.$model;if(u.getNamespaces().mapDefaultPrefixes((function(p){const m=p.config&&p.config.nsMap||{},v={};for(const x in Av)v[x]=Av[x];for(const x in m)v[m[x]]=x;for(const x of p.getPackages())v[x.prefix]=x.uri;return v})(h)),u.build(n).serializeTo(l),!o)return a.value}}}function gp(e,n){Li.call(this,e,n)}Mv.prototype.build=function(e){return this.element=e,this},Mv.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},zs.prototype.serializeValue=zs.prototype.serializeTo=function(e){e.append(this.escape?lE(this.value,oE,IO):this.value)},zs.prototype.build=function(e,n){return this.value=n,e.type==="String"&&n.search(oE)!==-1&&(this.escape=!0),this},aE(Dv,zs),Dv.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},_n.prototype.build=function(e){this.element=e;var n,o,a=e.$descriptor,l=this.propertyDescriptor,u=a.isGeneric;return n=u?this.parseGenericNsAttributes(e):this.parseNsAttributes(e),this.ns=l?this.nsPropertyTagName(l):this.nsTagName(a),this.tagName=this.addTagName(this.ns),u?this.parseGenericContainments(e):(o=(function(h){return M(h.$descriptor.properties,(function(p){var m=p.name;if(p.isVirtual||!H(h,m))return!1;var v=h[m];return v!==p.default&&v!==null&&(!p.isMany||v.length)}))})(e),this.parseAttributes(M(o,(function(h){return h.isAttr}))),this.parseContainments((function(h){return M(h,(function(p){return!p.isAttr}))})(o))),this.parseGenericAttributes(e,n),this},_n.prototype.nsTagName=function(e){return(function(n,o){return o.isGeneric?ie({localName:o.ns.localName},n):ie({localName:MO(o.ns.localName,o.$pkg)},n)})(this.logNamespaceUsed(e.ns),e)},_n.prototype.nsPropertyTagName=function(e){return(function(n,o){return ie({localName:o.ns.localName},n)})(this.logNamespaceUsed(e.ns),e)},_n.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},_n.prototype.nsAttributeName=function(e){var n;if(n=$(e)?Rr(e):e.ns,e.inherited)return{localName:n.localName};var o=this.logNamespaceUsed(n);return this.getNamespaces().logUsed(o),this.isLocalNs(o)?{localName:n.localName}:ie({localName:n.localName},o)},_n.prototype.parseGenericNsAttributes=function(e){return Object.entries(e).filter((([n,o])=>!n.startsWith("$")&&this.parseNsAttribute(e,n,o))).map((([n,o])=>({name:n,value:o})))},_n.prototype.parseGenericContainments=function(e){var n=e.$body;n&&this.body.push(new zs().build({type:"String"},n));var o=e.$children;o&&A(o,(a=>{this.body.push(new _n(this).build(a))}))},_n.prototype.parseNsAttribute=function(e,n,o){var a,l=e.$model,u=Rr(n);if(u.prefix==="xmlns"&&(a={prefix:u.localName,uri:o}),u.prefix||u.localName!=="xmlns"||(a={uri:o}),!a)return{name:n,value:o};if(l&&l.getPackage(o))this.logNamespace(a,!0,!0);else{var h=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(h)}},_n.prototype.parseNsAttributes=function(e){var n=this,o=e.$attrs,a=[];return A(o,(function(l,u){var h=n.parseNsAttribute(e,u,l);h&&a.push(h)})),a},_n.prototype.parseGenericAttributes=function(e,n){var o=this;A(n,(function(a){try{o.addAttribute(o.nsAttributeName(a.name),a.value)}catch(l){typeof console<"u"&&console.warn(`missing namespace information for <${a.name}=${a.value}> on`,e,l)}}))},_n.prototype.parseContainments=function(e){var n=this,o=this.body,a=this.element;A(e,(function(l){var u=a.get(l.name),h=l.isReference;if(l.isMany||(u=[u]),l.isBody)o.push(new zs().build(l,u[0]));else if(X_(l.type))A(u,(function(m){o.push(new Dv(n.addTagName(n.nsPropertyTagName(l))).build(l,m))}));else if(h)A(u,(function(m){o.push(new Mv(n.addTagName(n.nsPropertyTagName(l))).build(m))}));else{var p=rE(l);A(u,(function(m){var v;v=p?p===nE?new _n(n,l):new mp(n,l,p):new _n(n),o.push(v.build(m))}))}}))},_n.prototype.getNamespaces=function(e){var n,o=this.namespaces,a=this.parent;return o||(n=a&&a.getNamespaces(),e||!n?this.namespaces=o=new wo(n):o=n),o},_n.prototype.logNamespace=function(e,n,o){var a=this.getNamespaces(o),l=e.uri,u=e.prefix;return a.byUri(l)&&!o||a.add(e,n),a.mapPrefix(u,l),e},_n.prototype.logNamespaceUsed=function(e,n){var o,a,l,u=this.getNamespaces(n),h=e.prefix,p=e.uri;if(!h&&!p)return{localName:e.localName};if(l=u.defaultUriByPrefix(h),!(p=p||l||u.uriByPrefix(h)))throw new Error("no namespace uri given for prefix <"+h+">");if((e=u.byUri(p))||h||(e=this.logNamespace({uri:p},l===p,!0)),!e){for(o=h,a=1;u.uriByPrefix(o);)o=h+"_"+a++;e=this.logNamespace({prefix:o,uri:p},l===p)}return h&&u.mapPrefix(h,p),e},_n.prototype.parseAttributes=function(e){var n=this,o=this.element;A(e,(function(a){var l=o.get(a.name);if(a.isReference)if(a.isMany){var u=[];A(l,(function(h){u.push(h.id)})),l=u.join(" ")}else l=l.id;n.addAttribute(n.nsAttributeName(a),l)}))},_n.prototype.addTagName=function(e){var n=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(n),sE(e)},_n.prototype.addAttribute=function(e,n){var o=this.attrs;$(n)&&(n=lE(n,OO,DO));var a=L(o,(function(u){return u.name.localName===e.localName&&u.name.uri===e.uri&&u.name.prefix===e.prefix})),l={name:e,value:n};a!==-1?o.splice(a,1,l):o.push(l)},_n.prototype.serializeAttributes=function(e){var n=this.attrs,o=this.namespaces;o&&(n=(function(a){return a.getUsed().filter((function(l){return l.prefix!=="xml"})).map((function(l){return{name:"xmlns"+(l.prefix?":"+l.prefix:""),value:l.uri}}))})(o).concat(n)),A(n,(function(a){e.append(" ").append(sE(a.name)).append('="').append(a.value).append('"')}))},_n.prototype.serializeTo=function(e){var n=this.body[0],o=n&&n.constructor!==zs;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(n?">":" />"),n&&(o&&e.appendNewLine().indent(),A(this.body,(function(a){a.serializeTo(e)})),o&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},aE(mp,_n),mp.prototype.parseNsAttributes=function(e){var n=_n.prototype.parseNsAttributes.call(this,e).filter((h=>h.name!==this.serialization)),o=e.$descriptor;if(o.name===this.propertyDescriptor.type)return n;var a=this.typeNs=this.nsTagName(o);this.getNamespaces().logUsed(this.typeNs);var l=e.$model.getPackage(a.uri),u=l.xml&&l.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(a.prefix?a.prefix+":":"")+u+o.ns.localName),n},mp.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},gp.prototype=Object.create(Li.prototype),gp.prototype.fromXML=function(e,n,o){$(n)||(o=n,n="bpmn:Definitions");var a=new Ov(ie({model:this,lax:!0},o)),l=a.handler(n);return a.fromXML(e,l)},gp.prototype.toXML=function(e,n){var o=new BO(n);return new Promise((function(a,l){try{return a({xml:o.toXML(e)})}catch(u){return l(u)}}))};const FO={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function jO(e,n){return new gp(ie({},FO,e),n)}function Pr(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}function cE(e){H(e,"di")||Object.defineProperty(e,"di",{enumerable:!1,get:function(){throw new Error("Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472")}})}function Jr(e,n){return e.$instanceOf(n)}function VO(e){var n={},o=[],a={};function l(Oe,Me){return function(Pe){Oe(Pe,Me)}}function u(Oe){n[Oe.id]=Oe}function h(Oe,Me){try{var Pe=a[Oe.id]&&(function(Ve,nt){if(Ve.gfx)throw new Error(`already rendered ${Pr(Ve)}`);return e.element(Ve,a[Ve.id],nt)})(Oe,Me);return u(Oe),Pe}catch(Ve){p(Ve.message,{element:Oe,error:Ve}),console.error(`failed to import ${Pr(Oe)}`,Ve)}}function p(Oe,Me){e.error(Oe,Me)}var m=this.registerDi=function(Oe){var Me=Oe.bpmnElement;Me?a[Me.id]?p(`multiple DI elements defined for ${Pr(Me)}`,{element:Me}):(a[Me.id]=Oe,cE(Me)):p(`no bpmnElement referenced in ${Pr(Oe)}`,{element:Oe})};function v(Oe){var Me;Me=Oe.plane,m(Me),A(Me.planeElement,x)}function x(Oe){m(Oe)}this.handleDefinitions=function(Oe,Me){var Pe=Oe.diagrams;if(Me&&Pe.indexOf(Me)===-1)throw new Error("diagram not part of <bpmn:Definitions />");if(!Me&&Pe&&Pe.length&&(Me=Pe[0]),!Me)throw new Error("no diagram to display");a={},v(Me);var Ve=Me.plane;if(!Ve)throw new Error(`no plane for ${Pr(Me)}`);var nt=Ve.bpmnElement;if(!nt){if(nt=(function(Ft){return N(Ft.rootElements,(function(En){return Jr(En,"bpmn:Process")||Jr(En,"bpmn:Collaboration")}))})(Oe),!nt)throw new Error("no process or collaboration to display");p(`correcting missing bpmnElement on ${Pr(Ve)} to ${Pr(nt)}`),Ve.bpmnElement=nt,m(Ve)}var Mt,Rt,Dt=(function(Ft,En){return e.root(Ft,a[Ft.id],En)})(nt,Ve);if(Jr(nt,"bpmn:Process")||Jr(nt,"bpmn:SubProcess"))S(nt,Dt);else{if(!Jr(nt,"bpmn:Collaboration"))throw new Error(`unsupported bpmnElement for ${Pr(Ve)}: ${Pr(nt)}`);Rt=Dt,A((Mt=nt).participants,l(st,Rt)),o.push((function(){(function(Ft,En){A(Ft,l(k,En))})(Mt.messageFlows,Rt)})),P(Mt.artifacts,Rt),(function(Ft,En){var Dn=M(Ft,(function(Lt){return!n[Lt.id]&&Jr(Lt,"bpmn:Process")&&Lt.laneSets}));Dn.forEach(l(S,En))})(Oe.rootElements,Dt)}_(o)};var _=this.handleDeferred=function(){for(;o.length;)o.shift()()};function S(Oe,Me){ye(Oe,Me),U(Oe.ioSpecification,Me),P(Oe.artifacts,Me),u(Oe)}function k(Oe,Me){h(Oe,Me)}function R(Oe,Me){h(Oe,Me)}function O(Oe,Me){h(Oe,Me)}function F(Oe,Me){h(Oe,Me)}function I(Oe,Me){h(Oe,Me)}function P(Oe,Me){A(Oe,(function(Pe){Jr(Pe,"bpmn:Association")?o.push((function(){I(Pe,Me)})):I(Pe,Me)}))}function U(Oe,Me){Oe&&(A(Oe.dataInputs,l(O,Me)),A(Oe.dataOutputs,l(F,Me)))}var K=this.handleSubProcess=function(Oe,Me){ye(Oe,Me),P(Oe.artifacts,Me)};function Y(Oe,Me){var Pe=h(Oe,Me);Jr(Oe,"bpmn:SubProcess")&&K(Oe,Pe||Me),Jr(Oe,"bpmn:Activity")&&U(Oe.ioSpecification,Me),o.push((function(){A(Oe.dataInputAssociations,l(R,Me)),A(Oe.dataOutputAssociations,l(R,Me))}))}function se(Oe,Me){h(Oe,Me)}function Ee(Oe,Me){o.push((function(){var Pe=h(Oe,Me);Oe.childLaneSet&&_e(Oe.childLaneSet,Pe||Me),(function(Ve){A(Ve.flowNodeRef,(function(nt){var Mt=nt.get("lanes");Mt&&Mt.push(Ve)}))})(Oe)}))}function _e(Oe,Me){A(Oe.lanes,l(Ee,Me))}function ye(Oe,Me){(function(Pe,Ve){A(Pe,(function(nt){Jr(nt,"bpmn:SequenceFlow")?o.push((function(){(function(Mt,Rt){h(Mt,Rt)})(nt,Ve)})):Jr(nt,"bpmn:BoundaryEvent")?o.unshift((function(){Y(nt,Ve)})):Jr(nt,"bpmn:FlowNode")?Y(nt,Ve):Jr(nt,"bpmn:DataObject")||(Jr(nt,"bpmn:DataStoreReference")||Jr(nt,"bpmn:DataObjectReference")?se(nt,Ve):p(`unrecognized flowElement ${Pr(nt)} in context ${Pr(Ve&&Ve.businessObject)}`,{element:nt,context:Ve}))}))})(Oe.flowElements,Me),Oe.laneSets&&(function(Pe,Ve){A(Pe,l(_e,Ve))})(Oe.laneSets,Me)}function st(Oe,Me){var Pe=h(Oe,Me),Ve=Oe.processRef;Ve&&S(Ve,Pe||Me)}}function j(e,n){var o=je(e);return o&&typeof o.$instanceOf=="function"&&o.$instanceOf(n)}function Ot(e,n){return ee(n,(function(o){return j(e,o)}))}function je(e){return e&&e.businessObject||e}function Yt(e){return e&&e.di}function HO(e,n,o){var a,l,u,h=[];function p(m,v){var x=new VO({root:function(k,R){return a.add(k,R)},element:function(k,R,O){return a.add(k,R,O)},error:function(k,R){h.push({message:k,context:R})}});v=v||m.diagrams&&m.diagrams[0];var _=(function(k,R){if(!(!R||!R.plane)){var O,F=R.plane.bpmnElement,I=F;j(F,"bpmn:Process")||j(F,"bpmn:Collaboration")||(I=(function(se){for(var Ee=se;Ee;){if(j(Ee,"bpmn:Process"))return Ee;Ee=Ee.$parent}})(F)),O=j(I,"bpmn:Collaboration")?I:N(k.rootElements,(function(se){if(j(se,"bpmn:Collaboration"))return N(se.participants,(function(Ee){return Ee.processRef===I}))}));var P=[I];O&&(P=W(O.participants,(function(se){return se.processRef}))).push(O);var U=uE(P),K=[R],Y=[F];return A(k.diagrams,(function(se){if(se.plane){var Ee=se.plane.bpmnElement;U.indexOf(Ee)!==-1&&Y.indexOf(Ee)===-1&&(K.push(se),Y.push(Ee))}})),K}})(m,v);if(!_)throw new Error("no diagram to display");A(_,(function(k){x.handleDefinitions(m,k)}));var S=v.plane.bpmnElement.id;u.setRootElement(u.findRoot(S+"_plane")||u.findRoot(S))}return new Promise((function(m,v){try{return a=e.get("bpmnImporter"),l=e.get("eventBus"),u=e.get("canvas"),l.fire("import.render.start",{definitions:n}),p(n,o),l.fire("import.render.complete",{error:void 0,warnings:h}),m({warnings:h})}catch(x){return x.warnings=h,v(x)}}))}function uE(e){var n=[];return A(e,(function(o){o&&(n.push(o),n=n.concat(uE(o.flowElements)))})),n}var Xo,fE='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',dE={verticalAlign:"middle"},pE={color:"#404040"},UO={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},zO={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},GO={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},WO='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+fE+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function KO(){Xo||(X(Xo=Re(WO),UO),X(Ke("svg",Xo),dE),X(Ke(".backdrop",Xo),zO),X(Ke(".notice",Xo),GO),X(Ke(".link",Xo),pE,{margin:"15px 20px 15px 10px",alignSelf:"center"}),Nt.bind(Xo,".backdrop","click",(function(e){document.body.removeChild(Xo)}))),document.body.appendChild(Xo)}function An(e){e=ie({},XO,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),this._init(this._container,this._moddle,e),(function(n){const o=Re('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+fE+"</a>");X(Ke("svg",o),dE),X(o,pE,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),n.appendChild(o),Ie.bind(o,"click",(function(a){KO(),a.preventDefault()}))})(this._container)}function vp(e,n){return e.warnings=n,e}i(An,Va),An.prototype.importXML=async function(e,n){const o=this;let a=[];try{let u;e=this._emit("import.parse.start",{xml:e})||e;try{u=await this._moddle.fromXML(e,"bpmn:Definitions")}catch(_){throw this._emit("import.parse.complete",{error:_}),_}let h=u.rootElement;const p=u.references,m=u.warnings,v=u.elementsById;a=a.concat(m),h=this._emit("import.parse.complete",(l={error:null,definitions:h,elementsById:v,references:p,warnings:a},o.get("eventBus").createEvent(l)))||h;const x=await this.importDefinitions(h,n);return a=a.concat(x.warnings),this._emit("import.done",{error:null,warnings:a}),{warnings:a}}catch(u){let h=u;throw a=a.concat(h.warnings||[]),vp(h,a),h=(function(p){const m=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(p.message);return m&&(p.message="unparsable content <"+m[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+m[2]),p})(h),this._emit("import.done",{error:h,warnings:h.warnings}),h}var l},An.prototype.importDefinitions=async function(e,n){return this._setDefinitions(e),{warnings:(await this.open(n)).warnings}},An.prototype.open=async function(e){const n=this._definitions;let o=e;if(!n){const l=new Error("no XML imported");throw vp(l,[]),l}if(typeof e=="string"&&(o=(function(l,u){return u&&N(l.diagrams,(function(h){return h.id===u}))||null})(n,e),!o)){const l=new Error("BPMNDiagram <"+e+"> not found");throw vp(l,[]),l}try{this.clear()}catch(l){throw vp(l,[]),l}const{warnings:a}=await HO(this,n,o);return{warnings:a}},An.prototype.saveXML=async function(e){e=e||{};let n,o,a=this._definitions;try{if(!a)throw new Error("no definitions loaded");a=this._emit("saveXML.start",{definitions:a})||a,o=(await this._moddle.toXML(a,e)).xml,o=this._emit("saveXML.serialized",{xml:o})||o}catch(u){n=u}const l=n?{error:n}:{xml:o};if(this._emit("saveXML.done",l),n)throw n;return l},An.prototype.saveSVG=async function(){let e,n;this._emit("saveSVG.start");try{const o=this.get("canvas"),a=o.getActiveLayer(),l=Ke(":scope > defs",o._svg),u=d_(a),h=l?"<defs>"+d_(l)+"</defs>":"",p=a.getBBox();e=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+p.width+'" height="'+p.height+'" viewBox="'+p.x+" "+p.y+" "+p.width+" "+p.height+'" version="1.1">'+h+u+"</svg>"}catch(o){n=o}if(this._emit("saveSVG.done",{error:n,svg:e}),n)throw n;return{svg:e}},An.prototype._setDefinitions=function(e){this._definitions=e},An.prototype.getModules=function(){return this._modules},An.prototype.clear=function(){this.getDefinitions()&&Va.prototype.clear.call(this)},An.prototype.destroy=function(){Va.prototype.destroy.call(this),gt(this._container)},An.prototype.on=function(e,n,o,a){return this.get("eventBus").on(e,n,o,a)},An.prototype.off=function(e,n){this.get("eventBus").off(e,n)},An.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=Ke(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},An.prototype.getDefinitions=function(){return this._definitions},An.prototype.detach=function(){const e=this._container,n=e.parentNode;n&&(this._emit("detach",{}),n.removeChild(e))},An.prototype._init=function(e,n,o){const a=o.modules||this.getModules(o),l=o.additionalModules||[],u=[].concat([{bpmnjs:["value",this],moddle:["value",n]}],a,l),h=ie(Wt(o,["additionalModules"]),{canvas:ie({},o.canvas,{container:e}),modules:u});Va.call(this,h),o&&o.container&&this.attachTo(o.container)},An.prototype._emit=function(e,n){return this.get("eventBus").fire(e,n)},An.prototype._createContainer=function(e){const n=Re('<div class="bjs-container"></div>');return X(n,{width:hE(e.width),height:hE(e.height),position:e.position}),n},An.prototype._createModdle=function(e){return new jO(ie({},this._moddleExtensions,e.moddleExtensions))},An.prototype._modules=[];const XO={width:"100%",height:"100%",position:"relative"};function hE(e){return e+(T(e)?"px":"")}function ku(e){An.call(this,e),this.on("import.parse.complete",(function(n){n.error||this._collectIds(n.definitions,n.elementsById)}),this),this.on("diagram.destroy",(function(){this.get("moddle").ids.clear()}),this)}function zt(e,n){return!j(e,"bpmn:CallActivity")&&(j(e,"bpmn:SubProcess")?!(!(n=n||Yt(e))||!j(n,"bpmndi:BPMNPlane"))||n&&!!n.isExpanded:!j(e,"bpmn:Participant")||!!je(e).processRef)}function fr(e){if(j(e,"bpmn:Participant")||j(e,"bpmn:Lane")){var n=Yt(e).isHorizontal;return n===void 0||n}}function Nr(e){return e&&!!je(e).triggeredByEvent}function Zl(e,n){return ee(je(e).eventDefinitions,(function(o){return j(o,n)}))}i(ku,An),ku.prototype._createModdle=function(e){var n=An.prototype._createModdle.call(this,e);return n.ids=new c([32,36,1]),n},ku.prototype._collectIds=function(e,n){var o,a=e.$model.ids;for(o in a.clear(),n)a.claim(o,n[o])};var Au={width:90,height:20};function za(e){return j(e,"bpmn:Event")||j(e,"bpmn:Gateway")||j(e,"bpmn:DataStoreReference")||j(e,"bpmn:DataObjectReference")||j(e,"bpmn:DataInput")||j(e,"bpmn:DataOutput")||j(e,"bpmn:SequenceFlow")||j(e,"bpmn:MessageFlow")||j(e,"bpmn:Group")}function yp(e){return Bt(e.label)}function YO(e){var n=e.length/2-1,o=e[Math.floor(n)],a=e[Math.ceil(n+.01)],l=(function(m){var v=m.length/2-1,x=m[Math.floor(v)],_=m[Math.ceil(v+.01)];return{x:x.x+(_.x-x.x)/2,y:x.y+(_.y-x.y)/2}})(e),u=Math.atan((a.y-o.y)/(a.x-o.x)),h=l.x,p=l.y;return Math.abs(u)<Math.PI/2?p-=15:h+=15,{x:h,y:p}}function Iv(e){return e.waypoints?YO(e.waypoints):j(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+Au.height/2}:{x:e.x+e.width/2,y:e.y+e.height+Au.height/2}}function mE(e){return j(e,"bpmn:FlowElement")||j(e,"bpmn:Participant")||j(e,"bpmn:Lane")||j(e,"bpmn:SequenceFlow")||j(e,"bpmn:MessageFlow")||j(e,"bpmn:DataInput")||j(e,"bpmn:DataOutput")?"name":j(e,"bpmn:TextAnnotation")?"text":j(e,"bpmn:Group")?"categoryValueRef":void 0}function ro(e){var n=e.businessObject,o=mE(n);if(o)return o==="categoryValueRef"?(function(a){var l=a.categoryValueRef;return l&&l.value||""})(n):n[o]||""}var Lv="hsl(225, 10%, 15%)";function So(e,n){return ee(e.eventDefinitions,(function(o){return o.$type===n}))}function It(e,n,o){var a=Yt(e);return o||a.get("color:background-color")||a.get("bioc:fill")||n||"white"}function qe(e,n,o){var a=Yt(e);return o||a.get("color:border-color")||a.get("bioc:stroke")||n||Lv}function Ru(e,n,o,a){var l=Yt(e).get("label");return a||l&&l.get("color:color")||n||qe(e,o)}function gE(e){var n=e.x+e.width/2,o=e.y+e.height/2,a=e.width/2;return Fs([["M",n,o],["m",0,-a],["a",a,a,0,1,1,0,2*a],["a",a,a,0,1,1,0,-2*a],["z"]])}function $v(e,n){var o=e.x,a=e.y,l=e.width,u=e.height;return Fs([["M",o+n,a],["l",l-2*n,0],["a",n,n,0,0,1,n,n],["l",0,u-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-l,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-u],["a",n,n,0,0,1,n,-n],["z"]])}function Pu(e,n={}){return{width:$i(e,n),height:fi(e,n)}}function $i(e,n={}){return H(n,"width")?n.width:e.width}function fi(e,n={}){return H(n,"height")?n.height:e.height}var ZO=new c,Jl=.95;function Gs(e,n,o,a,l,u,h){zo.call(this,n,h);var p=e&&e.defaultFillColor,m=e&&e.defaultStrokeColor,v=e&&e.defaultLabelColor;function x(ne){return o.computeStyle(ne,{strokeLinecap:"round",strokeLinejoin:"round",stroke:Lv,strokeWidth:2,fill:"white"})}function _(ne){return o.computeStyle(ne,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:Lv,strokeWidth:2})}function S(ne,B){var{ref:V={x:0,y:0},scale:ae=1,element:xe,parentGfx:et=l._svg}=B,lt=ut("marker",{id:ne,viewBox:"0 0 20 20",refX:V.x,refY:V.y,markerWidth:20*ae,markerHeight:20*ae,orient:"auto"});We(lt,xe);var dt=Ke(":scope > defs",et);dt||We(et,dt=ut("defs")),We(dt,lt)}function k(ne,B,V,ae){var xe=ZO.nextPrefixed("marker-");return(function(et,lt,dt,Ht,xn){dt==="sequenceflow-end"&&S(lt,{element:ut("path",{d:"M 1 5 L 11 10 L 1 15 Z",...x({fill:xn,stroke:xn,strokeWidth:1})}),ref:{x:11,y:10},scale:.5,parentGfx:et}),dt==="messageflow-start"&&S(lt,{element:ut("circle",{cx:6,cy:6,r:3.5,...x({fill:Ht,stroke:xn,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6},parentGfx:et}),dt==="messageflow-end"&&S(lt,{element:ut("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...x({fill:Ht,stroke:xn,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5},parentGfx:et}),dt==="association-start"&&S(lt,{element:ut("path",{d:"M 11 5 L 1 10 L 11 15",..._({fill:"none",stroke:xn,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5,parentGfx:et}),dt==="association-end"&&S(lt,{element:ut("path",{d:"M 1 5 L 11 10 L 1 15",..._({fill:"none",stroke:xn,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5,parentGfx:et}),dt==="conditional-flow-marker"&&S(lt,{element:ut("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...x({fill:Ht,stroke:xn})}),ref:{x:-1,y:10},scale:.5,parentGfx:et}),dt==="conditional-default-flow-marker"&&S(lt,{element:ut("path",{d:"M 6 4 L 10 16",...x({stroke:xn,fill:"none"})}),ref:{x:0,y:10},scale:.5,parentGfx:et})})(ne,xe,B,V,ae),"url(#"+xe+")"}function R(ne,B,V,ae,xe={}){C(ae)&&(xe=ae,ae=0),ae=ae||0,xe=x(xe);var et=ut("circle",{cx:B/2,cy:V/2,r:Math.round((B+V)/4-ae),...xe});return We(ne,et),et}function O(ne,B,V,ae,xe,et){C(xe)&&(et=xe,xe=0),xe=xe||0,et=x(et);var lt=ut("rect",{x:xe,y:xe,width:B-2*xe,height:V-2*xe,rx:ae,ry:ae,...et});return We(ne,lt),lt}function F(ne,B,V,ae){var xe=gu(B,V=_(V),ae);return We(ne,xe),xe}function I(ne,B,V){return F(ne,B,V,5)}function P(ne,B,V){V=_(V);var ae=ut("path",{...V,d:B});return We(ne,ae),ae}function U(ne,B,V,ae){return P(B,V,ie({"data-marker":ne},ae))}function K(ne){return Mr[ne]}function Y(ne){return function(B,V,ae){return K(ne)(B,V,ae)}}var se=function(ne,B,V={},ae){return P(ne,a.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:V.width||B.width,containerHeight:V.height||B.height,position:{mx:.235,my:.315}}),{fill:ae?qe(B,m,V.stroke):It(B,p,V.fill),stroke:ae?It(B,p,V.fill):qe(B,m,V.stroke),strokeWidth:1})},Ee=function(ne,B,V={}){var ae=V.width||B.width,xe=V.height||B.height,et=V.width?1:2,lt=R(ne,ae,xe,.2*xe,{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:et});P(ne,a.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:ae,containerHeight:xe,position:{mx:.5,my:.5}}),{stroke:qe(B,m,V.stroke),strokeWidth:et});for(var dt=0;dt<12;dt++){var Ht=ae/2,xn=xe/2;P(ne,a.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:ae,containerHeight:xe,position:{mx:.5,my:.5}}),{strokeWidth:1,stroke:qe(B,m,V.stroke),transform:"rotate("+30*dt+","+xn+","+Ht+")"})}return lt},_e=function(ne,B,V={},ae){return P(ne,a.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:V.width||B.width,containerHeight:V.height||B.height,position:{mx:.5,my:.2}}),{fill:ae?qe(B,m,V.stroke):It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1})},ye=function(ne,B,V={}){return P(ne,a.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:V.width||B.width,containerHeight:V.height||B.height,position:{mx:.5,my:.222}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1})},st=function(ne,B,V={},ae){return P(ne,a.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.57,my:.263}}),{fill:ae?qe(B,m,V.stroke):It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1})},Oe=function(ne,B,V={},ae){return P(ne,a.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:V.width||B.width,containerHeight:V.height||B.height,position:{mx:.2,my:.722}}),{fill:ae?qe(B,m,V.stroke):It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1})},Me=function(ne,B,V={},ae){var xe=P(ne,a.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.638,my:-.055}}),{fill:ae?qe(B,m,V.stroke):"none",stroke:qe(B,m,V.stroke),strokeWidth:1});return z_(xe,45),xe},Pe=function(ne,B,V={},ae){return P(ne,a.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:V.width||B.width,containerHeight:V.height||B.height,position:{mx:.22,my:.5}}),{fill:ae?qe(B,m,V.stroke):It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1})},Ve=function(ne,B,V={},ae){return P(ne,a.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:V.width||B.width,containerHeight:V.height||B.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:ae?qe(B,m,V.stroke):It(B,p,V.fill),stroke:qe(B,m,V.stroke)})},nt=function(ne,B,V={},ae){return P(ne,a.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:V.width||B.width,containerHeight:V.height||B.height,position:{mx:.211,my:.36}}),{fill:ae?qe(B,m,V.stroke):It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1})},Mt=function(ne,B,V={}){return P(ne,a.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:V.width||B.width,containerHeight:V.height||B.height,position:{mx:.458,my:.194}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1})},Rt=function(ne,B,V={}){return R(ne,B.width,B.height,8,{fill:qe(B,m,V.stroke),stroke:qe(B,m,V.stroke),strokeWidth:4})};function Dt(ne,B,V={},ae){var xe=je(ne),et=(function(dt){return dt.$type==="bpmn:IntermediateThrowEvent"||dt.$type==="bpmn:EndEvent"})(xe),lt=ae||ne;return xe.get("eventDefinitions")&&xe.get("eventDefinitions").length>1?xe.get("parallelMultiple")?Mt(B,lt,V):nt(B,lt,V,et):So(xe,"bpmn:MessageEventDefinition")?se(B,lt,V,et):So(xe,"bpmn:TimerEventDefinition")?Ee(B,lt,V):So(xe,"bpmn:ConditionalEventDefinition")?ye(B,lt,V):So(xe,"bpmn:SignalEventDefinition")?Ve(B,lt,V,et):So(xe,"bpmn:EscalationEventDefinition")?_e(B,lt,V,et):So(xe,"bpmn:LinkEventDefinition")?st(B,lt,V,et):So(xe,"bpmn:ErrorEventDefinition")?Oe(B,lt,V,et):So(xe,"bpmn:CancelEventDefinition")?Me(B,lt,V,et):So(xe,"bpmn:CompensateEventDefinition")?Pe(B,lt,V,et):So(xe,"bpmn:TerminateEventDefinition")?Rt(B,lt,V):null}var Ft={ParticipantMultiplicityMarker:function(ne,B,V={}){var ae=$i(B,V),xe=fi(B,V);U("participant-multiplicity",ne,a.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ae,containerHeight:xe,position:{mx:(ae/2-6)/ae,my:(xe-15)/xe}}),{strokeWidth:2,fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke)})},SubProcessMarker:function(ne,B,V={}){Er(O(ne,14,14,0,{strokeWidth:1,fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke)}),B.width/2-7.5,B.height-20),U("sub-process",ne,a.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2-7.5)/B.width,my:(B.height-20)/B.height}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke)})},ParallelMarker:function(ne,B,V){var ae=$i(B,V),xe=fi(B,V);U("parallel",ne,a.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ae,containerHeight:xe,position:{mx:(ae/2+V.parallel)/ae,my:(xe-20)/xe}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke)})},SequentialMarker:function(ne,B,V){U("sequential",ne,a.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2+V.seq)/B.width,my:(B.height-19)/B.height}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke)})},CompensationMarker:function(ne,B,V){U("compensation",ne,a.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:(B.width/2+V.compensation)/B.width,my:(B.height-13)/B.height}}),{strokeWidth:1,fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke)})},LoopMarker:function(ne,B,V){var ae=$i(B,V),xe=fi(B,V);U("loop",ne,a.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:ae,containerHeight:xe,position:{mx:(ae/2+V.loop)/ae,my:(xe-7)/xe}}),{strokeWidth:1.5,fill:"none",stroke:qe(B,m,V.stroke),strokeMiterlimit:.5})},AdhocMarker:function(ne,B,V){var ae=$i(B,V),xe=fi(B,V);U("adhoc",ne,a.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:ae,containerHeight:xe,position:{mx:(ae/2+V.adhoc)/ae,my:(xe-15)/xe}}),{strokeWidth:1,fill:qe(B,m,V.stroke),stroke:qe(B,m,V.stroke)})}};function En(ne,B,V,ae){Ft[ne](B,V,ae)}function Dn(ne,B,V=[],ae={}){ae={fill:ae.fill,stroke:ae.stroke,width:$i(B,ae),height:fi(B,ae)};var xe=je(B),et=V.includes("SubProcessMarker");ae=et?{...ae,seq:-21,parallel:-22,compensation:-25,loop:-18,adhoc:10}:{...ae,seq:-5,parallel:-6,compensation:-7,loop:0,adhoc:-8},xe.get("isForCompensation")&&V.push("CompensationMarker"),j(xe,"bpmn:AdHocSubProcess")&&(V.push("AdhocMarker"),et||ie(ae,{compensation:ae.compensation-18}));var lt=xe.get("loopCharacteristics"),dt=lt&&lt.get("isSequential");lt&&(ie(ae,{compensation:ae.compensation-18}),V.includes("AdhocMarker")&&ie(ae,{seq:-23,loop:-18,parallel:-24}),dt===void 0&&V.push("LoopMarker"),dt===!1&&V.push("ParallelMarker"),dt===!0&&V.push("SequentialMarker")),V.includes("CompensationMarker")&&V.length===1&&ie(ae,{compensation:-8}),A(V,(function(Ht){En(Ht,ne,B,ae)}))}function Lt(ne,B,V={}){V=ie({size:{width:100}},V);var ae=u.createText(B||"",V);return rt(ae).add("djs-label"),We(ne,ae),ae}function Ct(ne,B,V,ae={}){var xe=je(B),et=Pu({x:B.x,y:B.y,width:B.width,height:B.height},ae);return Lt(ne,xe.name,{align:V,box:et,padding:7,style:{fill:Ru(B,v,m,ae.stroke)}})}function oa(ne,B,V,ae={}){var xe=fr(V),et=Lt(ne,B,{box:{height:30,width:xe?fi(V,ae):$i(V,ae)},align:"center-middle",style:{fill:Ru(V,v,m,ae.stroke)}});xe&&dp(et,0,-(-1*fi(V,ae)),270)}function qr(ne,B,V={}){var{width:ae,height:xe}=Pu(B,V);return O(ne,ae,xe,10,{...V,fill:It(B,p,V.fill),fillOpacity:Jl,stroke:qe(B,m,V.stroke)})}function aa(ne,B,V={}){var ae=je(B),xe=It(B,p,V.fill),et=qe(B,m,V.stroke);return ae.get("associationDirection")!=="One"&&ae.get("associationDirection")!=="Both"||(V.markerEnd=k(ne,"association-end",xe,et)),ae.get("associationDirection")==="Both"&&(V.markerStart=k(ne,"association-start",xe,et)),V=Zt(V,["markerStart","markerEnd"]),I(ne,B.waypoints,{...V,stroke:et,strokeDasharray:"0, 5"})}function Po(ne,B,V={}){var ae=It(B,p,V.fill),xe=qe(B,m,V.stroke),et=P(ne,a.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.474,my:.296}}),{fill:ae,fillOpacity:Jl,stroke:xe});return(function(lt){var dt=lt.dataObjectRef;return lt.isCollection||dt&&dt.isCollection})(je(B))&&P(ne,a.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:.33,my:(B.height-18)/B.height}}),{strokeWidth:2,fill:ae,stroke:xe}),et}function wn(ne,B,V={}){return R(ne,B.width,B.height,{fillOpacity:Jl,...V,fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke)})}function fn(ne,B,V={}){return(function(ae,xe,et,lt){var dt=xe/2,Ht=et/2,xn=[{x:dt,y:0},{x:xe,y:Ht},{x:dt,y:et},{x:0,y:Ht}].map((function(so){return so.x+","+so.y})).join(" ");lt=x(lt);var br=ut("polygon",{...lt,points:xn});return We(ae,br),br})(ne,B.width,B.height,{fill:It(B,p,V.fill),fillOpacity:Jl,stroke:qe(B,m,V.stroke)})}function sr(ne,B,V={}){var ae=O(ne,$i(B,V),fi(B,V),0,{fill:It(B,p,V.fill),fillOpacity:V.fillOpacity||Jl,stroke:qe(B,m,V.stroke),strokeWidth:1.5}),xe=je(B);return j(xe,"bpmn:Lane")&&oa(ne,xe.get("name"),B,V),ae}function yr(ne,B,V={}){var ae=qr(ne,B,V),xe=zt(B);if(Nr(B)&&(Ne(ae,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),!xe)){var et=(je(B).flowElements||[]).filter((lt=>j(lt,"bpmn:StartEvent")));et.length===1&&(function(lt,dt,Ht,xn){var br=22,so={fill:It(xn,p,Ht.fill),stroke:qe(xn,m,Ht.stroke),width:br,height:br},Ef=je(lt).isInterrupting,Y0=Ef?0:3,Z0=Ef?1:1.2,J0=20,AT=(br-J0)/2,c4="translate("+AT+","+AT+")";R(dt,J0,J0,{fill:so.fill,stroke:so.stroke,strokeWidth:Z0,strokeDasharray:Y0,transform:c4}),Dt(lt,dt,so,xn)})(et[0],ne,V,B)}return Ct(ne,B,xe?"center-top":"center-middle",V),Dn(ne,B,xe?void 0:["SubProcessMarker"],V),ae}function On(ne,B,V={}){var ae=qr(ne,B,V);return Ct(ne,B,"center-middle",V),Dn(ne,B,void 0,V),ae}var Mr=this.handlers={"bpmn:AdHocSubProcess":function(ne,B,V={}){return yr(ne,B,V=zt(B)?Zt(V,["fill","stroke","width","height"]):Zt(V,["fill","stroke"]))},"bpmn:Association":function(ne,B,V={}){return aa(ne,B,V=Zt(V,["fill","stroke"]))},"bpmn:BoundaryEvent":function(ne,B,V={}){var{renderIcon:ae=!0}=V;V=Zt(V,["fill","stroke"]);var xe=je(B).get("cancelActivity");V={strokeWidth:1.5,fill:It(B,p,V.fill),fillOpacity:1,stroke:qe(B,m,V.stroke)},xe||(V.strokeDasharray="6");var et=wn(ne,B,V);return R(ne,B.width,B.height,3,{...V,fill:"none"}),ae&&Dt(B,ne,V),et},"bpmn:BusinessRuleTask":function(ne,B,V={}){var ae=On(ne,B,V=Zt(V,["fill","stroke"]));return Ne(P(ne,a.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1}),Ne(P(ne,a.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{fill:qe(B,m,V.stroke),stroke:qe(B,m,V.stroke),strokeWidth:1}),ae},"bpmn:CallActivity":function(ne,B,V={}){return V=Zt(V,["fill","stroke"]),yr(ne,B,{strokeWidth:5,...V})},"bpmn:ComplexGateway":function(ne,B,V={}){var ae=fn(ne,B,V=Zt(V,["fill","stroke"]));return P(ne,a.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:B.width,containerHeight:B.height,position:{mx:.46,my:.26}}),{fill:qe(B,m,V.stroke),stroke:qe(B,m,V.stroke),strokeWidth:1}),ae},"bpmn:DataInput":function(ne,B,V={}){V=Zt(V,["fill","stroke"]);var ae=a.getRawPath("DATA_ARROW"),xe=Po(ne,B,V);return P(ne,ae,{fill:"none",stroke:qe(B,m,V.stroke),strokeWidth:1}),xe},"bpmn:DataInputAssociation":function(ne,B,V={}){return V=Zt(V,["fill","stroke"]),aa(ne,B,{...V,markerEnd:k(ne,"association-end",It(B,p,V.fill),qe(B,m,V.stroke))})},"bpmn:DataObject":function(ne,B,V={}){return Po(ne,B,V=Zt(V,["fill","stroke"]))},"bpmn:DataObjectReference":Y("bpmn:DataObject"),"bpmn:DataOutput":function(ne,B,V={}){V=Zt(V,["fill","stroke"]);var ae=a.getRawPath("DATA_ARROW"),xe=Po(ne,B,V);return P(ne,ae,{strokeWidth:1,fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke)}),xe},"bpmn:DataOutputAssociation":function(ne,B,V={}){return V=Zt(V,["fill","stroke"]),aa(ne,B,{...V,markerEnd:k(ne,"association-end",It(B,p,V.fill),qe(B,m,V.stroke))})},"bpmn:DataStoreReference":function(ne,B,V={}){return V=Zt(V,["fill","stroke"]),P(ne,a.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:B.width,containerHeight:B.height,position:{mx:0,my:.133}}),{fill:It(B,p,V.fill),fillOpacity:Jl,stroke:qe(B,m,V.stroke),strokeWidth:2})},"bpmn:EndEvent":function(ne,B,V={}){var{renderIcon:ae=!0}=V;V=Zt(V,["fill","stroke"]);var xe=wn(ne,B,{...V,strokeWidth:4});return ae&&Dt(B,ne,V),xe},"bpmn:EventBasedGateway":function(ne,B,V={}){V=Zt(V,["fill","stroke"]);var ae=je(B),xe=fn(ne,B,V);R(ne,B.width,B.height,.2*B.height,{fill:It(B,"none",V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1});var et=ae.get("eventGatewayType"),lt=!!ae.get("instantiate");if(et==="Parallel"){var dt=a.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:B.width,containerHeight:B.height,position:{mx:.474,my:.296}});P(ne,dt,{fill:"none",stroke:qe(B,m,V.stroke),strokeWidth:1})}else et==="Exclusive"&&(lt||R(ne,B.width,B.height,.26*B.height,{fill:"none",stroke:qe(B,m,V.stroke),strokeWidth:1}),(function(){var Ht=a.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:B.width,containerHeight:B.height,position:{mx:.36,my:.44}});P(ne,Ht,{fill:"none",stroke:qe(B,m,V.stroke),strokeWidth:2})})());return xe},"bpmn:ExclusiveGateway":function(ne,B,V={}){var ae=fn(ne,B,V=Zt(V,["fill","stroke"])),xe=a.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:B.width,containerHeight:B.height,position:{mx:.32,my:.3}});return Yt(B).get("isMarkerVisible")&&P(ne,xe,{fill:qe(B,m,V.stroke),stroke:qe(B,m,V.stroke),strokeWidth:1}),ae},"bpmn:Gateway":function(ne,B,V={}){return fn(ne,B,V=Zt(V,["fill","stroke"]))},"bpmn:Group":function(ne,B,V={}){return V=Zt(V,["fill","stroke","width","height"]),O(ne,B.width,B.height,10,{stroke:qe(B,m,V.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:$i(B,V),height:fi(B,V)})},"bpmn:InclusiveGateway":function(ne,B,V={}){var ae=fn(ne,B,V=Zt(V,["fill","stroke"]));return R(ne,B.width,B.height,.24*B.height,{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:2.5}),ae},"bpmn:IntermediateEvent":function(ne,B,V={}){var{renderIcon:ae=!0}=V;V=Zt(V,["fill","stroke"]);var xe=wn(ne,B,{...V,strokeWidth:1.5});return R(ne,B.width,B.height,3,{fill:"none",stroke:qe(B,m,V.stroke),strokeWidth:1.5}),ae&&Dt(B,ne,V),xe},"bpmn:IntermediateCatchEvent":Y("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":Y("bpmn:IntermediateEvent"),"bpmn:Lane":function(ne,B,V={}){return V=Zt(V,["fill","stroke","width","height"]),sr(ne,B,{...V,fillOpacity:.25})},"bpmn:ManualTask":function(ne,B,V={}){var ae=On(ne,B,V=Zt(V,["fill","stroke"]));return P(ne,a.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:.5}),ae},"bpmn:MessageFlow":function(ne,B,V={}){V=Zt(V,["fill","stroke"]);var ae=je(B),xe=Yt(B),et=It(B,p,V.fill),lt=qe(B,m,V.stroke),dt=I(ne,B.waypoints,{markerEnd:k(ne,"messageflow-end",et,lt),markerStart:k(ne,"messageflow-start",et,lt),stroke:lt,strokeDasharray:"10, 11",strokeWidth:1.5});if(ae.get("messageRef")){var Ht=dt.getPointAtLength(dt.getTotalLength()/2),xn=a.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Ht.x,y:Ht.y}}),br={strokeWidth:1};xe.get("messageVisibleKind")==="initiating"?(br.fill=et,br.stroke=lt):(br.fill=lt,br.stroke=et);var so=P(ne,xn,br),Ef=Lt(ne,ae.get("messageRef").get("name"),{align:"center-top",fitBox:!0,style:{fill:lt}}),Y0=so.getBBox(),Z0=Ef.getBBox();dp(Ef,Ht.x-Z0.width/2,Ht.y+Y0.height/2+10,0)}return dt},"bpmn:ParallelGateway":function(ne,B,V={}){var ae=fn(ne,B,V=Zt(V,["fill","stroke"]));return P(ne,a.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:B.width,containerHeight:B.height,position:{mx:.46,my:.2}}),{fill:qe(B,m,V.stroke),stroke:qe(B,m,V.stroke),strokeWidth:1}),ae},"bpmn:Participant":function(ne,B,V={}){var ae=sr(ne,B,V=Zt(V,["fill","stroke","width","height"])),xe=zt(B),et=fr(B),lt=je(B),dt=lt.get("name");if(xe)F(ne,et?[{x:30,y:0},{x:30,y:fi(B,V)}]:[{x:0,y:30},{x:$i(B,V),y:30}],{stroke:qe(B,m,V.stroke),strokeWidth:1.5}),oa(ne,dt,B,V);else{var Ht=Pu(B,V);et||(Ht.height=$i(B,V),Ht.width=fi(B,V));var xn=Lt(ne,dt,{box:Ht,align:"center-middle",style:{fill:Ru(B,v,m,V.stroke)}});et||dp(xn,0,-(-1*fi(B,V)),270)}return lt.get("participantMultiplicity")&&En("ParticipantMultiplicityMarker",ne,B,V),ae},"bpmn:ReceiveTask":function(ne,B,V={}){V=Zt(V,["fill","stroke"]);var ae,xe=je(B),et=On(ne,B,V);return xe.get("instantiate")?(R(ne,28,28,4.4,{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1}),ae=a.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):ae=a.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),P(ne,ae,{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1}),et},"bpmn:ScriptTask":function(ne,B,V={}){var ae=On(ne,B,V=Zt(V,["fill","stroke"]));return P(ne,a.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1}),ae},"bpmn:SendTask":function(ne,B,V={}){var ae=On(ne,B,V=Zt(V,["fill","stroke"]));return P(ne,a.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{fill:qe(B,m,V.stroke),stroke:It(B,p,V.fill),strokeWidth:1}),ae},"bpmn:SequenceFlow":function(ne,B,V={}){V=Zt(V,["fill","stroke"]);var ae=It(B,p,V.fill),xe=qe(B,m,V.stroke),et=I(ne,B.waypoints,{markerEnd:k(ne,"sequenceflow-end",ae,xe),stroke:xe}),lt=je(B),{source:dt}=B;if(dt){var Ht=je(dt);lt.get("conditionExpression")&&j(Ht,"bpmn:Activity")&&Ne(et,{markerStart:k(ne,"conditional-flow-marker",ae,xe)}),Ht.get("default")&&(j(Ht,"bpmn:Gateway")||j(Ht,"bpmn:Activity"))&&Ht.get("default")===lt&&Ne(et,{markerStart:k(ne,"conditional-default-flow-marker",ae,xe)})}return et},"bpmn:ServiceTask":function(ne,B,V={}){var ae=On(ne,B,V=Zt(V,["fill","stroke"]));return R(ne,10,10,{fill:It(B,p,V.fill),stroke:"none",transform:"translate(6, 6)"}),P(ne,a.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1}),R(ne,10,10,{fill:It(B,p,V.fill),stroke:"none",transform:"translate(11, 10)"}),P(ne,a.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:1}),ae},"bpmn:StartEvent":function(ne,B,V={}){var{renderIcon:ae=!0}=V;V=Zt(V,["fill","stroke"]),je(B).get("isInterrupting")||(V={...V,strokeDasharray:"6"});var xe=wn(ne,B,V);return ae&&Dt(B,ne,V),xe},"bpmn:SubProcess":function(ne,B,V={}){return yr(ne,B,V=zt(B)?Zt(V,["fill","stroke","width","height"]):Zt(V,["fill","stroke"]))},"bpmn:Task":function(ne,B,V={}){return On(ne,B,V=Zt(V,["fill","stroke"]))},"bpmn:TextAnnotation":function(ne,B,V={}){V=Zt(V,["fill","stroke","width","height"]);var{width:ae,height:xe}=Pu(B,V),et=O(ne,ae,xe,0,0,{fill:"none",stroke:"none"});return P(ne,a.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ae,containerHeight:xe,position:{mx:0,my:0}}),{stroke:qe(B,m,V.stroke)}),Lt(ne,je(B).get("text")||"",{align:"left-top",box:Pu(B,V),padding:7,style:{fill:Ru(B,v,m,V.stroke)}}),et},"bpmn:Transaction":function(ne,B,V={}){V=zt(B)?Zt(V,["fill","stroke","width","height"]):Zt(V,["fill","stroke"]);var ae=yr(ne,B,{strokeWidth:1.5,...V}),xe=o.style(["no-fill","no-events"],{stroke:qe(B,m,V.stroke),strokeWidth:1.5});return zt(B)||(V={}),O(ne,$i(B,V),fi(B,V),7,3,xe),ae},"bpmn:UserTask":function(ne,B,V={}){var ae=On(ne,B,V=Zt(V,["fill","stroke"]));return P(ne,a.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:.5}),P(ne,a.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{fill:It(B,p,V.fill),stroke:qe(B,m,V.stroke),strokeWidth:.5}),P(ne,a.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{fill:qe(B,m,V.stroke),stroke:qe(B,m,V.stroke),strokeWidth:.5}),ae},label:function(ne,B,V={}){return(function(ae,xe,et={}){var lt={width:90,height:30,x:xe.width/2+xe.x,y:xe.height/2+xe.y};return Lt(ae,ro(xe),{box:lt,fitBox:!0,style:ie({},u.getExternalStyle(),{fill:Ru(xe,v,m,et.stroke)})})})(ne,B,V)}};this._drawPath=P,this._renderer=K}function Zt(e,n=[]){return n.reduce(((o,a)=>(e[a]&&(o[a]=e[a]),o)),{})}i(Gs,zo),Gs.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],Gs.prototype.canRender=function(e){return j(e,"bpmn:BaseElement")},Gs.prototype.drawShape=function(e,n,o={}){var{type:a}=n;return this._renderer(a)(e,n,o)},Gs.prototype.drawConnection=function(e,n,o={}){var{type:a}=n;return this._renderer(a)(e,n,o)},Gs.prototype.getShapePath=function(e){return Bt(e)?$v(e,4):j(e,"bpmn:Event")?gE(e):j(e,"bpmn:Activity")?$v(e,10):j(e,"bpmn:Gateway")?(function(n){var o=n.width/2,a=n.height/2;return Fs([["M",n.x+o,n.y],["l",o,a],["l",-o,a],["l",-o,-a],["z"]])})(e):(function(n){var o=n.x,a=n.y,l=n.width;return Fs([["M",o,a],["l",l,0],["l",0,n.height],["l",-l,0],["z"]])})(e)};var JO={width:150,height:50};function QO(e,n){var o;n.textContent=e;try{var a,l=e==="";return n.textContent=l?"dummy":e,a={width:(o=n.getBBox()).width+2*o.x,height:o.height},l&&(a.width=0),a}catch(u){return console.log(u),{width:0,height:0}}}function qO(e,n,o){for(var a,l=e.shift(),u=l;;){if((a=QO(u,o)).width=u?a.width:0,u===" "||u===""||a.width<Math.round(n)||u.length<2)return eM(e,u,l,a);u=tM(u,a.width,n)}}function eM(e,n,o,a){if(n.length<o.length){var l=o.slice(n.length).trim();e.unshift(l)}return{width:a.width,height:a.height,text:n}}var vE="";function tM(e,n,o){var a=Math.max(e.length*(o/n),1),l=(function(u,h){var p,m=u.split(/(\s|-|\u00AD)/g),v=[],x=0;if(m.length>1)for(;p=m.shift();){if(!(p.length+x<h)){p!=="-"&&p!==vE||v.pop();break}v.push(p),x+=p.length}var _=v[v.length-1];return _&&_===vE&&(v[v.length-1]="-"),v.join("")})(e,a);return l||(l=e.slice(0,Math.max(Math.round(a-1),1))),l}function bp(e){this._config=ie({},{size:JO,padding:0,style:{},align:"center-top"},e||{})}bp.prototype.createText=function(e,n){return this.layoutText(e,n).element},bp.prototype.getDimensions=function(e,n){return this.layoutText(e,n).dimensions},bp.prototype.layoutText=function(e,n){var o=ie({},this._config.size,n.box),a=ie({},this._config.style,n.style),l=(function(F){var I=F.split("-");return{horizontal:I[0]||"center",vertical:I[1]||"top"}})(n.align||this._config.align),u=(function(F){return C(F)?ie({top:0,left:0,right:0,bottom:0},F):{top:F,left:F,right:F,bottom:F}})(n.padding!==void 0?n.padding:this._config.padding),h=n.fitBox||!1,p=(function(F){if("fontSize"in F&&"lineHeight"in F)return F.lineHeight*parseInt(F.fontSize,10)})(a),m=e.split(/\u00AD?\r?\n/),v=[],x=o.width-u.left-u.right,_=ut("text");for(Ne(_,{x:0,y:0}),Ne(_,a),We((function(){var F=document.getElementById("helper-svg");return F||(Ne(F=ut("svg"),{id:"helper-svg"}),X(F,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(F)),F})(),_);m.length;)v.push(qO(m,x,_));l.vertical==="middle"&&(u.top=u.bottom=0);var S=Z(v,(function(F,I,P){return F+(p||I.height)}),0)+u.top+u.bottom,k=Z(v,(function(F,I,P){return I.width>F?I.width:F}),0),R=u.top;l.vertical==="middle"&&(R+=(o.height-S)/2),R-=(p||v[0].height)/4;var O=ut("text");return Ne(O,a),A(v,(function(F){var I;switch(R+=p||F.height,l.horizontal){case"left":I=u.left;break;case"right":I=(h?k:x)-u.right-F.width;break;default:I=Math.max(((h?k:x)-F.width)/2+u.left,0)}var P=ut("tspan");Ne(P,{x:I,y:R}),P.textContent=F.text,We(O,P)})),Wn(_),{dimensions:{width:k,height:S},element:O}};function yE(e){var n=ie({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),o=parseInt(n.fontSize,10)-1,a=ie({},n,{fontSize:o},e&&e.externalStyle||{}),l=new bp({style:n});this.getExternalLabelBounds=function(u,h){var p=l.getDimensions(h,{box:{width:90,height:30},style:a});return{x:Math.round(u.x+u.width/2-p.width/2),y:Math.round(u.y),width:Math.ceil(p.width),height:Math.ceil(p.height)}},this.getTextAnnotationBounds=function(u,h){var p=l.getDimensions(h,{box:u,style:n,align:"left-top",padding:5});return{x:u.x,y:u.y,width:u.width,height:Math.max(30,Math.round(p.height))}},this.createText=function(u,h){return l.createText(u,h||{})},this.getDefaultStyle=function(){return n},this.getExternalStyle=function(){return a}}yE.$inject=["config.textRenderer"];var nM=/\{([^{}]+)\}/g,rM=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,iM={__init__:["bpmnRenderer"],bpmnRenderer:["type",Gs],textRenderer:["type",yE],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,n){var o,a,l=this.pathMap[e];n.abspos?(o=n.abspos.x,a=n.abspos.y):(o=n.containerWidth*n.position.mx,a=n.containerHeight*n.position.my);var u={};if(n.position){for(var h=n.containerHeight/l.height*n.yScaleFactor,p=n.containerWidth/l.width*n.xScaleFactor,m=0;m<l.heightElements.length;m++)u["y"+m]=l.heightElements[m]*h;for(var v=0;v<l.widthElements.length;v++)u["x"+v]=l.widthElements[v]*p}var x,_,S=(x=l.d,_={mx:o,my:a,e:u},String(x).replace(nM,(function(k,R){return(function(O,F,I){var P=I;return F.replace(rM,(function(U,K,Y,se,Ee){K=K||se,P&&(K in P&&(P=P[K]),typeof P=="function"&&Ee&&(P=P()))})),P=(P==null||P==I?O:P)+""})(k,R,_)})));return S}}]},xp={translate:["value",function(e,n){return n=n||{},e.replace(/{([^}]+)}/g,(function(o,a){return n[a]||"{"+a+"}"}))}]};function _p(e,n,o){return ie({id:e.id,type:e.$type,businessObject:e,di:n},o)}function oM(e,n,o){var a=e.waypoint;return!a||a.length<2?[vt(n),vt(o)]:a.map((function(l){return{x:l.x,y:l.y}}))}function bE(e,n,o){return new Error(`element ${Pr(n)} referenced by ${Pr(e)}#${o} not yet drawn`)}function Yo(e,n,o,a,l){this._eventBus=e,this._canvas=n,this._elementFactory=o,this._elementRegistry=a,this._textRenderer=l}Yo.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"],Yo.prototype.add=function(e,n,o){var a,l,u;if(j(n,"bpmndi:BPMNPlane")){var h=j(e,"bpmn:SubProcess")?{id:e.id+"_plane"}:{};a=this._elementFactory.createRoot(_p(e,n,h)),this._canvas.addRootElement(a)}else if(j(n,"bpmndi:BPMNShape")){var p=!zt(e,n),m=(function(S){return j(S,"bpmn:Group")})(e);l=o&&(o.hidden||o.collapsed);var v=n.bounds;a=this._elementFactory.createShape(_p(e,n,{collapsed:p,hidden:l,x:Math.round(v.x),y:Math.round(v.y),width:Math.round(v.width),height:Math.round(v.height),isFrame:m})),j(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,a),j(e,"bpmn:Lane")&&(u=0),j(e,"bpmn:DataStoreReference")&&((function(S,k){var R=k.x,O=k.y;return R>=S.x&&R<=S.x+S.width&&O>=S.y&&O<=S.y+S.height})(o,vt(v))||(o=this._canvas.findRoot(o))),this._canvas.addShape(a,o,u)}else{if(!j(n,"bpmndi:BPMNEdge"))throw new Error(`unknown di ${Pr(n)} for element ${Pr(e)}`);var x=this._getSource(e),_=this._getTarget(e);l=o&&(o.hidden||o.collapsed),a=this._elementFactory.createConnection(_p(e,n,{hidden:l,source:x,target:_,waypoints:oM(n,x,_)})),j(e,"bpmn:DataAssociation")&&(o=this._canvas.findRoot(o)),this._canvas.addConnection(a,o,u)}return za(e)&&ro(a)&&this.addLabel(e,n,a),this._eventBus.fire("bpmnElement.added",{element:a}),a},Yo.prototype._attachBoundary=function(e,n){var o=e.attachedToRef;if(!o)throw new Error(`missing ${Pr(e)}#attachedToRef`);var a=this._elementRegistry.get(o.id),l=a&&a.attachers;if(!a)throw bE(e,o,"attachedToRef");n.host=a,l||(a.attachers=l=[]),l.indexOf(n)===-1&&l.push(n)},Yo.prototype.addLabel=function(e,n,o){var a,l,u;return a=(function(h,p){var m,v,x,_=h.label;return _&&_.bounds?(x=_.bounds,v={width:Math.max(Au.width,x.width),height:x.height},m={x:x.x+x.width/2,y:x.y+x.height/2}):(m=Iv(p),v=Au),ie({x:m.x-v.width/2,y:m.y-v.height/2},v)})(n,o),(l=ro(o))&&(a=this._textRenderer.getExternalLabelBounds(a,l)),u=this._elementFactory.createLabel(_p(e,n,{id:e.id+"_label",labelTarget:o,type:"label",hidden:o.hidden||!ro(o),x:Math.round(a.x),y:Math.round(a.y),width:Math.round(a.width),height:Math.round(a.height)})),this._canvas.addShape(u,o.parent)},Yo.prototype._getConnectedElement=function(e,n){var o,a,l=e.$type;if(a=e[n+"Ref"],n==="source"&&l==="bpmn:DataInputAssociation"&&(a=a&&a[0]),(n==="source"&&l==="bpmn:DataOutputAssociation"||n==="target"&&l==="bpmn:DataInputAssociation")&&(a=e.$parent),o=a&&this._getElement(a))return o;throw a?bE(e,a,n+"Ref"):new Error(`${Pr(e)}#${n} Ref not specified`)},Yo.prototype._getSource=function(e){return this._getConnectedElement(e,"source")},Yo.prototype._getTarget=function(e){return this._getConnectedElement(e,"target")},Yo.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};var aM={__depends__:[iM,{__depends__:[xp],bpmnImporter:["type",Yo]}]};function Nu(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Nu.prototype.next=function(){return this._prefix+ ++this._counter};var sM=new Nu("ov");function gr(e,n,o,a){var l,u;this._eventBus=n,this._canvas=o,this._elementRegistry=a,this._ids=sM,this._overlayDefaults=ie({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(l=o.getContainer(),X(u=Re('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),l.insertBefore(u,l.firstChild),u),this._init()}function xE(e,n,o){X(e,{left:n+"px",top:o+"px"})}function Ep(e,n){e.style.display=n===!1?"none":""}function _E(e,n){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(o){e.style[o+"transform"]=n}))}gr.$inject=["config.overlays","eventBus","canvas","elementRegistry"],gr.prototype.get=function(e){if($(e)&&(e={id:e}),$(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var n=this._getOverlayContainer(e.element,!0);return n?e.type?M(n.overlays,le({type:e.type})):n.overlays.slice():[]}return e.type?M(this._overlays,le({type:e.type})):e.id?this._overlays[e.id]:null},gr.prototype.add=function(e,n,o){if(C(n)&&(o=n,n=null),e.id||(e=this._elementRegistry.get(e)),!o.position)throw new Error("must specifiy overlay position");if(!o.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var a=this._ids.next();return o=ie({},this._overlayDefaults,o,{id:a,type:n,element:e,html:o.html}),this._addOverlay(o),a},gr.prototype.remove=function(e){var n=this.get(e)||[];w(n)||(n=[n]);var o=this;A(n,(function(a){var l=o._getOverlayContainer(a.element,!0);if(a&&(gt(a.html),gt(a.htmlContainer),delete a.htmlContainer,delete a.element,delete o._overlays[a.id]),l){var u=l.overlays.indexOf(a);u!==-1&&l.overlays.splice(u,1)}}))},gr.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"},gr.prototype.show=function(){Ep(this._overlayRoot)},gr.prototype.hide=function(){Ep(this._overlayRoot,!1)},gr.prototype.clear=function(){this._overlays={},this._overlayContainers=[],$e(this._overlayRoot)},gr.prototype._updateOverlayContainer=function(e){var n=e.element,o=e.html,a=n.x,l=n.y;if(n.waypoints){var u=ir(n);a=u.x,l=u.y}xE(o,a,l),q(e.html,"data-container-id",n.id)},gr.prototype._updateOverlay=function(e){var n,o,a=e.position,l=e.htmlContainer,u=e.element,h=a.left,p=a.top;a.right!==void 0&&(n=u.waypoints?ir(u).width:u.width,h=-1*a.right+n),a.bottom!==void 0&&(o=u.waypoints?ir(u).height:u.height,p=-1*a.bottom+o),xE(l,h||0,p||0),this._updateOverlayVisibilty(e,this._canvas.viewbox())},gr.prototype._createOverlayContainer=function(e){var n=Re('<div class="djs-overlays" />');X(n,{position:"absolute"}),this._overlayRoot.appendChild(n);var o={html:n,element:e,overlays:[]};return this._updateOverlayContainer(o),this._overlayContainers.push(o),o},gr.prototype._updateRoot=function(e){var n=e.scale||1,o="matrix("+[n,0,0,n,-1*e.x*n,-1*e.y*n].join(",")+")";_E(this._overlayRoot,o)},gr.prototype._getOverlayContainer=function(e,n){var o=N(this._overlayContainers,(function(a){return a.element===e}));return o||n?o:this._createOverlayContainer(e)},gr.prototype._addOverlay=function(e){var n,o,a=e.id,l=e.element,u=e.html;u.get&&u.constructor.prototype.jquery&&(u=u.get(0)),$(u)&&(u=Re(u)),o=this._getOverlayContainer(l),X(n=Re('<div class="djs-overlay" data-overlay-id="'+a+'">'),{position:"absolute"}),n.appendChild(u),e.type&&Ce(n).add("djs-overlay-"+e.type),Ep(n,this._canvas.findRoot(l)===this._canvas.getRootElement()),e.htmlContainer=n,o.overlays.push(e),o.html.appendChild(n),this._overlays[a]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},gr.prototype._updateOverlayVisibilty=function(e,n){var o=e.show,a=this._canvas.findRoot(e.element),l=o&&o.minZoom,u=o&&o.maxZoom,h=e.htmlContainer,p=!0;(a!==this._canvas.getRootElement()||o&&(b(l)&&l>n.scale||b(u)&&u<n.scale))&&(p=!1),Ep(h,p),this._updateOverlayScale(e,n)},gr.prototype._updateOverlayScale=function(e,n){var o,a,l,u=e.scale,h=e.htmlContainer,p="";u!==!0&&(u===!1?(o=1,a=1):(o=u.min,a=u.max),b(o)&&n.scale<o&&(l=(1/n.scale||1)*o),b(a)&&n.scale>a&&(l=(1/n.scale||1)*a)),b(l)&&(p="scale("+l+","+l+")"),_E(h,p)},gr.prototype._updateOverlaysVisibilty=function(e){var n=this;A(this._overlays,(function(o){n._updateOverlayVisibilty(o,e)}))},gr.prototype._init=function(){var e=this._eventBus,n=this;e.on("canvas.viewbox.changing",(function(o){n.hide()})),e.on("canvas.viewbox.changed",(function(o){var a;a=o.viewbox,n._updateRoot(a),n._updateOverlaysVisibilty(a),n.show()})),e.on(["shape.remove","connection.remove"],(function(o){var a=o.element;A(n.get({element:a}),(function(h){n.remove(h.id)}));var l=n._getOverlayContainer(a);if(l){gt(l.html);var u=n._overlayContainers.indexOf(l);u!==-1&&n._overlayContainers.splice(u,1)}})),e.on("element.changed",500,(function(o){var a=o.element,l=n._getOverlayContainer(a,!0);l&&(A(l.overlays,(function(u){n._updateOverlay(u)})),n._updateOverlayContainer(l))})),e.on("element.marker.update",(function(o){var a=n._getOverlayContainer(o.element,!0);a&&Ce(a.html)[o.add?"add":"remove"](o.marker)})),e.on("root.set",(function(){n._updateOverlaysVisibilty(n._canvas.viewbox())})),e.on("diagram.clear",this.clear,this)};var wp={__init__:["overlays"],overlays:["type",gr]};function EE(e,n,o,a){e.on("element.changed",(function(l){var u=l.element;(u.parent||u===n.getRootElement())&&(l.gfx=o.getGraphics(u)),l.gfx&&e.fire(v_(u)+".changed",l)})),e.on("elements.changed",(function(l){var u=l.elements;u.forEach((function(h){e.fire("element.changed",{element:h})})),a.updateContainments(u)})),e.on("shape.changed",(function(l){a.update("shape",l.element,l.gfx)})),e.on("connection.changed",(function(l){a.update("connection",l.element,l.gfx)}))}EE.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var Bv={__init__:["changeSupport"],changeSupport:["type",EE]};function Fe(e){this._eventBus=e}function Zo(e){return function(n,o,a,l,u){(D(n)||T(n))&&(u=l,l=a,a=o,o=n,n=null),this.on(n,e,o,a,l,u)}}function Fv(e,n){n.invoke(Fe,this),this.executed((function(o){var a=o.context;a.rootElement?e.setRootElement(a.rootElement):a.rootElement=e.getRootElement()})),this.revert((function(o){var a=o.context;a.rootElement&&e.setRootElement(a.rootElement)}))}Fe.$inject=["eventBus"],Fe.prototype.on=function(e,n,o,a,l,u){if((D(n)||T(n))&&(u=l,l=a,a=o,o=n,n=null),D(o)&&(u=l,l=a,a=o,o=1e3),C(l)&&(u=l,l=!1),!D(a))throw new Error("handlerFn must be a function");w(e)||(e=[e]);var h=this._eventBus;A(e,(function(p){var m=["commandStack",p,n].filter((function(v){return v})).join(".");h.on(m,o,l?(function(v,x){return function(_){return v.call(x||null,_.context,_.command,_)}})(a,u):a,u)}))},Fe.prototype.canExecute=Zo("canExecute"),Fe.prototype.preExecute=Zo("preExecute"),Fe.prototype.preExecuted=Zo("preExecuted"),Fe.prototype.execute=Zo("execute"),Fe.prototype.executed=Zo("executed"),Fe.prototype.postExecute=Zo("postExecute"),Fe.prototype.postExecuted=Zo("postExecuted"),Fe.prototype.revert=Zo("revert"),Fe.prototype.reverted=Zo("reverted"),i(Fv,Fe),Fv.$inject=["canvas","injector"];var lM={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",Fv]};function Ou(e){return CSS.escape(e)}var cM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wE(e){return(e=""+e)&&e.replace(/[&<>"']/g,(function(n){return cM[n]}))}var SE="_plane";function CE(e){return(function(n){return n.replace(new RegExp(SE+"$"),"")})(e.id)}function Jo(e){var n=e.id;return j(e,"bpmn:SubProcess")?TE(n):n}function Ws(e){return TE(e)}function Sp(e){return j(Yt(e),"bpmndi:BPMNPlane")}function TE(e){return e+SE}function kE(e,n,o){var a=Re('<ul class="bjs-breadcrumbs"></ul>'),l=o.getContainer(),u=Ce(l);l.appendChild(a);var h=[];function p(m){m&&(h=(function(_){for(var S=je(_),k=[],R=S;R;R=R.$parent)(j(R,"bpmn:SubProcess")||j(R,"bpmn:Process"))&&k.push(R);return k.reverse()})(m));var v=h.flatMap((function(_){var S=o.findRoot(Jo(_))||o.findRoot(_.id);if(!S&&j(_,"bpmn:Process")){var k=n.find((function(F){var I=je(F);return I&&I.get("processRef")===_}));S=k&&o.findRoot(k.id)}if(!S)return[];var R=wE(_.name||_.id),O=Re('<li><span class="bjs-crumb"><a title="'+R+'">'+R+"</a></span></li>");return O.addEventListener("click",(function(){o.setRootElement(S)})),O}));a.innerHTML="";var x=v.length>1;u.toggle("bjs-breadcrumbs-shown",x),v.forEach((function(_){a.appendChild(_)}))}e.on("element.changed",(function(m){var v=je(m.element);N(h,(function(x){return x===v}))&&p()})),e.on("root.set",(function(m){p(m.element)}))}function AE(e,n){var o=null,a=new uM;e.on("root.set",(function(l){var u=l.element,h=n.viewbox(),p=a.get(u);if(a.set(o,{x:h.x,y:h.y,zoom:h.scale}),o=u,j(u,"bpmn:SubProcess")||p){p=p||{x:0,y:0,zoom:1};var m=(h.x-p.x)*h.scale,v=(h.y-p.y)*h.scale;m===0&&v===0||n.scroll({dx:m,dy:v}),p.zoom!==h.scale&&n.zoom(p.zoom,{x:0,y:0})}})),e.on("diagram.clear",(function(){a.clear(),o=null}))}function uM(){this._entries=[],this.set=function(e,n){var o=!1;for(var a in this._entries)if(this._entries[a][0]===e){this._entries[a][1]=n,o=!0;break}o||this._entries.push([e,n])},this.get=function(e){for(var n in this._entries)if(this._entries[n][0]===e)return this._entries[n][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var n=-1;for(var o in this._entries)if(this._entries[o][0]===e){n=o;break}n!==-1&&this._entries.splice(n,1)}}kE.$inject=["eventBus","elementRegistry","canvas"],AE.$inject=["eventBus","canvas"];var fM=180,dM=160;function Ks(e,n){this._eventBus=e,this._moddle=n;var o=this;e.on("import.render.start",1500,(function(a,l){o._handleImport(l.definitions)}))}function RE(e){return j(e,"bpmndi:BPMNDiagram")?e:RE(e.$parent)}Ks.prototype._handleImport=function(e){if(e.diagrams){var n=this;this._definitions=e,this._processToDiagramMap={},e.diagrams.forEach((function(o){o.plane&&o.plane.bpmnElement&&(n._processToDiagramMap[o.plane.bpmnElement.id]=o)})),e.diagrams.filter((o=>o.plane)).flatMap((o=>n._createNewDiagrams(o.plane))).forEach((function(o){n._movePlaneElementsToOrigin(o.plane)}))}},Ks.prototype._createNewDiagrams=function(e){var n=this,o=[],a=[];e.get("planeElement").forEach((function(u){var h=u.bpmnElement;if(h){var p=h.$parent;j(h,"bpmn:SubProcess")&&!u.isExpanded&&o.push(h),(function(m,v){var x=m.$parent;return!(!j(x,"bpmn:SubProcess")||x===v.bpmnElement||Ot(m,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))})(h,e)&&a.push({diElement:u,parent:p})}}));var l=[];return o.forEach((function(u){if(!n._processToDiagramMap[u.id]){var h=n._createDiagram(u);n._processToDiagramMap[u.id]=h,l.push(h)}})),a.forEach((function(u){for(var h=u.diElement,p=u.parent;p&&o.indexOf(p)===-1;)p=p.$parent;if(p){var m=n._processToDiagramMap[p.id];n._moveToDiPlane(h,m.plane)}})),l},Ks.prototype._movePlaneElementsToOrigin=function(e){var n=e.get("planeElement"),o=(function(u){var h={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return u.planeElement.forEach((function(p){if(p.bounds){var m=mt(p.bounds);h.top=Math.min(m.top,h.top),h.left=Math.min(m.left,h.left)}})),cp(h)})(e),a=o.x-fM,l=o.y-dM;n.forEach((function(u){u.waypoint?u.waypoint.forEach((function(h){h.x=h.x-a,h.y=h.y-l})):u.bounds&&(u.bounds.x=u.bounds.x-a,u.bounds.y=u.bounds.y-l)}))},Ks.prototype._moveToDiPlane=function(e,n){var o=RE(e).plane.get("planeElement");o.splice(o.indexOf(e),1),n.get("planeElement").push(e)},Ks.prototype._createDiagram=function(e){var n=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:e}),o=this._moddle.create("bpmndi:BPMNDiagram",{plane:n});return n.$parent=o,n.bpmnElement=e,o.$parent=this._definitions,this._definitions.diagrams.push(o),o},Ks.$inject=["eventBus","moddle"];var Cp=250;function Ga(e,n,o,a,l){Fe.call(this,n),this._canvas=e,this._eventBus=n,this._elementRegistry=o,this._overlays=a,this._translate=l;var u=this;this.executed("shape.toggleCollapse",Cp,(function(h){var p=h.shape;u._canDrillDown(p)?u._addOverlay(p):u._removeOverlay(p)}),!0),this.reverted("shape.toggleCollapse",Cp,(function(h){var p=h.shape;u._canDrillDown(p)?u._addOverlay(p):u._removeOverlay(p)}),!0),this.executed(["shape.create","shape.move","shape.delete"],Cp,(function(h){var p=h.oldParent,m=h.newParent||h.parent,v=h.shape;u._canDrillDown(v)&&u._addOverlay(v),u._updateDrilldownOverlay(p),u._updateDrilldownOverlay(m),u._updateDrilldownOverlay(v)}),!0),this.reverted(["shape.create","shape.move","shape.delete"],Cp,(function(h){var p=h.oldParent,m=h.newParent||h.parent,v=h.shape;u._canDrillDown(v)&&u._addOverlay(v),u._updateDrilldownOverlay(p),u._updateDrilldownOverlay(m),u._updateDrilldownOverlay(v)}),!0),n.on("import.render.complete",(function(){o.filter((function(h){return u._canDrillDown(h)})).map((function(h){u._addOverlay(h)}))}))}i(Ga,Fe),Ga.prototype._updateDrilldownOverlay=function(e){var n=this._canvas;if(e){var o=n.findRoot(e);o&&this._updateOverlayVisibility(o)}},Ga.prototype._canDrillDown=function(e){var n=this._canvas;return j(e,"bpmn:SubProcess")&&n.findRoot(Jo(e))},Ga.prototype._updateOverlayVisibility=function(e){var n=this._overlays,o=je(e),a=n.get({element:o.id,type:"drilldown"})[0];if(a){var l=o&&o.get("flowElements")&&o.get("flowElements").length;Ce(a.html).toggle("bjs-drilldown-empty",!l)}},Ga.prototype._addOverlay=function(e){var n=this._canvas,o=this._overlays,a=je(e);o.get({element:e,type:"drilldown"}).length&&this._removeOverlay(e);var l=Re('<button type="button" class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>'),u=a.get("name")||a.get("id"),h=this._translate("Open {element}",{element:u});l.setAttribute("title",h),l.addEventListener("click",(function(){n.setRootElement(n.findRoot(Jo(e)))})),o.add(e,"drilldown",{position:{bottom:-7,right:-8},html:l}),this._updateOverlayVisibility(e)},Ga.prototype._removeOverlay=function(e){this._overlays.remove({element:e,type:"drilldown"})},Ga.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];var pM={__depends__:[wp,Bv,lM],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",kE],drilldownCentering:["type",AE],drilldownOverlayBehavior:["type",Ga],subprocessCompatibility:["type",Ks]};function PE(e){e&&typeof e.stopPropagation=="function"&&e.stopPropagation()}function Ql(e){return e.originalEvent||e.srcEvent}function jv(e){PE(e),PE(Ql(e))}function Xs(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function NE(){return/mac/i.test(navigator.platform)}function OE(e,n){return(Ql(e)||e).button===n}function Wa(e){return OE(e,0)}function Mu(e){var n=Ql(e)||e;return!!Wa(e)&&(NE()?n.metaKey:n.ctrlKey)}function Tp(e){var n=Ql(e)||e;return Wa(e)&&n.shiftKey}function hM(e){return!0}function kp(e){return Wa(e)||(function(n){return OE(n,1)})(e)}function ME(e,n,o){var a=this;function l(I,P,U){var K,Y;(function(se,Ee){var _e=m[se]||Wa;return!_e(Ee)})(I,P)||(U?Y=n.getGraphics(U):(K=P.delegateTarget||P.target)&&(Y=K,U=n.get(Y)),Y&&U&&e.fire(I,{element:U,gfx:Y,originalEvent:P})===!1&&(P.stopPropagation(),P.preventDefault()))}var u={};function h(I){return u[I]}var p={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},m={"element.contextmenu":hM,"element.mousedown":kp,"element.mouseup":kp,"element.click":kp,"element.dblclick":kp};function v(I,P,U,K){var Y=u[U]=function(se){l(U,se)};K&&(m[U]=K),Y.$delegate=Nt.bind(I,"svg, .djs-element",P,Y)}function x(I,P,U){var K=h(U);K&&Nt.unbind(I,P,K.$delegate)}e.on("canvas.destroy",(function(I){var P;P=I.svg,A(p,(function(U,K){x(P,K,U)}))})),e.on("canvas.init",(function(I){var P;P=I.svg,A(p,(function(U,K){v(P,K,U)}))})),e.on(["shape.added","connection.added"],(function(I){var P=I.element,U=I.gfx;e.fire("interactionEvents.createHit",{element:P,gfx:U})})),e.on(["shape.changed","connection.changed"],500,(function(I){var P=I.element,U=I.gfx;e.fire("interactionEvents.updateHit",{element:P,gfx:U})})),e.on("interactionEvents.createHit",500,(function(I){var P=I.element,U=I.gfx;a.createDefaultHit(P,U)})),e.on("interactionEvents.updateHit",(function(I){var P=I.element,U=I.gfx;a.updateDefaultHit(P,U)}));var _=R("djs-hit djs-hit-stroke"),S=R("djs-hit djs-hit-click-stroke"),k={all:R("djs-hit djs-hit-all"),"click-stroke":S,stroke:_,"no-move":R("djs-hit djs-hit-no-move")};function R(I,P){return P=ie({stroke:"white",strokeWidth:15},P||{}),o.cls(I,["no-fill","no-border"],P)}function O(I,P){var U=k[P];if(!U)throw new Error("invalid hit type <"+P+">");return Ne(I,U),I}function F(I,P){We(I,P)}this.removeHits=function(I){A(kt(".djs-hit",I),Wn)},this.createDefaultHit=function(I,P){var U,K=I.waypoints,Y=I.isFrame;return K?this.createWaypointsHit(P,K):(U=Y?"stroke":"all",this.createBoxHit(P,U,{width:I.width,height:I.height}))},this.createWaypointsHit=function(I,P){var U=gu(P);return O(U,"stroke"),F(I,U),U},this.createBoxHit=function(I,P,U){U=ie({x:0,y:0},U);var K=ut("rect");return O(K,P),Ne(K,U),F(I,K),K},this.updateDefaultHit=function(I,P){var U=Ke(".djs-hit",P);if(U)return I.waypoints?gv(U,I.waypoints):Ne(U,{width:I.width,height:I.height}),U},this.fire=l,this.triggerMouseEvent=function(I,P,U){var K=p[I];if(!K)throw new Error("unmapped DOM event name <"+I+">");return l(K,P,U)},this.mouseHandler=h,this.registerEvent=v,this.unregisterEvent=x}ME.$inject=["eventBus","elementRegistry","styles"];var Ap={__init__:["interactionEvents"],interactionEvents:["type",ME]};function ql(e,n){this._eventBus=e,this._canvas=n,this._selectedElements=[];var o=this;e.on(["shape.remove","connection.remove"],(function(a){var l=a.element;o.deselect(l)})),e.on(["diagram.clear","root.set"],(function(a){o.select(null)}))}ql.$inject=["eventBus","canvas"],ql.prototype.deselect=function(e){var n=this._selectedElements,o=n.indexOf(e);if(o!==-1){var a=n.slice();n.splice(o,1),this._eventBus.fire("selection.changed",{oldSelection:a,newSelection:n})}},ql.prototype.get=function(){return this._selectedElements},ql.prototype.isSelected=function(e){return this._selectedElements.indexOf(e)!==-1},ql.prototype.select=function(e,n){var o=this._selectedElements,a=o.slice();w(e)||(e=e?[e]:[]);var l=this._canvas,u=l.getRootElement();e=e.filter((function(h){var p=l.findRoot(h);return u===p})),n?A(e,(function(h){o.indexOf(h)===-1&&o.push(h)})):this._selectedElements=o=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:a,newSelection:o})};var DE="hover",IE="selected";function LE(e,n){function o(l,u){e.addMarker(l,u)}function a(l,u){e.removeMarker(l,u)}this._canvas=e,n.on("element.hover",(function(l){o(l.element,DE)})),n.on("element.out",(function(l){a(l.element,DE)})),n.on("selection.changed",(function(l){var u=l.oldSelection,h=l.newSelection;A(u,(function(p){h.indexOf(p)===-1&&(function(m){a(m,IE)})(p)})),A(h,(function(p){u.indexOf(p)===-1&&(function(m){o(m,IE)})(p)}))}))}function $E(e,n,o,a){e.on("create.end",500,(function(l){var u=l.context,h=u.canExecute,p=u.elements,m=(u.hints||{}).autoSelect;if(h){if(m===!1)return;w(m)?n.select(m):n.select(p.filter(mM))}})),e.on("connect.end",500,(function(l){var u=l.context.connection;u&&n.select(u)})),e.on("shape.move.end",500,(function(l){var u=l.previousSelection||[],h=a.get(l.context.shape.id);N(u,(function(p){return h.id===p.id}))||n.select(h)})),e.on("element.click",(function(l){if(Wa(l)){var u=l.element;u===o.getRootElement()&&(u=null);var h=n.isSelected(u),p=n.get().length>1,m=Tp(l);if(h&&p)return m?n.deselect(u):n.select(u);h?n.deselect(u):n.select(u,m)}}))}function mM(e){return!e.hidden}LE.$inject=["canvas","eventBus"],$E.$inject=["eventBus","selection","canvas","elementRegistry"];var Bi={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Ap],selection:["type",ql],selectionVisuals:["type",LE],selectionBehavior:["type",$E]};function Ka(e){An.call(this,e)}i(Ka,An),Ka.prototype._modules=[aM,pM,wp,Bi,xp],Ka.prototype._moddleExtensions={};var gM=["c","C"],vM=["v","V"],yM=["y","Y"],BE=["z","Z"];function Fi(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function vr(e,n){return(e=w(e)?e:[e]).indexOf(n.key)!==-1||e.indexOf(n.code)!==-1}function Vv(e){return e.shiftKey}var Rp="keyboard.keydown",FE="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function jr(e,n){var o=this;this._config=e=e||{},this._eventBus=n,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),n.on("diagram.destroy",(function(){o._fire("destroy"),o.unbind()})),e.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(FE));var a=e&&e.bind!==!1;n.on("canvas.init",(function(l){o._target=l.svg,a&&o.bind(),o._fire("init")}))}jr.$inject=["config.keyboard","eventBus"],jr.prototype._keydownHandler=function(e){this._keyHandler(e,Rp)},jr.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},jr.prototype._keyHandler=function(e,n){if(!this._isEventIgnored(e)){var o={keyEvent:e};this._eventBus.fire(n||Rp,o)&&e.preventDefault()}},jr.prototype._isEventIgnored=function(e){return!1},jr.prototype.bind=function(e){e&&console.error("unsupported argument <node>",new Error(FE)),this.unbind(),e=this._node=this._target,Ie.bind(e,"keydown",this._keydownHandler),Ie.bind(e,"keyup",this._keyupHandler),this._fire("bind")},jr.prototype.getBinding=function(){return this._node},jr.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),Ie.unbind(e,"keydown",this._keydownHandler),Ie.unbind(e,"keyup",this._keyupHandler)),this._node=null},jr.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},jr.prototype.addListener=function(e,n,o){D(e)&&(o=n,n=e,e=1e3),this._eventBus.on(o||Rp,e,n)},jr.prototype.removeListener=function(e,n){this._eventBus.off(n||Rp,e)},jr.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},jr.prototype.isCmd=Fi,jr.prototype.isShift=Vv,jr.prototype.isKey=vr;function ec(e,n){var o=this;e.on("editorActions.init",500,(function(a){var l=a.editorActions;o.registerBindings(n,l)}))}ec.$inject=["eventBus","keyboard"],ec.prototype.registerBindings=function(e,n){function o(a,l){n.isRegistered(a)&&e.addListener(l)}o("undo",(function(a){if((function(l){return Fi(l)&&!Vv(l)&&vr(BE,l)})(a.keyEvent))return n.trigger("undo"),!0})),o("redo",(function(a){if((function(l){return Fi(l)&&(vr(yM,l)||vr(BE,l)&&Vv(l))})(a.keyEvent))return n.trigger("redo"),!0})),o("copy",(function(a){if((function(l){return Fi(l)&&vr(gM,l)})(a.keyEvent))return n.trigger("copy"),!0})),o("paste",(function(a){if((function(l){return Fi(l)&&vr(vM,l)})(a.keyEvent))return n.trigger("paste"),!0})),o("stepZoom",(function(a){var l=a.keyEvent;if(vr(["+","Add","="],l)&&Fi(l))return n.trigger("stepZoom",{value:1}),!0})),o("stepZoom",(function(a){var l=a.keyEvent;if(vr(["-","Subtract"],l)&&Fi(l))return n.trigger("stepZoom",{value:-1}),!0})),o("zoom",(function(a){var l=a.keyEvent;if(vr("0",l)&&Fi(l))return n.trigger("zoom",{value:1}),!0})),o("removeSelection",(function(a){if(vr(["Backspace","Delete","Del"],a.keyEvent))return n.trigger("removeSelection"),!0}))};var Hv={__init__:["keyboard","keyboardBindings"],keyboard:["type",jr],keyboardBindings:["type",ec]},bM={moveSpeed:50,moveSpeedAccelerated:200};function jE(e,n,o){var a=this;this._config=ie({},bM,e||{}),n.addListener((function(l){var u=l.keyEvent,h=a._config;if(n.isCmd(u)&&n.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],u)){var p,m=n.isShift(u)?h.moveSpeedAccelerated:h.moveSpeed;switch(u.key){case"ArrowLeft":case"Left":p="left";break;case"ArrowUp":case"Up":p="up";break;case"ArrowRight":case"Right":p="right";break;case"ArrowDown":case"Down":p="down"}return a.moveCanvas({speed:m,direction:p}),!0}})),this.moveCanvas=function(l){var u=0,h=0,p=l.speed/Math.min(Math.sqrt(o.viewbox().scale),1);switch(l.direction){case"left":u=p;break;case"up":h=p;break;case"right":u=-p;break;case"down":h=-p}o.scroll({dx:u,dy:h})}}jE.$inject=["config.keyboardMove","keyboard","canvas"];var VE={__depends__:[Hv],__init__:["keyboardMove"],keyboardMove:["type",jE]},xM=/^djs-cursor-.*$/;function Pp(e){var n=Ce(document.body);n.removeMatching(xM),e&&n.add("djs-cursor-"+e)}function HE(){Pp(null)}function UE(e,n){function o(){return!1}return n=n||"element.click",e.once(n,5e3,o),function(){e.off(n,o)}}function Du(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function io(e,n){return{x:e.x-n.x,y:e.y-n.y}}function zE(e,n){var o;function a(p){return h(p.originalEvent)}function l(p){var m,v=o.start,x=o.button,_=Xs(p),S=io(_,v);!o.dragging&&(m=S,Math.sqrt(Math.pow(m.x,2)+Math.pow(m.y,2))>15)&&(o.dragging=!0,x===0&&UE(e),Pp("grab")),o.dragging&&(S=io(_,o.last||o.start),n.scroll({dx:S.x,dy:S.y}),o.last=_),p.preventDefault()}function u(p){Ie.unbind(document,"mousemove",l),Ie.unbind(document,"mouseup",u),o=null,HE()}function h(p){if(!Xe(p.target,".djs-draggable")){var m=p.button;if(!(m>=2||p.ctrlKey||p.shiftKey||p.altKey))return o={button:m,start:Xs(p)},Ie.bind(document,"mousemove",l),Ie.bind(document,"mouseup",u),!0}}e.on("canvas.focus.changed",(function(p){p.focused?e.on("element.mousedown",500,a):e.off("element.mousedown",a)})),this.isActive=function(){return!!o}}zE.$inject=["eventBus","canvas"];var GE={__init__:["moveCanvas"],moveCanvas:["type",zE]};function Uv(e){return Math.log(e)/Math.log(10)}function WE(e,n){var o=Uv(e.min),a=Uv(e.max);return(Math.abs(o)+Math.abs(a))/n}var _M=Math.sign||function(e){return e>=0?1:-1},zv={min:.2,max:4};function Co(e,n,o){e=e||{},this._enabled=!1,this._canvas=o,this._container=o._container,this._handleWheel=Ye(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var a=this;n.on("canvas.focus.changed",(function(l){a._init(l.focused&&e.enabled!==!1)}))}Co.$inject=["config.zoomScroll","eventBus","canvas"],Co.prototype.scroll=function(e){this._canvas.scroll(e)},Co.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Co.prototype.zoom=function(e,n){var o=WE(zv,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,n,o),this._totalDelta=0)},Co.prototype._handleWheel=function(e){if(this._canvas.isFocused()){var n=this._container;e.preventDefault();var o,a=e.ctrlKey||NE()&&e.metaKey,l=e.shiftKey,u=-1*this._scale;if(u*=a?e.deltaMode===0?.02:.32:e.deltaMode===0?1:16,a){var h=n.getBoundingClientRect(),p={x:e.clientX-h.left,y:e.clientY-h.top};o=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*_M(e.deltaY)*u,this.zoom(o,p)}else o=l?{dx:u*e.deltaY,dy:0}:{dx:u*e.deltaX,dy:u*e.deltaY},this.scroll(o)}},Co.prototype.stepZoom=function(e,n){var o=WE(zv,10);this._zoom(e,n,o)},Co.prototype._zoom=function(e,n,o){var a=this._canvas,l=e>0?1:-1,u=Uv(a.zoom()),h=Math.round(u/o)*o;h+=o*l;var p,m,v=Math.pow(10,h);a.zoom((p=zv,m=v,Math.max(p.min,Math.min(p.max,m))),n)},Co.prototype.toggle=function(e){var n=this._container,o=this._handleWheel,a=this._enabled;return e===void 0&&(e=!a),a!==e&&Ie[e?"bind":"unbind"](n,"wheel",o,!1),this._enabled=e,e},Co.prototype._init=function(e){this.toggle(e)};var KE={__init__:["zoomScroll"],zoomScroll:["type",Co]};function Iu(e){Ka.call(this,e)}function Gv(e){return e&&e[e.length-1]}function XE(e){return e.y}function YE(e){return e.x}i(Iu,Ka),Iu.prototype._navigationModules=[VE,GE,KE],Iu.prototype._modules=[].concat(Ka.prototype._modules,Iu.prototype._navigationModules);var EM={left:YE,center:YE,right:function(e){return e.x+e.width},top:XE,middle:XE,bottom:function(e){return e.y+e.height}};function tc(e,n){this._modeling=e,this._rules=n}tc.$inject=["modeling","rules"],tc.prototype._getOrientationDetails=function(e){var n="x",o="width";return["top","bottom","middle"].indexOf(e)!==-1&&(n="y",o="height"),{axis:n,dimension:o}},tc.prototype._isType=function(e,n){return n.indexOf(e)!==-1},tc.prototype._alignmentPosition=function(e,n){var o,a,l,u=this._getOrientationDetails(e),h=u.axis,p=u.dimension,m={},v={},x=!1;if(this._isType(e,["left","top"]))m[e]=n[0][h];else if(this._isType(e,["right","bottom"]))l=Gv(n),m[e]=l[h]+l[p];else if(this._isType(e,["center","middle"])){if(A(n,(function(_){var S=_[h]+Math.round(_[p]/2);v[S]?v[S].elements.push(_):v[S]={elements:[_],center:S}})),o=ue(v,(function(_){return _.elements.length>1&&(x=!0),_.elements.length})),x)return m[e]=Gv(o).center,m;a=n[0],l=Gv(n=ue(n,(function(_){return _[h]+_[p]}))),m[e]=(function(_,S){return Math.round((_[h]+S[h]+S[p])/2)})(a,l)}return m},tc.prototype.trigger=function(e,n){var o,a=this._modeling,l=M(e,(function(p){return!(p.waypoints||p.host||p.labelTarget)}));if(w(o=this._rules.allowed("elements.align",{elements:l}))&&(l=o),!(l.length<2)&&o){var u=ue(l,EM[n]),h=this._alignmentPosition(n,u);a.alignElements(u,h)}};var wM={__init__:["alignElements"],alignElements:["type",tc]};const SM=new Nu;function nc(e){this._scheduled={},e.on("diagram.destroy",(()=>{Object.keys(this._scheduled).forEach((n=>{this.cancel(n)}))}))}nc.$inject=["eventBus"],nc.prototype.schedule=function(e,n=SM.next()){this.cancel(n);const o=this._schedule(e,n);return this._scheduled[n]=o,o.promise},nc.prototype._schedule=function(e,n){const o=(function(){const l={};return l.promise=new Promise(((u,h)=>{l.resolve=u,l.reject=h})),l})();return{executionId:setTimeout((()=>{try{this._scheduled[n]=null;try{o.resolve(e())}catch(l){o.reject(l)}}catch(l){console.error("Scheduler#_schedule execution failed",l)}})),promise:o.promise}},nc.prototype.cancel=function(e){const n=this._scheduled[e];n&&(this._cancel(n),this._scheduled[e]=null)},nc.prototype._cancel=function(e){clearTimeout(e.executionId)};var CM={scheduler:["type",nc]},Np=".entry";function Yn(e,n,o,a){this._canvas=e,this._elementRegistry=n,this._eventBus=o,this._scheduler=a,this._current=null,this._init()}Yn.$inject=["canvas","elementRegistry","eventBus","scheduler"],Yn.prototype._init=function(){var e=this;this._eventBus.on("selection.changed",(function(n){var o=n.newSelection,a=o.length?o.length===1?o[0]:o:null;a?e.open(a,!0):e.close()})),this._eventBus.on("elements.changed",(function(n){var o=n.elements,a=e._current;if(a){var l=a.target,u=w(l)?l:[l];if(u.filter((function(p){return o.includes(p)})).length){e.close();var h=u.filter((function(p){return e._elementRegistry.get(p.id)}));h.length&&e._updateAndOpen(h.length>1?h:h[0])}}})),this._eventBus.on("canvas.viewbox.changed",(function(){e._updatePosition()})),this._eventBus.on("element.marker.update",(function(n){if(e.isOpen()){var o=n.element,a=e._current;(w(a.target)?a.target:[a.target]).includes(o)&&e._updateVisibility()}})),this._container=this._createContainer()},Yn.prototype._createContainer=function(){var e=Re('<div class="djs-context-pad-parent"></div>');return this._canvas.getContainer().appendChild(e),e},Yn.prototype.registerProvider=function(e,n){n||(n=e,e=1e3),this._eventBus.on("contextPad.getProviders",e,(function(o){o.providers.push(n)}))},Yn.prototype.getEntries=function(e){var n=this._getProviders(),o=w(e)?"getMultiElementContextPadEntries":"getContextPadEntries",a={};return A(n,(function(l){if(D(l[o])){var u=l[o](e);D(u)?a=u(a):A(u,(function(h,p){a[p]=h}))}})),a},Yn.prototype.trigger=function(e,n,o){var a,l,u=this,h=n.delegateTarget||n.target;return h?(a=q(h,"data-action"),l=n.originalEvent||n,e!=="mouseover"?e==="mouseout"?(clearTimeout(this._timeout),void(this._mouseout&&(this._mouseout(),this._mouseout=null))):this.triggerEntry(a,e,l,o):void(this._timeout=setTimeout((function(){u._mouseout=u.triggerEntry(a,"hover",l,o)}),300))):n.preventDefault()},Yn.prototype.triggerEntry=function(e,n,o,a){if(this.isShown()){var l=this._current.target,u=this._current.entries[e];if(u){var h=u.action;if(this._eventBus.fire("contextPad.trigger",{entry:u,event:o})!==!1){if(D(h)){if(n==="click")return h(o,l,a)}else if(h[n])return h[n](o,l,a);o.preventDefault()}}}},Yn.prototype.open=function(e,n){!n&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},Yn.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},Yn.prototype._updateAndOpen=function(e){var n,o=this.getEntries(e),a=this._createHtml(e);A(o,(function(l,u){var h,p=l.group||"default",m=Re(l.html||'<div class="entry" draggable="true"></div>');q(m,"data-action",u),(h=Ke("[data-group="+Ou(p)+"]",a))||(q(h=Re('<div class="group"></div>'),"data-group",p),a.appendChild(h)),h.appendChild(m),l.className&&(function(v,x){var _=Ce(v);(x=w(x)?x:x.split(/\s+/g)).forEach((function(S){_.add(S)}))})(m,l.className),l.title&&q(m,"title",l.title),l.imageUrl&&(q(n=Re("<img>"),"src",l.imageUrl),n.style.width="100%",n.style.height="100%",m.appendChild(n))})),Ce(a).add("open"),this._current={entries:o,html:a,target:e},this._updatePosition(),this._updateVisibility(),this._eventBus.fire("contextPad.open",{current:this._current})},Yn.prototype._createHtml=function(e){var n=this,o=Re('<div class="djs-context-pad"></div>');return Nt.bind(o,Np,"click",(function(a){n.trigger("click",a)})),Nt.bind(o,Np,"dragstart",(function(a){n.trigger("dragstart",a)})),Nt.bind(o,Np,"mouseover",(function(a){n.trigger("mouseover",a)})),Nt.bind(o,Np,"mouseout",(function(a){n.trigger("mouseout",a)})),Ie.bind(o,"mousedown",(function(a){a.stopPropagation()})),this._container.appendChild(o),this._eventBus.fire("contextPad.create",{target:e,pad:o}),o},Yn.prototype.getPad=function(e){let n;return console.warn(new Error("ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888")),n=this.isOpen()&&(function(o,a){return o=w(o)?o:[o],a=w(a)?a:[a],o.length===a.length&&te(o,(function(l){return a.includes(l)}))})(this._current.target,e)?this._current.html:this._createHtml(e),{html:n}},Yn.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._container.innerHTML="",this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Yn.prototype.isOpen=function(e){var n=this._current;if(!n)return!1;if(!e)return!0;var o=n.target;return w(e)===w(o)&&(w(e)?e.length===o.length&&te(e,(function(a){return o.includes(a)})):o===e)},Yn.prototype.isShown=function(){return this.isOpen()&&Ce(this._current.html).has("open")},Yn.prototype.show=function(){this.isOpen()&&(Ce(this._current.html).add("open"),this._updatePosition(),this._eventBus.fire("contextPad.show",{current:this._current}))},Yn.prototype.hide=function(){this.isOpen()&&(Ce(this._current.html).remove("open"),this._eventBus.fire("contextPad.hide",{current:this._current}))},Yn.prototype._getPosition=function(e){if(!w(e)&&mn(e)){var n=this._canvas.viewbox(),o=(u=e).waypoints[u.waypoints.length-1],a=o.x*n.scale-n.x*n.scale,l=o.y*n.scale-n.y*n.scale;return{left:a+8*this._canvas.zoom(),top:l}}var u,h=this._canvas.getContainer().getBoundingClientRect(),p=this._getTargetBounds(e);return{left:p.right-h.left+8*this._canvas.zoom(),top:p.top-h.top}},Yn.prototype._updatePosition=function(){this._scheduler.schedule((()=>{if(this.isOpen()){var e=this._current.html,n=this._getPosition(this._current.target);"x"in n&&"y"in n?(e.style.left=n.x+"px",e.style.top=n.y+"px"):["top","right","bottom","left"].forEach((function(o){o in n&&(e.style[o]=n[o]+"px")}))}}),"ContextPad#_updatePosition")},Yn.prototype._updateVisibility=function(){this._scheduler.schedule((()=>{if(this.isOpen()){var e=this,n=this._current.target;(w(n)?n:[n]).some((function(o){return e._canvas.hasMarker(o,"djs-element-hidden")}))?e.hide():e.show()}}),"ContextPad#_updateVisibility")},Yn.prototype._getTargetBounds=function(e){var n=this;return(w(e)?e:[e]).map((function(o){return n._canvas.getGraphics(o)})).reduce((function(o,a){const l=a.getBoundingClientRect();return o.top=Math.min(o.top,l.top),o.right=Math.max(o.right,l.right),o.bottom=Math.max(o.bottom,l.bottom),o.left=Math.min(o.left,l.left),o.x=o.left,o.y=o.top,o.width=o.right-o.left,o.height=o.bottom-o.top,o}),{top:1/0,right:-1/0,bottom:-1/0,left:1/0})};var Op,Rn,ZE,Ys,JE,QE,Wv,qE={__depends__:[Ap,CM,wp],contextPad:["type",Yn]},Lu={},ew=[],TM=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Kv=Array.isArray;function Xa(e,n){for(var o in n)e[o]=n[o];return e}function tw(e){var n=e.parentNode;n&&n.removeChild(e)}function nw(e,n,o){var a,l,u,h={};for(u in n)u=="key"?a=n[u]:u=="ref"?l=n[u]:h[u]=n[u];if(arguments.length>2&&(h.children=arguments.length>3?Op.call(arguments,2):o),typeof e=="function"&&e.defaultProps!=null)for(u in e.defaultProps)h[u]===void 0&&(h[u]=e.defaultProps[u]);return Mp(e,h,a,l,null)}function Mp(e,n,o,a,l){var u={type:e,props:n,key:o,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:l??++ZE,__i:-1,__u:0};return l==null&&Rn.vnode!=null&&Rn.vnode(u),u}function Dp(e){return e.children}function Ip(e,n){this.props=e,this.context=n}function rc(e,n){if(n==null)return e.__?rc(e.__,e.__i+1):null;for(var o;n<e.__k.length;n++)if((o=e.__k[n])!=null&&o.__e!=null)return o.__e;return typeof e.type=="function"?rc(e):null}function rw(e){var n,o;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((o=e.__k[n])!=null&&o.__e!=null){e.__e=e.__c.base=o.__e;break}return rw(e)}}function iw(e){(!e.__d&&(e.__d=!0)&&Ys.push(e)&&!Lp.__r++||JE!==Rn.debounceRendering)&&((JE=Rn.debounceRendering)||QE)(Lp)}function Lp(){var e,n,o,a,l,u,h,p,m;for(Ys.sort(Wv);e=Ys.shift();)e.__d&&(n=Ys.length,a=void 0,u=(l=(o=e).__v).__e,p=[],m=[],(h=o.__P)&&((a=Xa({},l)).__v=l.__v+1,Rn.vnode&&Rn.vnode(a),Xv(h,a,l,o.__n,h.ownerSVGElement!==void 0,32&l.__u?[u]:null,p,u??rc(l),!!(32&l.__u),m),a.__v=l.__v,a.__.__k[a.__i]=a,uw(p,a,m),a.__e!=u&&rw(a)),Ys.length>n&&Ys.sort(Wv));Lp.__r=0}function ow(e,n,o,a,l,u,h,p,m,v,x){var _,S,k,R,O,F=a&&a.__k||ew,I=n.length;for(o.__d=m,kM(o,n,F),m=o.__d,_=0;_<I;_++)(k=o.__k[_])!=null&&typeof k!="boolean"&&typeof k!="function"&&(S=k.__i===-1?Lu:F[k.__i]||Lu,k.__i=_,Xv(e,k,S,l,u,h,p,m,v,x),R=k.__e,k.ref&&S.ref!=k.ref&&(S.ref&&Yv(S.ref,null,k),x.push(k.ref,k.__c||R,k)),O==null&&R!=null&&(O=R),65536&k.__u||S.__k===k.__k?m=aw(k,m,e):typeof k.type=="function"&&k.__d!==void 0?m=k.__d:R&&(m=R.nextSibling),k.__d=void 0,k.__u&=-196609);o.__d=m,o.__e=O}function kM(e,n,o){var a,l,u,h,p,m=n.length,v=o.length,x=v,_=0;for(e.__k=[],a=0;a<m;a++)h=a+_,(l=e.__k[a]=(l=n[a])==null||typeof l=="boolean"||typeof l=="function"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?Mp(null,l,null,null,null):Kv(l)?Mp(Dp,{children:l},null,null,null):l.constructor===void 0&&l.__b>0?Mp(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l)!=null?(l.__=e,l.__b=e.__b+1,p=AM(l,o,h,x),l.__i=p,u=null,p!==-1&&(x--,(u=o[p])&&(u.__u|=131072)),u==null||u.__v===null?(p==-1&&_--,typeof l.type!="function"&&(l.__u|=65536)):p!==h&&(p===h+1?_++:p>h?x>m-h?_+=p-h:_--:p<h?p==h-1&&(_=p-h):_=0,p!==a+_&&(l.__u|=65536))):(u=o[h])&&u.key==null&&u.__e&&!(131072&u.__u)&&(u.__e==e.__d&&(e.__d=rc(u)),Zv(u,u,!1),o[h]=null,x--);if(x)for(a=0;a<v;a++)(u=o[a])!=null&&!(131072&u.__u)&&(u.__e==e.__d&&(e.__d=rc(u)),Zv(u,u))}function aw(e,n,o){var a,l;if(typeof e.type=="function"){for(a=e.__k,l=0;a&&l<a.length;l++)a[l]&&(a[l].__=e,n=aw(a[l],n,o));return n}e.__e!=n&&(o.insertBefore(e.__e,n||null),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType===8);return n}function AM(e,n,o,a){var l=e.key,u=e.type,h=o-1,p=o+1,m=n[o];if(m===null||m&&l==m.key&&u===m.type&&!(131072&m.__u))return o;if(a>(m==null||131072&m.__u?0:1))for(;h>=0||p<n.length;){if(h>=0){if((m=n[h])&&!(131072&m.__u)&&l==m.key&&u===m.type)return h;h--}if(p<n.length){if((m=n[p])&&!(131072&m.__u)&&l==m.key&&u===m.type)return p;p++}}return-1}function sw(e,n,o){n[0]==="-"?e.setProperty(n,o??""):e[n]=o==null?"":typeof o!="number"||TM.test(n)?o:o+"px"}function $p(e,n,o,a,l){var u;e:if(n==="style")if(typeof o=="string")e.style.cssText=o;else{if(typeof a=="string"&&(e.style.cssText=a=""),a)for(n in a)o&&n in o||sw(e.style,n,"");if(o)for(n in o)a&&o[n]===a[n]||sw(e.style,n,o[n])}else if(n[0]==="o"&&n[1]==="n")u=n!==(n=n.replace(/(PointerCapture)$|Capture$/i,"$1")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+u]=o,o?a?o.u=a.u:(o.u=Date.now(),e.addEventListener(n,u?cw:lw,u)):e.removeEventListener(n,u?cw:lw,u);else{if(l)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="width"&&n!=="height"&&n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n!=="rowSpan"&&n!=="colSpan"&&n!=="role"&&n in e)try{e[n]=o??"";break e}catch{}typeof o=="function"||(o==null||o===!1&&n[4]!=="-"?e.removeAttribute(n):e.setAttribute(n,o))}}function lw(e){if(this.l){var n=this.l[e.type+!1];if(e.t){if(e.t<=n.u)return}else e.t=Date.now();return n(Rn.event?Rn.event(e):e)}}function cw(e){if(this.l)return this.l[e.type+!0](Rn.event?Rn.event(e):e)}function Xv(e,n,o,a,l,u,h,p,m,v){var x,_,S,k,R,O,F,I,P,U,K,Y,se,Ee,_e,ye=n.type;if(n.constructor!==void 0)return null;128&o.__u&&(m=!!(32&o.__u),u=[p=n.__e=o.__e]),(x=Rn.__b)&&x(n);e:if(typeof ye=="function")try{if(I=n.props,P=(x=ye.contextType)&&a[x.__c],U=x?P?P.props.value:x.__:a,o.__c?F=(_=n.__c=o.__c).__=_.__E:("prototype"in ye&&ye.prototype.render?n.__c=_=new ye(I,U):(n.__c=_=new Ip(I,U),_.constructor=ye,_.render=PM),P&&P.sub(_),_.props=I,_.state||(_.state={}),_.context=U,_.__n=a,S=_.__d=!0,_.__h=[],_._sb=[]),_.__s==null&&(_.__s=_.state),ye.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=Xa({},_.__s)),Xa(_.__s,ye.getDerivedStateFromProps(I,_.__s))),k=_.props,R=_.state,_.__v=n,S)ye.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(ye.getDerivedStateFromProps==null&&I!==k&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(I,U),!_.__e&&(_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(I,_.__s,U)===!1||n.__v===o.__v)){for(n.__v!==o.__v&&(_.props=I,_.state=_.__s,_.__d=!1),n.__e=o.__e,n.__k=o.__k,n.__k.forEach((function(st){st&&(st.__=n)})),K=0;K<_._sb.length;K++)_.__h.push(_._sb[K]);_._sb=[],_.__h.length&&h.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(I,_.__s,U),_.componentDidUpdate!=null&&_.__h.push((function(){_.componentDidUpdate(k,R,O)}))}if(_.context=U,_.props=I,_.__P=e,_.__e=!1,Y=Rn.__r,se=0,"prototype"in ye&&ye.prototype.render){for(_.state=_.__s,_.__d=!1,Y&&Y(n),x=_.render(_.props,_.state,_.context),Ee=0;Ee<_._sb.length;Ee++)_.__h.push(_._sb[Ee]);_._sb=[]}else do _.__d=!1,Y&&Y(n),x=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++se<25);_.state=_.__s,_.getChildContext!=null&&(a=Xa(Xa({},a),_.getChildContext())),S||_.getSnapshotBeforeUpdate==null||(O=_.getSnapshotBeforeUpdate(k,R)),ow(e,Kv(_e=x!=null&&x.type===Dp&&x.key==null?x.props.children:x)?_e:[_e],n,o,a,l,u,h,p,m,v),_.base=n.__e,n.__u&=-161,_.__h.length&&h.push(_),F&&(_.__E=_.__=null)}catch(st){n.__v=null,m||u!=null?(n.__e=p,n.__u|=m?160:32,u[u.indexOf(p)]=null):(n.__e=o.__e,n.__k=o.__k),Rn.__e(st,n,o)}else u==null&&n.__v===o.__v?(n.__k=o.__k,n.__e=o.__e):n.__e=RM(o.__e,n,o,a,l,u,h,m,v);(x=Rn.diffed)&&x(n)}function uw(e,n,o){n.__d=void 0;for(var a=0;a<o.length;a++)Yv(o[a],o[++a],o[++a]);Rn.__c&&Rn.__c(n,e),e.some((function(l){try{e=l.__h,l.__h=[],e.some((function(u){u.call(l)}))}catch(u){Rn.__e(u,l.__v)}}))}function RM(e,n,o,a,l,u,h,p,m){var v,x,_,S,k,R,O,F=o.props,I=n.props,P=n.type;if(P==="svg"&&(l=!0),u!=null){for(v=0;v<u.length;v++)if((k=u[v])&&"setAttribute"in k==!!P&&(P?k.localName===P:k.nodeType===3)){e=k,u[v]=null;break}}if(e==null){if(P===null)return document.createTextNode(I);e=l?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,I.is&&I),u=null,p=!1}if(P===null)F===I||p&&e.data===I||(e.data=I);else{if(u=u&&Op.call(e.childNodes),F=o.props||Lu,!p&&u!=null)for(F={},v=0;v<e.attributes.length;v++)F[(k=e.attributes[v]).name]=k.value;for(v in F)k=F[v],v=="children"||(v=="dangerouslySetInnerHTML"?_=k:v==="key"||v in I||$p(e,v,null,k,l));for(v in I)k=I[v],v=="children"?S=k:v=="dangerouslySetInnerHTML"?x=k:v=="value"?R=k:v=="checked"?O=k:v==="key"||p&&typeof k!="function"||F[v]===k||$p(e,v,k,F[v],l);if(x)p||_&&(x.__html===_.__html||x.__html===e.innerHTML)||(e.innerHTML=x.__html),n.__k=[];else if(_&&(e.innerHTML=""),ow(e,Kv(S)?S:[S],n,o,a,l&&P!=="foreignObject",u,h,u?u[0]:o.__k&&rc(o,0),p,m),u!=null)for(v=u.length;v--;)u[v]!=null&&tw(u[v]);p||(v="value",R!==void 0&&(R!==e[v]||P==="progress"&&!R||P==="option"&&R!==F[v])&&$p(e,v,R,F[v],!1),v="checked",O!==void 0&&O!==e[v]&&$p(e,v,O,F[v],!1))}return e}function Yv(e,n,o){try{typeof e=="function"?e(n):e.current=n}catch(a){Rn.__e(a,o)}}function Zv(e,n,o){var a,l;if(Rn.unmount&&Rn.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||Yv(a,null,n)),(a=e.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(u){Rn.__e(u,n)}a.base=a.__P=null,e.__c=void 0}if(a=e.__k)for(l=0;l<a.length;l++)a[l]&&Zv(a[l],n,o||typeof e.type!="function");o||e.__e==null||tw(e.__e),e.__=e.__e=e.__d=void 0}function PM(e,n,o){return this.constructor(e,o)}function fw(e,n,o){var a,l,u;Rn.__&&Rn.__(e,n),a=n.__k,l=[],u=[],Xv(n,e=n.__k=nw(Dp,null,[e]),a||Lu,Lu,n.ownerSVGElement!==void 0,a?null:n.firstChild?Op.call(n.childNodes):null,l,a?a.__e:n.firstChild,!1,u),uw(l,e,u)}Op=ew.slice,Rn={__e:function(e,n,o,a){for(var l,u,h;n=n.__;)if((l=n.__c)&&!l.__)try{if((u=l.constructor)&&u.getDerivedStateFromError!=null&&(l.setState(u.getDerivedStateFromError(e)),h=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,a||{}),h=l.__d),h)return l.__E=l}catch(p){e=p}throw e}},ZE=0,Ip.prototype.setState=function(e,n){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xa({},this.state),typeof e=="function"&&(e=e(Xa({},o),this.props)),e&&Xa(o,e),e!=null&&this.__v&&(n&&this._sb.push(n),iw(this))},Ip.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),iw(this))},Ip.prototype.render=Dp,Ys=[],QE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wv=function(e,n){return e.__v.__b-n.__v.__b},Lp.__r=0;var dw=function(e,n,o,a){var l;n[0]=0;for(var u=1;u<n.length;u++){var h=n[u++],p=n[u]?(n[0]|=h?1:2,o[n[u++]]):n[++u];h===3?a[0]=p:h===4?a[1]=Object.assign(a[1]||{},p):h===5?(a[1]=a[1]||{})[n[++u]]=p:h===6?a[1][n[++u]]+=p+"":h?(l=e.apply(p,dw(e,p,o,["",null])),a.push(l),p[0]?n[0]|=2:(n[u-2]=0,n[u]=l)):a.push(p)}return a},pw=new Map,ic,Zn,Jv,hw,Un=(function(e){var n=pw.get(this);return n||(n=new Map,pw.set(this,n)),(n=dw(this,n.get(e)||(n.set(e,n=(function(o){for(var a,l,u=1,h="",p="",m=[0],v=function(S){u===1&&(S||(h=h.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?m.push(0,S,h):u===3&&(S||h)?(m.push(3,S,h),u=2):u===2&&h==="..."&&S?m.push(4,S,0):u===2&&h&&!S?m.push(5,0,!0,h):u>=5&&((h||!S&&u===5)&&(m.push(u,0,h,l),u=6),S&&(m.push(u,S,0,l),u=6)),h=""},x=0;x<o.length;x++){x&&(u===1&&v(),v(x));for(var _=0;_<o[x].length;_++)a=o[x][_],u===1?a==="<"?(v(),m=[m],u=3):h+=a:u===4?h==="--"&&a===">"?(u=1,h=""):h=a+h[0]:p?a===p?p="":h+=a:a==='"'||a==="'"?p=a:a===">"?(v(),u=1):u&&(a==="="?(u=5,l=h,h=""):a==="/"&&(u<5||o[x][_+1]===">")?(v(),u===3&&(m=m[0]),u=m,(m=m[0]).push(2,0,u),u=0):a===" "||a==="	"||a===`
`||a==="\r"?(v(),u=2):h+=a),u===3&&h==="!--"&&(u=4,m=m[0])}return v(),m})(e)),n),arguments,[])).length>1?n:n[0]}).bind(nw),$u=0,mw=[],Bp=[],ar=Rn,gw=ar.__b,vw=ar.__r,yw=ar.diffed,bw=ar.__c,xw=ar.unmount,_w=ar.__;function Fp(e,n){ar.__h&&ar.__h(Zn,e,$u||n),$u=0;var o=Zn.__H||(Zn.__H={__:[],__h:[]});return e>=o.__.length&&o.__.push({__V:Bp}),o.__[e]}function Qv(e){return $u=1,(function(n,o){var a=Fp(ic++,2);if(a.t=n,!a.__c&&(a.__=[Sw(void 0,o),function(p){var m=a.__N?a.__N[0]:a.__[0],v=a.t(m,p);m!==v&&(a.__N=[v,a.__[1]],a.__c.setState({}))}],a.__c=Zn,!Zn.u)){var l=function(p,m,v){if(!a.__c.__H)return!0;var x=a.__c.__H.__.filter((function(S){return!!S.__c}));if(x.every((function(S){return!S.__N})))return!u||u.call(this,p,m,v);var _=!1;return x.forEach((function(S){if(S.__N){var k=S.__[0];S.__=S.__N,S.__N=void 0,k!==S.__[0]&&(_=!0)}})),!(!_&&a.__c.props===p)&&(!u||u.call(this,p,m,v))};Zn.u=!0;var u=Zn.shouldComponentUpdate,h=Zn.componentWillUpdate;Zn.componentWillUpdate=function(p,m,v){if(this.__e){var x=u;u=void 0,l(p,m,v),u=x}h&&h.call(this,p,m,v)},Zn.shouldComponentUpdate=l}return a.__N||a.__})(Sw,e)}function qv(e,n){var o=Fp(ic++,3);!ar.__s&&ny(o.__H,n)&&(o.__=e,o.i=n,Zn.__H.__h.push(o))}function ey(e,n){var o=Fp(ic++,4);!ar.__s&&ny(o.__H,n)&&(o.__=e,o.i=n,Zn.__h.push(o))}function Ew(e){return $u=5,oc((function(){return{current:e}}),[])}function oc(e,n){var o=Fp(ic++,7);return ny(o.__H,n)?(o.__V=e(),o.i=n,o.__h=e,o.__V):o.__}function Bu(e,n){return $u=8,oc((function(){return e}),n)}function NM(){for(var e;e=mw.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(jp),e.__H.__h.forEach(ty),e.__H.__h=[]}catch(n){e.__H.__h=[],ar.__e(n,e.__v)}}ar.__b=function(e){Zn=null,gw&&gw(e)},ar.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),_w&&_w(e,n)},ar.__r=function(e){vw&&vw(e),ic=0;var n=(Zn=e.__c).__H;n&&(Jv===Zn?(n.__h=[],Zn.__h=[],n.__.forEach((function(o){o.__N&&(o.__=o.__N),o.__V=Bp,o.__N=o.i=void 0}))):(n.__h.forEach(jp),n.__h.forEach(ty),n.__h=[],ic=0)),Jv=Zn},ar.diffed=function(e){yw&&yw(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(mw.push(n)!==1&&hw===ar.requestAnimationFrame||((hw=ar.requestAnimationFrame)||OM)(NM)),n.__H.__.forEach((function(o){o.i&&(o.__H=o.i),o.__V!==Bp&&(o.__=o.__V),o.i=void 0,o.__V=Bp}))),Jv=Zn=null},ar.__c=function(e,n){n.some((function(o){try{o.__h.forEach(jp),o.__h=o.__h.filter((function(a){return!a.__||ty(a)}))}catch(a){n.some((function(l){l.__h&&(l.__h=[])})),n=[],ar.__e(a,o.__v)}})),bw&&bw(e,n)},ar.unmount=function(e){xw&&xw(e);var n,o=e.__c;o&&o.__H&&(o.__H.__.forEach((function(a){try{jp(a)}catch(l){n=l}})),o.__H=void 0,n&&ar.__e(n,o.__v))};var ww=typeof requestAnimationFrame=="function";function OM(e){var n,o=function(){clearTimeout(a),ww&&cancelAnimationFrame(n),setTimeout(e)},a=setTimeout(o,100);ww&&(n=requestAnimationFrame(o))}function jp(e){var n=Zn,o=e.__c;typeof o=="function"&&(e.__c=void 0,o()),Zn=n}function ty(e){var n=Zn;e.__c=e.__(),Zn=n}function ny(e,n){return!e||e.length!==n.length||n.some((function(o,a){return o!==e[a]}))}function Sw(e,n){return typeof n=="function"?n(e):n}function Cw(e){var n,o,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(n=0;n<l;n++)e[n]&&(o=Cw(e[n]))&&(a&&(a+=" "),a+=o)}else for(o in e)e[o]&&(a&&(a+=" "),a+=o);return a}function Vp(){for(var e,n,o=0,a="",l=arguments.length;o<l;o++)(e=arguments[o])&&(n=Cw(e))&&(a&&(a+=" "),a+=n);return a}function MM(e){const{headerEntries:n,onSelect:o,selectedEntry:a,setSelectedEntry:l,title:u}=e,h=oc((()=>n.reduce(((m,v)=>{const x=v.group||"default",_=m.find((S=>S.id===x));return _?_.entries.push(v):m.push({id:x,entries:[v]}),m}),[])),[n]),p=m=>m.action&&!m.disabled;return Un`
    <div class="djs-popup-header">
      <h3 class="djs-popup-title" title=${u}>${u}</h3>
      ${h.map((m=>Un`
        <ul key=${m.id} class="djs-popup-header-group" data-header-group=${m.id}>

          ${m.entries.map((v=>Un`
            <li key=${v.id}>
              <${p(v)?"button":"span"}
                class=${(function(x,_){return Vp("entry",x.className,x.active?"active":"",x.disabled?"disabled":"",_?"selected":"")})(v,v===a)}
                onClick=${x=>((_,S)=>{if(p(S))return o(_,S)})(x,v)}
                title=${v.title||v.label}
                data-id=${v.id}
                aria-disabled=${v.disabled||void 0}
                onMouseEnter=${()=>p(v)&&l(v)}
                onMouseLeave=${()=>p(v)&&l(null)}
                onFocus=${()=>p(v)&&l(v)}
                onBlur=${()=>p(v)&&l(null)}
              >
                ${v.imageUrl&&Un`<img class="djs-popup-entry-icon" src=${v.imageUrl} alt="" />`||v.imageHtml&&Un`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:v.imageHtml}} />`}
                ${v.label?Un`
                  <span class="djs-popup-label">${v.label}</span>
                `:null}
              </${v.action?"button":"span"}>
            </li>
          `))}
        </ul>
      `))}
    </div>
  `}function DM(e){const{entry:n,selected:o,onMouseEnter:a,onMouseLeave:l,onAction:u}=e,h=(p,m)=>{if(!n.disabled)return u(p,n,m)};return Un`
    <li
      class=${Vp("entry",{selected:o,disabled:n.disabled})}
      data-id=${n.id}
      title=${n.title||n.label}
      aria-disabled=${n.disabled||void 0}
      tabIndex="0"
      onClick=${h}
      onFocus=${a}
      onBlur=${l}
      onMouseEnter=${a}
      onMouseLeave=${l}
      onDragStart=${p=>h(p,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${Vp("djs-popup-entry-name",n.className)}
        >
          ${n.imageUrl&&Un`<img class="djs-popup-entry-icon" src=${n.imageUrl} alt="" />`||n.imageHtml&&Un`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:n.imageHtml}} />`}

          ${n.label?Un`
            <span class="djs-popup-label">
              ${n.label}
            </span>
          `:null}
        </span>
        ${n.description&&Un`
          <span
            class="djs-popup-entry-description"
            title=${n.description}
          >
            ${n.description}
          </span>
        `}
      </div>
      ${n.documentationRef&&Un`
        <div class="djs-popup-entry-docs">
          <a
            href="${n.documentationRef}"
            onClick=${p=>p.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function IM(e){const{selectedEntry:n,setSelectedEntry:o,groupedEntries:a,...l}=e,u=Ew();return ey((()=>{const h=u.current;if(!h)return;const p=h.querySelector(".selected");var m;p&&(typeof(m=p).scrollIntoViewIfNeeded=="function"?m.scrollIntoViewIfNeeded():m.scrollIntoView({scrollMode:"if-needed",block:"nearest"}))}),[n]),Un`
    <div class="djs-popup-results" ref=${u}>
      ${a.map((h=>Un`
        ${h.name&&Un`
          <div key=${h.id} class="entry-header" title=${h.name}>
            ${h.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${h.id}>
          ${h.entries.map((p=>Un`
            <${DM}
              key=${p.id}
              entry=${p}
              selected=${p===n}
              onMouseEnter=${()=>o(p)}
              onMouseLeave=${()=>o(null)}
              ...${l}
            />
          `))}
        </ul>
      `))}
    </div>
  `}function LM(e){const{onClose:n,onSelect:o,className:a,headerEntries:l,position:u,title:h,width:p,scale:m,search:v,emptyPlaceholder:x,searchFn:_,entries:S,onOpened:k,onClosed:R}=e,O=oc((()=>!!b(v)&&S.length>5),[v,S]),[F,I]=Qv(""),P=Bu(((Pe,Ve)=>{if(!O)return Pe;if(!Ve.trim())return Pe.filter((({rank:Mt=0})=>Mt>=0));const nt=Pe.filter((({searchable:Mt})=>Mt!==!1));return _(nt,Ve,{keys:["label","search","description"]}).map((({item:Mt})=>Mt))}),[O]),[U,K]=Qv(P(S,F)),[Y,se]=Qv(U[0]),Ee=oc((()=>(function(Pe){const Ve=[],nt=Dt=>Ve.find((Ft=>Dt.id===Ft.id)),Mt=Dt=>!!nt(Dt),Rt=Dt=>typeof Dt=="string"?{id:Dt}:Dt;return Pe.forEach((Dt=>{const Ft=Dt.group?Rt(Dt.group):{id:"default"};Mt(Ft)?nt(Ft).entries.push(Dt):Ve.push({...Ft,entries:[Dt]})})),Ve})(U)),[U]),_e=Bu((Pe=>{se(Pe[0]),K(Pe)}),[K,se]);qv((()=>{_e(P(S,F))}),[F,S]);const ye=Bu((Pe=>{const Ve=(function(Mt){const Rt=[];return Mt.forEach((Dt=>{Dt.entries.forEach((Ft=>{Rt.push(Ft)}))})),Rt})(Ee);let nt=Ve.indexOf(Y)+Pe;nt<0&&(nt=Ve.length-1),nt>=Ve.length&&(nt=0),se(Ve[nt])}),[Ee,Y,se]),st=Bu((Pe=>Pe.key==="Enter"&&Y?Y.disabled?void 0:o(Pe,Y):Pe.key==="ArrowUp"?(ye(-1),Pe.preventDefault()):Pe.key==="ArrowDown"?(ye(1),Pe.preventDefault()):void 0),[o,Y,ye]),Oe=Bu((Pe=>{Je(Pe.target,"input")&&I((()=>Pe.target.value))}),[I]);qv((()=>(k(),()=>{R()})),[]);const Me=oc((()=>h||l.length>0),[h,l]);return Un`
    <${Tw}
      onClose=${n}
      onKeyup=${Oe}
      onKeydown=${st}
      className=${a}
      position=${u}
      width=${p}
      scale=${m}
    >
      ${Me&&Un`
        <${MM}
          headerEntries=${l}
          onSelect=${o}
          selectedEntry=${Y}
          setSelectedEntry=${se}
          title=${h}
        />
      `}
      ${S.length>0&&Un`
        <div class="djs-popup-body">

          ${O&&Un`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" spellcheck=${!1} aria-label="${h}" />
          </div>
          `}

          <${IM}
            groupedEntries=${Ee}
            selectedEntry=${Y}
            setSelectedEntry=${se}
            onAction=${o}
          />
        </div>
      `}
    ${x&&U.length===0&&Un`
      <div class="djs-popup-no-results">${D(x)?x(F):x}</div>
    `}
    </${Tw}>
  `}function Tw(e){const{onClose:n,onKeydown:o,onKeyup:a,className:l,children:u,position:h}=e,p=Ew();return ey((()=>{if(typeof h!="function")return;const m=p.current,v=h(m);m.style.left=`${v.x}px`,m.style.top=`${v.y}px`}),[p.current,h]),ey((()=>{const m=p.current;m&&(m.querySelector("input")||m).focus()}),[]),qv((()=>{const m=x=>{if(x.key==="Escape")return x.preventDefault(),n()},v=x=>{if(!Xe(x.target,".djs-popup",!0))return n()};return document.documentElement.addEventListener("keydown",m),document.body.addEventListener("click",v),()=>{document.documentElement.removeEventListener("keydown",m),document.body.removeEventListener("click",v)}}),[]),Un`
    <div
      class=${Vp("djs-popup",l)}
      style=${(function(m){return{transform:`scale(${m.scale})`,width:`${m.width}px`,"transform-origin":"top left"}})(e)}
      onKeydown=${o}
      onKeyup=${a}
      ref=${p}
      tabIndex="-1"
    >
      ${u}
    </div>
  `}var kw=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Pn(e,n,o,a){this._eventBus=n,this._canvas=o,this._search=a,this._current=null;var l=b(e&&e.scale)?e.scale:{min:1,max:1};this._config={scale:l},n.on("diagram.destroy",(()=>{this.close()})),n.on("element.changed",(u=>{const h=this.isOpen()&&this._current.target;u.element===h&&this.refresh()}))}function $M(e,n){return Aw(n)-Aw(e)}function Aw(e){return e.reduce(((n,o)=>n+Rw(o)),0)}function Rw(e){if(w(e))return Math.max(...e.map(Rw));const n=Math.log(e.value.length);return e.match?(e.start?e.end?131.9:7.87:e.wordStart?2.19:1)*n:-.07*n}function Pw(e=""){return w(e)?e.join(", "):e}function BM(e,n){return Pw(e).localeCompare(Pw(n))}function Nw(e,n){if(!e)return{tokens:[],matchedWords:{}};const o=[],a={},l=n.map(FM),u=[`(?<all>${l.join("\\s+")})`,...l].join("|"),h=new RegExp(u,"ig");let p,m=0;for(;p=h.exec(e);){const[v]=p,x=p.index,_=p.index+v.length,S=x===0,k=_===e.length,R=!!p.groups.all,O=S||/\s/.test(e.charAt(x-1)),F=k||/\s/.test(e.charAt(_));p.index>m&&o.push({value:e.slice(m,p.index),index:m}),o.push({value:v,index:p.index,match:!0,wordStart:O,wordEnd:F,start:S,end:k,all:R});const I=R?n:[v];for(const P of I)a[P.toLowerCase()]=!0;m=p.index+v.length}return m<e.length&&o.push({value:e.slice(m),index:m}),{tokens:o,matchedWords:a}}function FM(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}Pn.$inject=["config.popupMenu","eventBus","canvas","search"],Pn.prototype._render=function(){const{position:e,providerId:n,entries:o,headerEntries:a,emptyPlaceholder:l,options:u}=this._current,h=Object.entries(o).map((([x,_])=>({id:x,..._}))),p=Object.entries(a).map((([x,_])=>({id:x,..._}))),m=e&&(x=>this._ensureVisible(x,e)),v=this._updateScale(this._current.container);fw(Un`
      <${LM}
        onClose=${x=>this.close(x)}
        onSelect=${(x,_,S)=>this.trigger(x,_,S)}
        position=${m}
        className=${n}
        entries=${h}
        headerEntries=${p}
        emptyPlaceholder=${l}
        scale=${v}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        searchFn=${this._search}
        ...${{...u}}
      />
    `,this._current.container)},Pn.prototype.open=function(e,n,o,a){if(!e)throw new Error("target is missing");if(!n)throw new Error("providers for <"+n+"> not found");if(!o)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:l,headerEntries:u,emptyPlaceholder:h}=this._getContext(e,n);this._current={position:o,providerId:n,target:e,entries:l,headerEntries:u,emptyPlaceholder:h,container:this._createContainer({provider:n}),options:a},this._emit("open"),this._bindAutoClose(),this._render()},Pn.prototype.refresh=function(){if(!this.isOpen())return;const{target:e,providerId:n}=this._current,{entries:o,headerEntries:a,emptyPlaceholder:l}=this._getContext(e,n);this._current={...this._current,entries:o,headerEntries:a,emptyPlaceholder:l},this._emit("refresh"),this._render()},Pn.prototype._getContext=function(e,n){const o=this._getProviders(n);if(!o||!o.length)throw new Error("provider for <"+n+"> not found");const a=this._getEntries(e,o),l=this._getHeaderEntries(e,o);return{entries:a,headerEntries:l,emptyPlaceholder:this._getEmptyPlaceholder(o),empty:!(Object.keys(a).length||Object.keys(l).length)}},Pn.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._canvas.restoreFocus(),this._current=null)},Pn.prototype.reset=function(){const e=this._current.container;fw(null,e),gt(e)},Pn.prototype._emit=function(e,n){this._eventBus.fire(`popupMenu.${e}`,n)},Pn.prototype._onOpened=function(){this._emit("opened")},Pn.prototype._onClosed=function(){this._emit("closed")},Pn.prototype._createContainer=function(e){var n=this._canvas.getContainer();const o=Re(`<div class="djs-popup-parent djs-scrollable" data-popup=${e.provider}></div>`);return n.appendChild(o),o},Pn.prototype._bindAutoClose=function(){this._eventBus.once(kw,this.close,this)},Pn.prototype._unbindAutoClose=function(){this._eventBus.off(kw,this.close,this)},Pn.prototype._updateScale=function(){var e,n,o=this._canvas.zoom(),a=this._config.scale,l=o;return a!==!0&&(a===!1?(e=1,n=1):(e=a.min,n=a.max),b(e)&&o<e&&(l=e),b(n)&&o>n&&(l=n)),l},Pn.prototype._ensureVisible=function(e,n){var o=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect(),l={},u=n.x,h=n.y;return n.x+a.width>o.width&&(l.x=!0),n.y+a.height>o.height&&(l.y=!0),l.x&&l.y?(u=n.x-a.width,h=n.y-a.height):l.x?(u=n.x-a.width,h=n.y):l.y&&n.y<a.height?(u=n.x,h=10):l.y&&(u=n.x,h=n.y-a.height),n.y<o.top&&(h=n.y+a.height),{x:u,y:h}},Pn.prototype.isEmpty=function(e,n){if(!e)throw new Error("target is missing");if(!n)throw new Error("provider ID is missing");const o=this._getProviders(n);return!o||!o.length||this._getContext(e,n).empty},Pn.prototype.registerProvider=function(e,n,o){o||(o=n,n=1e3),this._eventBus.on("popupMenu.getProviders."+e,n,(function(a){a.providers.push(o)}))},Pn.prototype._getProviders=function(e){var n=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(n),n.providers},Pn.prototype._getEntries=function(e,n){var o={};return A(n,(function(a){if(a.getPopupMenuEntries){var l=a.getPopupMenuEntries(e);D(l)?o=l(o):A(l,(function(u,h){o[h]=u}))}else A(a.getEntries(e),(function(u){var h=u.id;if(!h)throw new Error("entry ID is missing");o[h]=Wt(u,["id"])}))})),o},Pn.prototype._getHeaderEntries=function(e,n){var o={};return A(n,(function(a){if(a.getPopupMenuHeaderEntries){var l=a.getPopupMenuHeaderEntries(e);D(l)?o=l(o):A(l,(function(u,h){o[h]=u}))}else{if(!a.getHeaderEntries)return;A(a.getHeaderEntries(e),(function(u){var h=u.id;if(!h)throw new Error("entry ID is missing");o[h]=Wt(u,["id"])}))}})),o},Pn.prototype._getEmptyPlaceholder=function(e){const n=e.find((o=>D(o.getEmptyPlaceholder)));return n&&n.getEmptyPlaceholder()},Pn.prototype.isOpen=function(){return!!this._current},Pn.prototype.trigger=function(e,n,o="click"){if(e.preventDefault(),!n){let l=q(Xe(e.delegateTarget||e.target,".entry",!0),"data-id");n={id:l,...this._getEntry(l)}}const a=n.action;if(this._emit("trigger",{entry:n,event:e})!==!1){if(D(a)){if(o==="click")return a(e,n)}else if(a[o])return a[o](e,n)}},Pn.prototype._getEntry=function(e){var n=this._current.entries[e]||this._current.headerEntries[e];if(!n)throw new Error("entry not found");return n};var Ow={search:["value",function(e,n,o){const{keys:a}=o;if(!(n=n.trim().toLowerCase()))throw new Error("<pattern> must not be empty");const l=n.trim().toLowerCase().split(/\s+/);return e.flatMap((u=>{const h=(function(p,m,v){const{matchedWords:x,tokens:_}=v.reduce(((S,k)=>{const R=p[k],{tokens:O,matchedWords:F}=w(R)?R.reduce(((I,P)=>{const{tokens:U,matchedWords:K}=Nw(P,m);return{tokens:[...I.tokens,U],matchedWords:{...I.matchedWords,...K}}}),{matchedWords:{},tokens:[]}):Nw(R,m);return{tokens:{...S.tokens,[k]:O},matchedWords:{...S.matchedWords,...F}}}),{matchedWords:{},tokens:{}});return Object.keys(x).length!==m.length?null:_})(u,l,a);return h?{item:u,tokens:h}:[]})).sort((function(u){return(h,p)=>{let m=0,v=1;for(const x of u){const _=$M(h.tokens[x],p.tokens[x]);if(_!==0){m+=_*v,v*=.9;continue}const S=BM(h.item[x],p.item[x]);S===0||(m+=S*v,v*=.9)}return m}})(a))}]},ry={__depends__:[Ow],__init__:["popupMenu"],popupMenu:["type",Pn]},Mw={align:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">
              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,bottom:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,center:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,left:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,right:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,top:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,middle:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`};function ac(e,n,o,a){e.registerProvider(900,this),this._contextPad=e,this._popupMenu=n,this._translate=o,this._canvas=a}ac.$inject=["contextPad","popupMenu","translate","canvas"],ac.prototype.getMultiElementContextPadEntries=function(e){var n={};return this._isAllowed(e)&&ie(n,this._getEntries(e)),n},ac.prototype._isAllowed=function(e){return!this._popupMenu.isEmpty(e,"align-elements")},ac.prototype._getEntries=function(){var e=this;return{"align-elements":{group:"align-elements",title:e._translate("Align elements"),html:`<div class="entry">${Mw.align}</div>`,action:{click:function(n,o){var a=e._getMenuPosition(o);ie(a,{cursor:{x:n.x,y:n.y}}),e._popupMenu.open(o,"align-elements",a)}}}}},ac.prototype._getMenuPosition=function(e){var n=this._contextPad.getPad(e).html.getBoundingClientRect();return{x:n.left,y:n.bottom+5}};var jM=["left","center","right","top","middle","bottom"];function Fu(e,n,o,a){this._alignElements=n,this._translate=o,this._popupMenu=e,this._rules=a,e.registerProvider("align-elements",this)}function ji(e){Fe.call(this,e),this.init()}function Hp(e){ji.call(this,e)}Fu.$inject=["popupMenu","alignElements","translate","rules"],Fu.prototype.getPopupMenuEntries=function(e){var n={};return this._isAllowed(e)&&ie(n,this._getEntries(e)),n},Fu.prototype._isAllowed=function(e){return this._rules.allowed("elements.align",{elements:e})},Fu.prototype._getEntries=function(e){var n=this._alignElements,o=this._translate,a=this._popupMenu,l={};return A(jM,(function(u){l["align-elements-"+u]={group:"align",title:o("Align elements "+u),className:"bjs-align-elements-menu-entry",imageHtml:Mw[u],action:function(){n.trigger(e,u),a.close()}}})),l},ji.$inject=["eventBus"],i(ji,Fe),ji.prototype.addRule=function(e,n,o){var a=this;typeof e=="string"&&(e=[e]),e.forEach((function(l){a.canExecute(l,n,(function(u,h,p){return o(u)}),!0)}))},ji.prototype.init=function(){},Hp.$inject=["eventBus"],i(Hp,ji),Hp.prototype.init=function(){this.addRule("elements.align",(function(e){var n=M(e.elements,(function(o){return!(o.waypoints||o.host||o.labelTarget)}));return!((n=ip(n)).length<2)&&n}))};var VM={__depends__:[wM,qE,ry],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",ac],alignElementsMenuProvider:["type",Fu],bpmnAlignElements:["type",Hp]};function iy(e,n,o,a){for(var l;l=HM(e,o,n);)o=a(n,o,l);return o}function oy(e){return function(n,o,a){var l={x:o.x,y:o.y};return["x","y"].forEach((function(u){var h=e[u];if(h){var p=u==="x"?"width":"height",m=h.margin,v=h.minDistance;l[u]=m<0?Math.min(a[u]+m-n[p]/2,o[u]-v+m):Math.max(a[u]+a[p]+m+n[p]/2,o[u]+v+m)}})),l}}function HM(e,n,o){var a={x:n.x-o.width/2,y:n.y-o.height/2,width:o.width,height:o.height},l=(function(u){var h=ay(u);return u.host&&(h=h.concat(ay(u.host))),u.attachers&&(h=h.concat(u.attachers.reduce((function(p,m){return p.concat(ay(m))}),[]))),h})(e);return N(l,(function(u){return u!==o&&Ar(u,a,10)==="intersect"}))}function ay(e){return(n=e,n.outgoing.map((function(o){return o.target}))).concat((function(o){return o.incoming.map((function(a){return a.source}))})(e));var n}function UM(){return!0}function Dw(e,n,o){e.on("autoPlace",100,(function(a){var l=a.shape;return(function(u,h,p){p||(p={});var m=p.defaultDistance||50,v=vt(u),x=mt(u);return{x:x.right+m+h.width/2,y:v.y}})(a.source,l)})),e.on("autoPlace.end",(function(a){o.scrollToElement(a.shape)})),this.append=function(a,l,u){e.fire("autoPlace.start",{source:a,shape:l});var h=e.fire("autoPlace",{source:a,shape:l}),p=n.appendShape(a,l,h,a.parent,u);return e.fire("autoPlace.end",{source:a,shape:p}),p}}function Iw(e,n){e.on("autoPlace.end",500,(function(o){n.select(o.shape)}))}Dw.$inject=["eventBus","modeling","canvas"],Iw.$inject=["eventBus","selection"];var zM={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",Dw],autoPlaceSelectionBehavior:["type",Iw]};function sc(e,n){for($(n)&&(n=[n]);e=e.parent;)if(Ot(e,n))return e;return null}function Lw(e,n){var o=sc(e,"bpmn:Process");if(o)return!0;var a,l=["bpmn:Participant","bpmn:Lane"];if(o=sc(e,l))return fr(o);if(Ot(e,l))return fr(e);for(a=je(e);a&&!j(a,"bpmn:Process");a=a.$parent);if(!n)return!0;var u=n.find((function(h){var p=je(h);return p&&p.get("processRef")===a}));return!u||fr(u)}function $w(e,n,o){var a=Lw(e,o);return j(n,"bpmn:TextAnnotation")?(function(l,u,h){var p=mt(l),m=h?{x:p.right+u.width/2,y:p.top-50-u.height/2}:{x:p.right+50+u.width/2,y:p.bottom+u.height/2};mn(l)&&(m=vt(l),h?(m.x+=100,m.y-=50):(m.x+=100,m.y+=50));var v={margin:h?-30:30,minDistance:20},x=h?{y:v}:{x:v};return iy(l,u,m,oy(x))})(e,n,a):Ot(n,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?(function(l,u,h){var p=mt(l),m=h?{x:p.right-10+u.width/2,y:p.bottom+40+u.width/2}:{x:p.left-40-u.width/2,y:p.bottom-10+u.height/2},v={margin:30,minDistance:30},x=h?{x:v}:{y:v};return iy(l,u,m,oy(x))})(e,n,a):j(n,"bpmn:FlowNode")?(function(l,u,h){var p=mt(l),m=vt(l),v=h?{directionHint:"e",minDistance:80,baseOrientation:"left",boundaryOrientation:"top",start:"top",end:"bottom"}:{directionHint:"s",minDistance:90,baseOrientation:"top",boundaryOrientation:"left",start:"left",end:"right"},x=(function(I,P){P||(P={});var U=P.defaultDistance||50,K=P.direction||"e",Y=P.filter,se=P.getWeight||function(Pe){return Pe.source===I?1:-1},Ee=P.maxDistance||250,_e=P.reference||"start";function ye(Pe,Ve){return K==="n"?_e==="start"?mt(Pe).top-mt(Ve).bottom:_e==="center"?mt(Pe).top-vt(Ve).y:mt(Pe).top-mt(Ve).top:K==="w"?_e==="start"?mt(Pe).left-mt(Ve).right:_e==="center"?mt(Pe).left-vt(Ve).x:mt(Pe).left-mt(Ve).left:K==="s"?_e==="start"?mt(Ve).top-mt(Pe).bottom:_e==="center"?vt(Ve).y-mt(Pe).bottom:mt(Ve).bottom-mt(Pe).bottom:_e==="start"?mt(Ve).left-mt(Pe).right:_e==="center"?vt(Ve).x-mt(Pe).right:mt(Ve).right-mt(Pe).right}Y||(Y=UM);var st=I.incoming.filter(Y).map((function(Pe){var Ve=se(Pe),nt=Ve<0?ye(Pe.source,I):ye(I,Pe.source);return{id:Pe.source.id,distance:nt,weight:Ve}})),Oe=I.outgoing.filter(Y).map((function(Pe){var Ve=se(Pe),nt=Ve>0?ye(I,Pe.target):ye(Pe.target,I);return{id:Pe.target.id,distance:nt,weight:Ve}})),Me=Z(st.concat(Oe).reduce((function(Pe,Ve){return Pe[Ve.id+"__weight_"+Ve.weight]=Ve,Pe}),{}),(function(Pe,Ve){var nt=Ve.distance,Mt=Ve.weight;return nt<0||nt>Ee||(Pe[String(nt)]||(Pe[String(nt)]=0),Pe[String(nt)]+=1*Mt,(!Pe.distance||Pe[Pe.distance]<Pe[String(nt)])&&(Pe.distance=nt)),Pe}),{});return Me.distance||U})(l,{filter:function(I){return j(I,"bpmn:SequenceFlow")},direction:v.directionHint}),_=30,S=v.minDistance,k=v.baseOrientation;j(l,"bpmn:BoundaryEvent")&&(k=Ar(l,l.host,-25)).indexOf(v.boundaryOrientation)!==-1&&(_*=-1);var R=h?{x:p.right+x+u.width/2,y:m.y+Bw(k,S,v)}:{x:m.x+Bw(k,S,v),y:p.bottom+x+u.height/2},O={margin:_,minDistance:S},F=h?{y:O}:{x:O};return iy(l,u,R,oy(F))})(e,n,a):void 0}function Bw(e,n,o){return e.includes(o.start)?-1*n:e.includes(o.end)?n:0}function Fw(e,n){e.on("autoPlace",(function(o){var a=o.shape;return $w(o.source,a,n)}))}Fw.$inject=["eventBus","elementRegistry"];var sy={__depends__:[zM],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",Fw]};function Qo(e,n,o,a){Fe.call(this,e),this._elementRegistry=n,this._modeling=o,this._rules=a;var l=this;this.postExecuted(["shape.create"],(function(u){var h=u.context,p=h.hints||{},m=h.shape,v=h.parent||h.newParent;p.autoResize!==!1&&l._expand([m],v)})),this.postExecuted(["elements.move"],(function(u){var h=u.context,p=d(oe(h.closure.topLevel)),m=h.hints,v=!m||m.autoResize;v!==!1&&A(re(p,(function(x){return x.parent.id})),(function(x,_){w(v)&&(x=x.filter((function(S){return N(v,le({id:S.id}))}))),l._expand(x,_)}))})),this.postExecuted(["shape.toggleCollapse"],(function(u){var h=u.context,p=h.hints,m=h.shape;p&&p.autoResize===!1||m.collapsed||l._expand(m.children||[],m)})),this.postExecuted(["shape.resize"],(function(u){var h=u.context,p=h.hints,m=h.shape,v=m.parent;p&&p.autoResize===!1||v&&l._expand([m],v)}))}function Up(e){e.invoke(Qo,this)}function ju(e){ji.call(this,e);var n=this;this.addRule("element.autoResize",(function(o){return n.canResize(o.elements,o.target)}))}function zp(e,n){ju.call(this,e),this._modeling=n}Qo.$inject=["eventBus","elementRegistry","modeling","rules"],i(Qo,Fe),Qo.prototype._getOptimalBounds=function(e,n){var o=this.getOffset(n),a=this.getPadding(n),l=mt(ir(e)),u=mt(n),h={};return l.top-u.top<a.top&&(h.top=l.top-o.top),l.left-u.left<a.left&&(h.left=l.left-o.left),u.right-l.right<a.right&&(h.right=l.right+o.right),u.bottom-l.bottom<a.bottom&&(h.bottom=l.bottom+o.bottom),cp(ie({},u,h))},Qo.prototype._expand=function(e,n){if(typeof n=="string"&&(n=this._elementRegistry.get(n)),this._rules.allowed("element.autoResize",{elements:e,target:n})){var o=this._getOptimalBounds(e,n);if((function(u,h){return u.x!==h.x||u.y!==h.y||u.width!==h.width||u.height!==h.height})(o,n)){var a=(function(u,h){var p="";return u=mt(u),h=mt(h),u.top>h.top&&(p=p.concat("n")),u.right<h.right&&(p=p.concat("w")),u.bottom<h.bottom&&(p=p.concat("s")),u.left>h.left&&(p=p.concat("e")),p})(Xt(n,["x","y","width","height"]),o);this.resize(n,o,{autoResize:a});var l=n.parent;l&&this._expand([n],l)}}},Qo.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}},Qo.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}},Qo.prototype.resize=function(e,n,o){this._modeling.resizeShape(e,n,null,o)},Up.$inject=["injector"],i(Up,Qo),Up.prototype.resize=function(e,n,o){j(e,"bpmn:Participant")?this._modeling.resizeLane(e,n,null,o):this._modeling.resizeShape(e,n,null,o)},ju.$inject=["eventBus"],i(ju,ji),ju.prototype.canResize=function(e,n){return!1},i(zp,ju),zp.$inject=["eventBus","modeling"],zp.prototype.canResize=function(e,n){if(j(n.di,"bpmndi:BPMNPlane")||!j(n,"bpmn:Participant")&&!j(n,"bpmn:Lane")&&!j(n,"bpmn:SubProcess"))return!1;var o=!0;return A(e,(function(a){(j(a,"bpmn:Lane")||Bt(a))&&(o=!1)})),o};var GM={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",Up],bpmnAutoResizeProvider:["type",zp]};function jw(e,n,o){var a,l,u=this,h=o.get("dragging",!1);h&&n.on("drag.start",(function(p){n.once("drag.move",1500,(function(m){(function(v){if(!v.hover){var x=v.originalEvent,_=u._findTargetGfx(x),S=_&&e.get(_);_&&S&&(v.stopPropagation(),h.hover({element:S,gfx:_}),h.move(x))}})(m)}))})),n.on("element.hover",(function(p){a=p.gfx,l=p.element})),n.on("element.hover",1500,(function(p){l&&n.fire("element.out",{element:l,gfx:a})})),n.on("element.out",(function(){a=null,l=null})),this._findTargetGfx=function(p){var m;if(p instanceof MouseEvent)return m=Xs(p),(function(v){return Xe(v,"svg, .djs-element",!0)})(document.elementFromPoint(m.x,m.y))}}jw.$inject=["elementRegistry","eventBus","injector"];var WM={__init__:["hoverFix"],hoverFix:["type",jw]},lc=Math.round,Vw="djs-drag-active";function Zs(e){e.preventDefault()}function Hw(e,n,o,a){var l,u={threshold:5,trapClick:!0};function h(I){var P=n.viewbox(),U=n._container.getBoundingClientRect();return{x:P.x+(I.x-U.left)/P.scale,y:P.y+(I.y-U.top)/P.scale}}function p(I,P){P=P||l;var U=e.createEvent(ie({},P.payload,P.data,{isTouch:P.isTouch}));return e.fire("drag."+I,U)!==!1&&e.fire(P.prefix+"."+I,U)}function m(I,P){var U,K=l.payload,Y=l.displacement,se=l.globalStart,Ee=Xs(I),_e=io(Ee,se),ye=l.localStart,st=h(Ee),Oe=io(st,ye);if(!l.active&&(P||(U=_e,Math.sqrt(Math.pow(U.x,2)+Math.pow(U.y,2))>l.threshold))){if(ie(K,{x:lc(ye.x+Y.x),y:lc(ye.y+Y.y),dx:0,dy:0},{originalEvent:I}),p("start")===!1)return O();l.active=!0,l.keepSelection||(K.previousSelection=o.get(),o.select(null)),l.cursor&&Pp(l.cursor),n.addMarker(n.getRootElement(),Vw)}jv(I),l.active&&(ie(K,{x:lc(st.x+Y.x),y:lc(st.y+Y.y),dx:lc(Oe.x),dy:lc(Oe.y)},{originalEvent:I}),p("move"))}function v(I){var P=!0;l.active&&(I&&(l.payload.originalEvent=I,jv(I)),P=p("end")),P===!1&&p("rejected"),p("ended",F(P!==!0))}function x(I){vr("Escape",I)&&(Zs(I),O())}function _(I){var P;l.active&&(P=UE(e),setTimeout(P,400),Zs(I)),v(I)}function S(I){m(I)}function k(I){var P=l.payload;P.hoverGfx=I.gfx,P.hover=I.element,p("hover")}function R(I){p("out");var P=l.payload;P.hoverGfx=null,P.hover=null}function O(I){var P;if(l){var U=l.active;U&&p("cancel"),P=F(I),U&&p("canceled",P)}}function F(I){var P,U;p("cleanup"),HE(),U=l.trapClick?_:v,Ie.unbind(document,"mousemove",m),Ie.unbind(document,"dragstart",Zs),Ie.unbind(document,"selectstart",Zs),Ie.unbind(document,"mousedown",U,!0),Ie.unbind(document,"mouseup",U,!0),Ie.unbind(document,"keyup",x),Ie.unbind(document,"touchstart",S,!0),Ie.unbind(document,"touchcancel",O,!0),Ie.unbind(document,"touchmove",m,!0),Ie.unbind(document,"touchend",v,!0),e.off("element.hover",k),e.off("element.out",R),n.removeMarker(n.getRootElement(),Vw);var K=l.payload.previousSelection;return I!==!1&&K&&!o.get().length&&(function(Y){var se=Y.filter((function(Ee){return a.get(Ee.id)}));se.length&&o.select(se)})(K),P=l,l=null,P}e.on("diagram.destroy",O),this.init=function(I,P,U,K){l&&O(!1),typeof P=="string"&&(K=U,U=P,P=null);var Y,se,Ee,_e,ye,st=(K=ie({},u,K||{})).data||{};_e=K.trapClick?_:v,I?(Y=Ql(I)||I,se=Xs(I),jv(I),Y.type==="dragstart"&&Zs(Y)):(Y=null,se={x:0,y:0}),Ee=h(se),P||(P=Ee),ye=(function(Oe){return typeof TouchEvent<"u"&&Oe instanceof TouchEvent})(Y),l=ie({prefix:U,data:st,payload:{},globalStart:se,displacement:io(P,Ee),localStart:Ee,isTouch:ye},K),K.manual||(ye?(Ie.bind(document,"touchstart",S,!0),Ie.bind(document,"touchcancel",O,!0),Ie.bind(document,"touchmove",m,!0),Ie.bind(document,"touchend",v,!0)):(Ie.bind(document,"mousemove",m),Ie.bind(document,"dragstart",Zs),Ie.bind(document,"selectstart",Zs),Ie.bind(document,"mousedown",_e,!0),Ie.bind(document,"mouseup",_e,!0)),Ie.bind(document,"keyup",x),e.on("element.hover",k),e.on("element.out",R)),p("init"),K.autoActivate&&m(I,!0)},this.move=m,this.hover=k,this.out=R,this.end=v,this.cancel=O,this.context=function(){return l},this.setOptions=function(I){ie(u,I)}}Hw.$inject=["eventBus","canvas","selection","elementRegistry"];var qo={__depends__:[WM,Bi],dragging:["type",Hw]};function cc(e,n,o){this._canvas=o,this._opts=ie({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var a=this;n.on("drag.move",(function(l){var u=a._toBorderPoint(l);a.startScroll(u)})),n.on(["drag.cleanup"],(function(){a.stopScroll()}))}function KM(e,n,o){return n<e&&e<o}cc.$inject=["config.autoScroll","eventBus","canvas"],cc.prototype.startScroll=function(e){var n=this._canvas,o=this._opts,a=this,l=n.getContainer().getBoundingClientRect(),u=[e.x,e.y,l.width-e.x,l.height-e.y];this.stopScroll();for(var h=0,p=0,m=0;m<4;m++)KM(u[m],o.scrollThresholdOut[m],o.scrollThresholdIn[m])&&(m===0?h=o.scrollStep:m==1?p=o.scrollStep:m==2?h=-o.scrollStep:m==3&&(p=-o.scrollStep));h===0&&p===0||(n.scroll({dx:h,dy:p}),this._scrolling=setTimeout((function(){a.startScroll(e)}),o.scrollRepeatTimeout))},cc.prototype.stopScroll=function(){clearTimeout(this._scrolling)},cc.prototype.setOptions=function(e){this._opts=ie({},this._opts,e)},cc.prototype._toBorderPoint=function(e){var n=this._canvas._container.getBoundingClientRect(),o=Xs(e.originalEvent);return{x:o.x-n.left,y:o.y-n.top}};var XM={__depends__:[qo],__init__:["autoScroll"],autoScroll:["type",cc]};function ly(e){this._commandStack=e.get("commandStack",!1)}ly.$inject=["injector"],ly.prototype.allowed=function(e,n){var o=!0,a=this._commandStack;return a&&(o=a.canExecute(e,n)),o===void 0||o};var To={__init__:["rules"],rules:["type",ly]},Gp=Math.round,YM=Math.max;function cy(e,n){return(function(o,a){var l,u;for(l=0;u=o[l];l++)if(bu(u,a)<=10)return{point:o[l],bendpoint:!0,index:l};return null})(e,n)||(function(o,a){var l,u,h=k_((function(v,x){return[["M",v.x,v.y],["m",0,-10],["a",x,x,0,1,1,0,2*x],["a",x,x,0,1,1,0,-2*x],["z"]]})(a,10),(l=[],o.forEach((function(v,x){l.push([x===0?"M":"L",v.x,v.y])})),l)),p=h[0],m=h[h.length-1];return p?p!==m?p.segment2!==m.segment2?{point:o[u=YM(p.segment2,m.segment2)-1],bendpoint:!0,index:u}:{point:{x:Gp(p.x+m.x)/2,y:Gp(p.y+m.y)/2},index:p.segment2}:{point:{x:Gp(p.x),y:Gp(p.y)},index:p.segment2}:null})(e,n)}function Uw(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function zw(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function uy(e,n){var o=n[0],a=n[1],l={x:a.x-o.x,y:a.y-o.y},u=(function(h,p,m){var v=[{n:h[0]-m[0],lambda:p[0]},{n:h[1]-m[1],lambda:p[1]}];return-(v[0].n*p[0]+v[1].n*p[1])/(v[0].lambda*p[0]+v[1].lambda*p[1])})([o.x,o.y],[l.x,l.y],[e.x,e.y]);return{x:o.x+u*l.x,y:o.y+u*l.y}}function Gw(e,n){var o=uy(e,n);return Uw({x:o.x-e.x,y:o.y-e.y})}function Vu(e,n){return Uw({x:e.x-n.x,y:e.y-n.y})}var Ww="djs-bendpoint",Kw="djs-segment-dragger";function fy(e,n,o){var a=(function(l,u){var h,p=Xs(u),m=l._container.getBoundingClientRect();h={x:m.left,y:m.top};var v=l.viewbox();return{x:v.x+(p.x-h.x)/v.scale,y:v.y+(p.y-h.y)/v.scale}})(e,o);return cy(n,a)}function dy(e,n){var o=ut("g");rt(o).add(Ww),We(e,o);var a=ut("circle");Ne(a,{cx:0,cy:0,r:4}),rt(a).add("djs-visual"),We(o,a);var l=ut("circle");return Ne(l,{cx:0,cy:0,r:10}),rt(l).add("djs-hit"),We(o,l),n&&rt(o).add(n),o}function ZM(e,n,o,a){var l=ut("g");We(e,l);var u=(function(m,v,x){var _=v.x-m.x,S=v.y-m.y;return Yw(x==="h"?_:S)})(n,o,a),h=ut("rect");Ne(h,{x:-9,y:-3,width:18,height:6}),rt(h).add("djs-visual"),We(l,h);var p=ut("rect");return Ne(p,{x:-u/2,y:-8.5,width:u,height:17}),rt(p).add("djs-hit"),We(l,p),z_(l,a==="v"?90:0),l}function Xw(e,n,o){var a=ut("g"),l=bv(n,o),u=Go(n,o);return We(e,a),ZM(a,n,o,u),rt(a).add(Kw),rt(a).add(u==="h"?"horizontal":"vertical"),Er(a,l.x,l.y),a}function Yw(e){return Math.abs(Math.round(2*e/3))}function JM(e,n){var o=(function(a,l){for(var u,h=l.waypoints,p=1/0,m=0;m<h.length-1;m++){var v=Gw(a,[h[m],h[m+1]]);v<p&&(p=v,u=m)}return[h[u],h[u+1]]})(e,n);return uy(e,o)}function Zw(e,n,o,a,l){function u(R,O){var F,I=O.waypoints,P=fy(n,I,R);if(P)return F=(function(U,K){var Y,se,Ee=U.waypoints;return K.index<=0||K.bendpoint?null:(se=Go((Y={start:Ee[K.index-1],end:Ee[K.index]}).start,Y.end))?Yw(se==="h"?Y.end.x-Y.start.x:Y.end.y-Y.start.y)/2:null})(O,P),(function(U,K,Y){var se,Ee,_e,ye,st,Oe,Me=U.index,Pe=U.point;return!(Me<=0||U.bendpoint)&&(_e=bv(se=K[Me-1],Ee=K[Me]),ye=Go(se,Ee),st=Math.abs(Pe.x-_e.x),Oe=Math.abs(Pe.y-_e.y),ye&&st<=Y&&Oe<=Y)})(P,I,F)?l.start(R,O,P.index):a.start(R,O,P.index,!P.bendpoint),!0}function h(R,O,F){Ie.bind(R,O,(function(I){o.triggerMouseEvent(O,I,F),I.stopPropagation()}))}function p(R,O){var F=n.getLayer("overlays"),I=Ke('.djs-bendpoints[data-element-id="'+Ou(R.id)+'"]',F);return!I&&O&&(Ne(I=ut("g"),{"data-element-id":R.id}),rt(I).add("djs-bendpoints"),We(F,I),h(I,"mousedown",R),h(I,"click",R),h(I,"dblclick",R)),I}function m(R,O){return Ke('.djs-segment-dragger[data-segment-idx="'+R+'"]',O)}function v(R,O){O.waypoints.forEach((function(F,I){var P=dy(R);We(R,P),Er(P,F.x,F.y)})),dy(R,"floating")}function x(R,O){for(var F,I,P,U=O.waypoints,K=1;K<U.length;K++)Go(F=U[K-1],I=U[K])&&(Ne(P=Xw(R,F,I),{"data-segment-idx":K}),h(P,"mousemove",O))}function _(R){var O=p(R);return O||(v(O=p(R,!0),R),x(O,R)),O}function S(R){var O=p(R);O&&((function(F){A(kt("."+Kw,F),(function(I){Wn(I)}))})(O),(function(F){A(kt("."+Ww,F),(function(I){Wn(I)}))})(O),x(O,R),v(O,R))}function k(R,O,F){var I,P,U=m(O.index,R),K=F[O.index-1],Y=F[O.index],se=O.point,Ee=bv(K,Y),_e=Go(K,Y);U&&(I=(function(ye){return Ke(".djs-visual",ye)})(U),P={x:se.x-Ee.x,y:se.y-Ee.y},_e==="v"&&(P={x:P.y,y:P.x}),Er(I,P.x,P.y))}e.on("connection.changed",(function(R){S(R.element)})),e.on("connection.remove",(function(R){var O=p(R.element);O&&Wn(O)})),e.on("element.marker.update",(function(R){var O,F=R.element;F.waypoints&&(O=_(F),R.add?rt(O).add(R.marker):rt(O).remove(R.marker))})),e.on("element.mousemove",(function(R){var O,F,I=R.element,P=I.waypoints;if(P){if(O=p(I,!0),!(F=fy(n,P,R.originalEvent)))return;(function(U,K){var Y=Ke(".floating",U),se=K.point;Y&&Er(Y,se.x,se.y)})(O,F),F.bendpoint||k(O,F,P)}})),e.on("element.mousedown",(function(R){if(Wa(R)){var O=R.originalEvent,F=R.element;if(F.waypoints)return u(O,F)}})),e.on("selection.changed",(function(R){var O=R.newSelection[0];O&&O.waypoints&&_(O)})),e.on("element.hover",(function(R){var O=R.element;O.waypoints&&(_(O),o.registerEvent(R.gfx,"mousemove","element.mousemove"))})),e.on("element.out",(function(R){o.unregisterEvent(R.gfx,"mousemove","element.mousemove")})),e.on("element.updateId",(function(R){var O=R.element,F=R.newId;if(O.waypoints){var I=p(O);I&&Ne(I,{"data-element-id":F})}})),this.addHandles=_,this.updateHandles=S,this.getBendpointsContainer=p,this.getSegmentDragger=m}Zw.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var Jw=Math.round,Js="reconnectStart",Qs="reconnectEnd",Hu="updateWaypoints";function py(e,n,o,a,l,u){this._injector=e,this.start=function(h,p,m,v){var x,_=o.getGraphics(p),S=p.source,k=p.target,R=p.waypoints,O=(x=v||m!==0?v||m!==R.length-1?Hu:Qs:Js)===Hu?"connection.updateWaypoints":"connection.reconnect",F=l.allowed(O,{connection:p,source:S,target:k});F===!1&&(F=l.allowed(O,{connection:p,source:k,target:S})),F!==!1&&a.init(h,"bendpoint.move",{data:{connection:p,connectionGfx:_,context:{allowed:F,bendpointIndex:m,connection:p,source:S,target:k,insert:v,type:x}}})},n.on("bendpoint.move.hover",(function(h){var p,m=h.context,v=m.connection,x=v.source,_=v.target,S=h.hover,k=m.type;if(m.hover=S,S){var R=k===Hu?"connection.updateWaypoints":"connection.reconnect";if(p=m.allowed=l.allowed(R,{connection:v,source:k===Js?S:x,target:k===Qs?S:_}))return m.source=k===Js?S:x,void(m.target=k===Qs?S:_);p===!1&&(p=m.allowed=l.allowed(R,{connection:v,source:k===Qs?S:_,target:k===Js?S:x})),p&&(m.source=k===Qs?S:_,m.target=k===Js?S:x)}})),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],(function(h){var p=h.context,m=p.type;p.hover=null,p.source=null,p.target=null,m!==Hu&&(p.allowed=!1)})),n.on("bendpoint.move.end",(function(h){var p=h.context,m=p.allowed,v=p.bendpointIndex,x=p.connection,_=p.insert,S=x.waypoints.slice(),k=p.source,R=p.target,O=p.type,F=p.hints||{},I={x:Jw(h.x),y:Jw(h.y)};if(!m)return!1;O===Hu?(_?S.splice(v,0,I):S[v]=I,F.bendpointMove={insert:_,bendpointIndex:v},S=this.cropWaypoints(x,S),u.updateWaypoints(x,(function(P){P=P.slice();for(var U,K,Y,se=0;P[se];)U=P[se],K=P[se-1],bu(U,Y=P[se+1])===0||yv(K,Y,U)?P.splice(se,1):se++;return P})(S),F)):(O===Js?(F.docking="source",Wp(p)&&(F.docking="target",F.newWaypoints=S.reverse())):O===Qs&&(F.docking="target",Wp(p)&&(F.docking="source",F.newWaypoints=S.reverse())),u.reconnect(x,k,R,I,F))}),this)}function Wp(e){var n=e.hover,o=e.source,a=e.target,l=e.type;return l===Js?n&&a&&n===a&&o!==a:l===Qs?n&&o&&n===o&&o!==a:void 0}py.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],py.prototype.cropWaypoints=function(e,n){var o=this._injector.get("connectionDocking",!1);if(!o)return n;var a=e.waypoints;return e.waypoints=n,e.waypoints=o.getCroppedWaypoints(e),n=e.waypoints,e.waypoints=a,n};var Qw="updateWaypoints",Uu="connect-ok",Kp="connect-not-ok",qw="connect-hover",eS="djs-updating",tS="djs-dragging";function nS(e,n,o,a){this._injector=n;var l=n.get("connectionPreview",!1);o.on("bendpoint.move.start",(function(u){var h=u.context,p=h.bendpointIndex,m=h.connection,v=h.insert,x=m.waypoints,_=x.slice();h.waypoints=x,v&&_.splice(p,0,{x:u.x,y:u.y}),m.waypoints=_,rt(h.draggerGfx=dy(a.getLayer("overlays"))).add("djs-dragging"),a.addMarker(m,tS),a.addMarker(m,eS)})),o.on("bendpoint.move.hover",(function(u){var h=u.context,p=h.allowed,m=h.hover,v=h.type;if(m){if(a.addMarker(m,qw),v===Qw)return;p?(a.removeMarker(m,Kp),a.addMarker(m,Uu)):p===!1&&(a.removeMarker(m,Uu),a.addMarker(m,Kp))}})),o.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,(function(u){var h=u.context,p=h.hover,m=h.target;p&&(a.removeMarker(p,qw),a.removeMarker(p,m?Uu:Kp))})),o.on("bendpoint.move.move",(function(u){var h=u.context,p=h.allowed,m=h.bendpointIndex,v=h.draggerGfx,x=h.hover,_=h.type,S=h.connection,k=S.source,R=S.target,O=S.waypoints.slice(),F={x:u.x,y:u.y},I=h.hints||{},P={};l&&(I.connectionStart&&(P.connectionStart=I.connectionStart),I.connectionEnd&&(P.connectionEnd=I.connectionEnd),_==="reconnectStart"?Wp(h)?(P.connectionEnd=P.connectionEnd||F,P.source=R,P.target=x||k,O=O.reverse()):(P.connectionStart=P.connectionStart||F,P.source=x||k,P.target=R):_==="reconnectEnd"?Wp(h)?(P.connectionStart=P.connectionStart||F,P.source=x||R,P.target=k,O=O.reverse()):(P.connectionEnd=P.connectionEnd||F,P.source=k,P.target=x||R):(P.noCropping=!0,P.noLayout=!0,O[m]=F),_===Qw&&(O=e.cropWaypoints(S,O)),P.waypoints=O,l.drawPreview(h,p,P)),Er(v,u.x,u.y)}),this),o.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,(function(u){var h=u.context,p=h.connection,m=h.draggerGfx,v=h.hover,x=h.target,_=h.waypoints;p.waypoints=_,Wn(m),a.removeMarker(p,eS),a.removeMarker(p,tS),v&&(a.removeMarker(v,Uu),a.removeMarker(v,x?Uu:Kp)),l&&l.cleanUp(h)}))}nS.$inject=["bendpointMove","injector","eventBus","canvas"];var rS="connect-hover",iS="djs-updating";function oS(e,n,o){return hy(e,n,e[n]+o)}function hy(e,n,o){return{x:n==="x"?o:e.x,y:n==="y"?o:e.y}}function aS(e){return e==="x"?"y":"x"}function sS(e,n,o){var a,l;return e.original?e.original:(a=vt(n),hy(e,l=aS(o),a[l]))}function lS(e,n,o,a,l,u){var h=e.get("connectionDocking",!1);function p(x,_){if(!h)return _;var S,k=x.waypoints;return x.waypoints=_,S=h.getCroppedWaypoints(x),x.waypoints=k,S}function m(x){l.update("connection",x.connection,x.connectionGfx)}function v(x,_,S){var k=x.newWaypoints,R=(function(O,F,I,P){var U=Math.max(F[P],I[P]),K=Math.min(F[P],I[P]);return hy(F,P,Math.min(Math.max(K+20,O[P]),U-20))})(S,k[x.segmentStartIndex+_],k[x.segmentEndIndex+_],aS(x.axis));Er(x.draggerGfx,R.x,R.y)}this.start=function(x,_,S){var k,R,O,F,I=o.getGraphics(_),P=S-1,U=S,K=_.waypoints,Y=K[P],se=K[U],Ee=fy(o,K,x);(R=Go(Y,se))&&(O=R==="v"?"x":"y",P===0&&(Y=sS(Y,_.source,O)),U===K.length-1&&(se=sS(se,_.target,O)),k={connection:_,segmentStartIndex:P,segmentEndIndex:U,segmentStart:Y,segmentEnd:se,axis:O,dragPosition:F=Ee?Ee.point:{x:(Y.x+se.x)/2,y:(Y.y+se.y)/2}},a.init(x,F,"connectionSegment.move",{cursor:O==="x"?"resize-ew":"resize-ns",data:{connection:_,connectionGfx:I,context:k}}))},n.on("connectionSegment.move.start",(function(x){var _=x.context,S=x.connection,k=o.getLayer("overlays");_.originalWaypoints=S.waypoints.slice(),_.draggerGfx=Xw(k,_.segmentStart,_.segmentEnd),rt(_.draggerGfx).add("djs-dragging"),o.addMarker(S,iS)})),n.on("connectionSegment.move.move",(function(x){var _,S,k=x.context,R=k.connection,O=k.segmentStartIndex,F=k.segmentEndIndex,I=k.segmentStart,P=k.segmentEnd,U=k.axis,K=k.originalWaypoints.slice(),Y=oS(I,U,x["d"+U]),se=oS(P,U,x["d"+U]),Ee=K.length,_e=0;K[O]=Y,K[F]=se,O<2&&(_=Ar(R.source,Y),O===1?_==="intersect"&&(K.shift(),K[0]=Y,_e--):_!=="intersect"&&(K.unshift(I),_e++)),F>Ee-3&&(S=Ar(R.target,se),F===Ee-2?S==="intersect"&&(K.pop(),K[K.length-1]=se):S!=="intersect"&&K.push(P)),k.newWaypoints=R.waypoints=p(R,K),v(k,_e,x),k.newSegmentStartIndex=O+_e,m(x)})),n.on("connectionSegment.move.hover",(function(x){x.context.hover=x.hover,o.addMarker(x.hover,rS)})),n.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],(function(x){var _=x.context.hover;_&&o.removeMarker(_,rS)})),n.on("connectionSegment.move.cleanup",(function(x){var _=x.context,S=_.connection;_.draggerGfx&&Wn(_.draggerGfx),o.removeMarker(S,iS)})),n.on(["connectionSegment.move.cancel","connectionSegment.move.end"],(function(x){var _=x.context;_.connection.waypoints=_.originalWaypoints,m(x)})),n.on("connectionSegment.move.end",(function(x){var _=x.context,S=_.connection,k=_.newWaypoints,R=_.newSegmentStartIndex;k=k.map((function(U){return{original:U.original,x:Math.round(U.x),y:Math.round(U.y)}}));var O=(function(U,K){var Y=0,se=U.filter((function(Ee,_e){return!yv(U[_e-1],U[_e+1],Ee)||(Y=_e<=K?Y-1:Y,!1)}));return{waypoints:se,segmentOffset:Y}})(k,R),F=p(S,O.waypoints),I=O.segmentOffset,P={segmentMove:{segmentStartIndex:_.segmentStartIndex,newSegmentStartIndex:R+I}};u.updateWaypoints(S,F,P)}))}lS.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var QM=Math.abs,cS=Math.round;function uS(e){return{x:e.x,y:e.y}}function fS(e){return{x:e.x+e.width,y:e.y+e.height}}function Vi(e,n){return!e||isNaN(e.x)||isNaN(e.y)?n:{x:cS(e.x+e.width/2),y:cS(e.y+e.height/2)}}function uc(e,n){var o=e.snapped;return!!o&&(typeof n=="string"?o[n]:o.x&&o.y)}function Jn(e,n,o){if(typeof n!="string")throw new Error("axis must be in [x, y]");if(typeof o!="number"&&o!==!1)throw new Error("value must be Number or false");var a,l=e[n],u=e.snapped=e.snapped||{};return o===!1?u[n]=!1:(u[n]=!0,a=o-l,e[n]+=a,e["d"+n]+=a),l}function dS(e){return e.children||[]}var qM=Math.abs,pS=Math.round;function hS(e){function n(a,l){if(w(a)){for(var u=a.length;u--;)if(qM(a[u]-l)<=10)return a[u]}else{var h=l%(a=+a);if(h<10)return l-h;if(h>a-10)return l-h+a}return l}function o(a,l){return a.waypoints?JM(l,a):a.width?{x:pS(a.width/2+a.x),y:pS(a.height/2+a.y)}:void 0}e.on("connectionSegment.move.move",1500,(function(a){var l,u,h=(function(_){var S=_.context,k=S.snapPoints,R=S.connection,O=R.waypoints,F=S.segmentStart,I=S.segmentStartIndex,P=S.segmentEnd,U=S.segmentEndIndex,K=S.axis;if(k)return k;var Y=[O[I-1],F,P,O[U+1]];return I<2&&Y.unshift(o(R.source,_)),U>O.length-3&&Y.unshift(o(R.target,_)),S.snapPoints=k={horizontal:[],vertical:[]},A(Y,(function(se){se&&(se=se.original||se,K==="y"&&k.horizontal.push(se.y),K==="x"&&k.vertical.push(se.x))})),k})(a),p=a.x,m=a.y;if(h){var v=p-(l=n(h.vertical,p)),x=m-(u=n(h.horizontal,m));ie(a,{dx:a.dx-v,dy:a.dy-x,x:l,y:u}),(v||h.vertical.indexOf(p)!==-1)&&Jn(a,"x",l),(x||h.horizontal.indexOf(m)!==-1)&&Jn(a,"y",u)}})),e.on(["connect.hover","connect.move","connect.end"],1500,(function(a){var l=a.context.hover,u=l&&o(l,a);mn(l)&&u&&u.x&&u.y&&(Jn(a,"x",u.x),Jn(a,"y",u.y))})),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,(function(a){var l,u,h=a.context,p=(function(R){var O=R.snapPoints,F=R.connection.waypoints,I=R.bendpointIndex;if(O)return O;var P=[F[I-1],F[I+1]];return R.snapPoints=O={horizontal:[],vertical:[]},A(P,(function(U){U&&(U=U.original||U,O.horizontal.push(U.y),O.vertical.push(U.x))})),O})(h),m=h.hover,v=m&&o(m,a),x=a.x,_=a.y;if(p){var S=x-(l=n(v?p.vertical.concat([v.x]):p.vertical,x)),k=_-(u=n(v?p.horizontal.concat([v.y]):p.horizontal,_));ie(a,{dx:a.dx-S,dy:a.dy-k,x:a.x-S,y:a.y-k}),(S||p.vertical.indexOf(x)!==-1)&&Jn(a,"x",l),(k||p.horizontal.indexOf(_)!==-1)&&Jn(a,"y",u)}}))}hS.$inject=["eventBus"];var eD={__depends__:[qo,To],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",Zw],bendpointMove:["type",py],bendpointMovePreview:["type",nS],connectionSegmentMove:["type",lS],bendpointSnapping:["type",hS]};function mS(e,n,o,a){function l(u,h){return a.allowed("connection.create",{source:u,target:h})}e.on("connect.hover",(function(u){var h,p=u.context,m=p.start,v=u.hover;if(p.hover=v,!E(h=p.canExecute=l(m,v))){if(h!==!1)return p.source=m,void(p.target=v);E(h=p.canExecute=l(v,m))||h!==!1&&(p.source=v,p.target=m)}})),e.on(["connect.out","connect.cleanup"],(function(u){var h=u.context;h.hover=null,h.source=null,h.target=null,h.canExecute=!1})),e.on("connect.end",(function(u){var h=u.context,p=h.canExecute,m=h.connectionStart,v={x:u.x,y:u.y},x=h.source,_=h.target;if(!p)return!1;var S=null,k={connectionStart:my(h)?v:m,connectionEnd:my(h)?m:v};C(p)&&(S=p),h.connection=o.connect(x,_,S,k)})),this.start=function(u,h,p,m){C(p)||(m=p,p=vt(h)),n.init(u,"connect",{autoActivate:m,data:{shape:h,context:{start:h,connectionStart:p}}})}}function my(e){var n=e.hover,o=e.source,a=e.target;return n&&o&&n===o&&o!==a}mS.$inject=["eventBus","dragging","modeling","rules"];var gS="connect-ok",vS="connect-not-ok";function yS(e,n,o){var a=e.get("connectionPreview",!1);a&&n.on("connect.move",(function(l){var u=l.context,h=u.canExecute,p=u.hover,m=u.source,v=u.start,x=u.startPosition,_=u.target,S=u.connectionStart||x,k=u.connectionEnd||{x:l.x,y:l.y},R=S,O=k;my(u)&&(R=k,O=S),a.drawPreview(u,h,{source:m||v,target:_||p,connectionStart:R,connectionEnd:O})})),n.on("connect.hover",900,(function(l){var u=l.context,h=l.hover,p=u.canExecute;p!==null&&o.addMarker(h,p?gS:vS)})),n.on(["connect.out","connect.cleanup"],1100,(function(l){var u=l.hover;u&&(o.removeMarker(u,gS),o.removeMarker(u,vS))})),a&&n.on("connect.cleanup",(function(l){a.cleanUp(l.context)}))}yS.$inject=["injector","eventBus","canvas"];var gy={__depends__:[Bi,To,qo],__init__:["connectPreview"],connect:["type",mS],connectPreview:["type",yS]};function ea(e,n,o,a){this._canvas=n,this._graphicsFactory=o,this._elementFactory=a,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}ea.$inject=["injector","canvas","graphicsFactory","elementFactory"],ea.prototype.drawPreview=function(e,n,o){o=o||{};var a,l,u,h=e.connectionPreviewGfx,p=e.getConnection,m=o.source,v=o.target,x=o.waypoints,_=o.connectionStart,S=o.connectionEnd,k=o.noLayout,R=o.noCropping,O=o.noNoop,F=this;h||(h=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),Da(h),p||(p=e.getConnection=(l=function(I,P,U){return F.getConnection(I,P,U)},u={},function(I){var P=JSON.stringify(I),U=u[P];return U||(U=u[P]=l.apply(null,arguments)),U})),n&&(a=p(n,m,v)),a?(a.waypoints=x||[],this._layouter&&!k&&(a.waypoints=this._layouter.layoutConnection(a,{source:m,target:v,connectionStart:_,connectionEnd:S,waypoints:o.waypoints||a.waypoints})),a.waypoints&&a.waypoints.length||(a.waypoints=[m?vt(m):_,v?vt(v):S]),this._connectionDocking&&(m||v)&&!R&&(a.waypoints=this._connectionDocking.getCroppedWaypoints(a,m,v)),this._graphicsFactory.drawConnection(h,a,{stroke:"var(--element-dragger-color)"})):!O&&this.drawNoopPreview(h,o)},ea.prototype.drawNoopPreview=function(e,n){var o=n.source,a=n.target,l=n.connectionStart||vt(o),u=n.connectionEnd||vt(a),h=this.cropWaypoints(l,u,o,a);We(e,this.createNoopConnection(h[0],h[1]))},ea.prototype.cropWaypoints=function(e,n,o,a){var l=this._graphicsFactory,u=o&&l.getShapePath(o),h=a&&l.getShapePath(a),p=l.getConnectionPath({waypoints:[e,n]});return[e=o&&_u(u,p,!0)||e,n=a&&_u(h,p,!1)||n]},ea.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&Wn(e.connectionPreviewGfx)},ea.prototype.getConnection=function(e){var n=(function(o){return C(o)?o:{}})(e);return this._elementFactory.createConnection(n)},ea.prototype.createConnectionPreviewGfx=function(){var e=ut("g");return Ne(e,{pointerEvents:"none"}),rt(e).add("djs-dragger"),We(this._canvas.getActiveLayer(),e),e},ea.prototype.createNoopConnection=function(e,n){return gu([e,n],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};var tD={__init__:["connectionPreview"],connectionPreview:["type",ea]};const nD=new Nu("ps");var rD=["marker-start","marker-mid","marker-end"],iD=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Ya(e,n,o,a){this._elementRegistry=e,this._canvas=o,this._styles=a}Ya.$inject=["elementRegistry","eventBus","canvas","styles"],Ya.prototype.cleanUp=function(){console.warn("PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906")},Ya.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},Ya.prototype.addDragger=function(e,n,o,a="djs-dragger"){var l=tp(o=o||this.getGfx(e)),u=o.getBoundingClientRect();return this._cloneMarkers(Vs(l),a),Ne(l,this._styles.cls(a,[],{x:u.top,y:u.left})),We(n,l),Ne(l,"data-preview-support-element-id",e.id),l},Ya.prototype.addFrame=function(e,n){var o=ut("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return We(n,o),Ne(o,"data-preview-support-element-id",e.id),o},Ya.prototype._cloneMarkers=function(e,n="djs-dragger",o=e){var a=this;e.childNodes&&e.childNodes.forEach((l=>{a._cloneMarkers(l,n,o)})),(function(l){return iD.indexOf(l.nodeName)!==-1})(e)&&rD.forEach((function(l){if(Ne(e,l)){var u=(function(h,p,m){var v=(x=Ne(h,p),x.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]),x;return Ke("marker#"+v,m||document)})(e,l,a._canvas.getContainer());u&&a._cloneMarker(o,e,u,l,n)}}))},Ya.prototype._cloneMarker=function(e,n,o,a,l="djs-dragger"){var u=[o.id,l,nD.next()].join("-"),h=Ke("marker#"+o.id,e);e=e||this._canvas._svg;var p=h||tp(o);p.id=u,rt(p).add(l);var m=Ke(":scope > defs",e);m||We(e,m=ut("defs")),We(m,p),Ne(n,a,"url(#"+p.id+")")};var fc={__init__:["previewSupport"],previewSupport:["type",Ya]};const Xp="complex-preview";class bS{constructor(n,o,a){this._canvas=n,this._graphicsFactory=o,this._previewSupport=a,this._markers=[]}create(n){this.cleanUp();const{created:o=[],moved:a=[],removed:l=[],resized:u=[]}=n,h=this._canvas.getLayer(Xp);o.filter((p=>!(function(m){return m.hidden})(p))).forEach((p=>{let m;mn(p)?(m=this._graphicsFactory._createContainer("connection",ut("g")),this._graphicsFactory.drawConnection(Vs(m),p)):(m=this._graphicsFactory._createContainer("shape",ut("g")),this._graphicsFactory.drawShape(Vs(m),p),Er(m,p.x,p.y)),this._previewSupport.addDragger(p,h,m)})),a.forEach((({element:p,delta:m})=>{this._previewSupport.addDragger(p,h,void 0,"djs-dragging"),this._canvas.addMarker(p,"djs-element-hidden"),this._markers.push([p,"djs-element-hidden"]);const v=this._previewSupport.addDragger(p,h);mn(p)?Er(v,m.x,m.y):Er(v,p.x+m.x,p.y+m.y)})),l.forEach((p=>{this._previewSupport.addDragger(p,h,void 0,"djs-dragging"),this._canvas.addMarker(p,"djs-element-hidden"),this._markers.push([p,"djs-element-hidden"])})),u.forEach((({shape:p,bounds:m})=>{this._canvas.addMarker(p,"djs-hidden"),this._markers.push([p,"djs-hidden"]),this._previewSupport.addDragger(p,h,void 0,"djs-dragging");const v=this._graphicsFactory._createContainer("shape",ut("g"));this._graphicsFactory.drawShape(Vs(v),p,{width:m.width,height:m.height}),Er(v,m.x,m.y),this._previewSupport.addDragger(p,h,v)}))}cleanUp(){Da(this._canvas.getLayer(Xp)),this._markers.forEach((([n,o])=>this._canvas.removeMarker(n,o))),this._markers=[]}show(){this._canvas.showLayer(Xp)}hide(){this._canvas.hideLayer(Xp)}}bS.$inject=["canvas","graphicsFactory","previewSupport"];var oD={__depends__:[fc],__init__:["complexPreview"],complexPreview:["type",bS]},vy=["top","bottom","left","right"],Yp=10;function yy(e,n){function o(a){if(yp(a)&&!mn(a)){var l=(function(u){var h=vt(u.label),p=vt(u),m=xS(p,h);if(v=m,vy.indexOf(v)!==-1){var v,x=(function(k){var R=vt(k),O=[].concat(k.incoming.map((function(F){return F.waypoints[F.waypoints.length-2]})),k.outgoing.map((function(F){return F.waypoints[1]}))).map((function(F){return xS(R,F)}));return O})(u);if(u.host){var _=(function(k){var R,O=k.host,F=vt(k),I=Ar(F,O);R=I.indexOf("-")>=0?I.split("-"):[I];var P=vy.filter((function(U){return R.indexOf(U)===-1}));return P})(u);x=x.concat(_)}var S=vy.filter((function(k){return x.indexOf(k)===-1}));if(S.indexOf(m)===-1)return S[0]}})(a);l&&(function(u,h){var p=vt(u),m=u.label,v=vt(m);if(m.parent){var x,_=mt(u);switch(h){case"top":x={x:p.x,y:_.top-Yp-m.height/2};break;case"left":x={x:_.left-Yp-m.width/2,y:p.y};break;case"bottom":x={x:p.x,y:_.bottom+Yp+m.height/2};break;case"right":x={x:_.right+Yp+m.width/2,y:p.y}}var S=io(x,v);n.moveShape(m,S)}})(a,l)}}Fe.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],(function(a){var l=a.context,u=l.connection,h=u.source,p=u.target;(l.hints||{}).createElementsBehavior!==!1&&(o(h),o(p))})),this.postExecuted(["label.create"],(function(a){var l=a.context,u=l.shape;(l.hints||{}).createElementsBehavior!==!1&&o(u.labelTarget)})),this.postExecuted(["elements.create"],(function(a){var l=a.context,u=l.elements;(l.hints||{}).createElementsBehavior!==!1&&u.forEach((function(h){o(h)}))}))}function xS(e,n){return Ar(n,e,5)}function by(e){Fe.call(this,e),this.preExecute("shape.append",(function(n){var o=n.source,a=n.shape;n.position||(j(a,"bpmn:TextAnnotation")?n.position={x:o.x+o.width/2+75,y:o.y-50-a.height/2}:n.position={x:o.x+o.width+80+a.width/2,y:o.y+o.height/2})}),!0)}function xy(e,n){e.invoke(Fe,this),this.postExecute("shape.move",(function(o){var a=o.newParent,l=o.shape;A(M(l.incoming.concat(l.outgoing),(function(u){return j(u,"bpmn:Association")})),(function(u){n.moveConnection(u,{x:0,y:0},a)}))}),!0)}i(yy,Fe),yy.$inject=["eventBus","modeling"],i(by,Fe),by.$inject=["eventBus"],i(xy,Fe),xy.$inject=["injector","modeling"];function Zp(e,n){n.invoke(Fe,this),this._bpmnReplace=e;var o=this;this.postExecuted("elements.create",500,(function(a){var l=a.elements;(l=l.filter((function(u){return _S(u,u.host)}))).length===1&&l.map((function(u){return l.indexOf(u)})).forEach((function(u){var h=l[u];a.elements[u]=o._replaceShape(l[u],h)}))}),!0),this.preExecute("elements.move",500,(function(a){var l=a.shapes,u=a.newHost;if(l.length===1){var h=l[0];_S(h,u)&&(a.shapes=[o._replaceShape(h,u)])}}),!0)}function _S(e,n){return!Bt(e)&&Ot(e,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!n}function _y(e,n){function o(a){return M(a.attachers,(function(l){return j(l,"bpmn:BoundaryEvent")}))}Fe.call(this,e),this.postExecute("connection.create",(function(a){var l=a.context.source,u=a.context.target,h=o(u);j(l,"bpmn:EventBasedGateway")&&j(u,"bpmn:ReceiveTask")&&h.length>0&&n.removeElements(h)})),this.postExecute("connection.reconnect",(function(a){var l=a.context.oldSource,u=a.context.newSource;j(l,"bpmn:Gateway")&&j(u,"bpmn:EventBasedGateway")&&A(u.outgoing,(function(h){var p=h.target,m=o(p);j(p,"bpmn:ReceiveTask")&&m.length>0&&n.removeElements(m)}))}))}function Ey(e,n,o){function a(u){n.updateProperties(u,{isForCompensation:!0})}function l(u){n.updateProperties(u,{isForCompensation:void 0})}Fe.call(this,e),this.preExecute("shape.replace",(function(u){const{newData:h,oldShape:p}=u;if(dc(u.oldShape)&&h.eventDefinitionType!=="bpmn:CompensateEventDefinition"||h.type!=="bpmn:BoundaryEvent"){const m=p.outgoing.find((({target:v})=>zu(v)));m&&m.target&&(u._connectionTarget=m.target)}else if(!dc(u.oldShape)&&h.eventDefinitionType==="bpmn:CompensateEventDefinition"&&h.type==="bpmn:BoundaryEvent"){const m=p.outgoing.find((({target:v})=>Jp(v)));m&&m.target&&(u._connectionTarget=m.target),(function(v){const x=v.outgoing.filter((_=>j(_,"bpmn:SequenceFlow")));n.removeElements(x)})(p)}}),!0),this.postExecuted("shape.replace",(function(u){const{_connectionTarget:h,newShape:p}=u;h&&n.connect(p,h)}),!0),this.preExecute("connection.create",(function(u){const h=u.connection,p=u.source,m=u.target;dc(p)&&Jp(m)&&(a(m),(function(v,x){v.outgoing.filter((k=>j(k,"bpmn:Association"))).filter((k=>zu(k.target)&&!x.includes(k))).forEach((k=>n.removeConnection(k)))})(p,[h]))}),!0),this.postExecuted("connection.delete",(function(u){const h=u.source,p=u.target;dc(h)&&zu(p)&&l(p)}),!0),this.postExecuted("connection.reconnect",(function(u){const h=u.newTarget,p=u.oldSource,m=u.oldTarget;if(m!==h){const v=p;zu(m)&&l(m),dc(v)&&Jp(h)&&a(h)}}),!0),this.postExecuted("element.updateProperties",(function(u){const{element:h}=u;zu(h)?((function(p){for(const m of p.incoming)o.canConnect(m.source,p)||n.removeConnection(m);for(const m of p.outgoing)o.canConnect(p,m.target)||n.removeConnection(m)})(h),(function(p){const m=p.attachers.slice();m.length&&n.removeElements(m)})(h)):Jp(h)&&(function(p){const m=p.incoming.filter((v=>dc(v.source)));n.removeElements(m)})(h)}),!0)}function zu(e){const n=je(e);return n&&n.get("isForCompensation")}function dc(e){return e&&j(e,"bpmn:BoundaryEvent")&&Zl(e,"bpmn:CompensateEventDefinition")}function Jp(e){return e&&j(e,"bpmn:Activity")&&!Nr(e)}function wy(e){e.invoke(Fe,this),this.preExecute("shape.create",1500,(function(n){var o=n.context,a=o.parent,l=o.shape;j(a,"bpmn:Lane")&&!j(l,"bpmn:Lane")&&(o.parent=sc(a,"bpmn:Participant"))}))}function Sy(e,n){Fe.call(this,e),this.preExecute("shape.create",(function(o){var a=o.context.shape;if(j(a,"bpmn:DataObjectReference")&&a.type!=="label"){var l=n.create("bpmn:DataObject");l.isCollection=a.businessObject.dataObjectRef?.isCollection||!1,a.businessObject.dataObjectRef=l}}))}Zp.$inject=["bpmnReplace","injector"],i(Zp,Fe),Zp.prototype._replaceShape=function(e,n){var o,a=(o=je(e).eventDefinitions)&&o[0],l={type:"bpmn:BoundaryEvent",host:n};return a&&(l.eventDefinitionType=a.$type),this._bpmnReplace.replaceElement(e,l,{layoutConnection:!1})},_y.$inject=["eventBus","modeling"],i(_y,Fe),i(Ey,Fe),Ey.$inject=["eventBus","modeling","bpmnRules"],wy.$inject=["injector"],i(wy,Fe),Sy.$inject=["eventBus","bpmnFactory"],i(Sy,Fe);var ES=20,wS=20,Qp=2e3;function Cy(e,n,o){function a(){var l=e.getRootElement();return j(l,"bpmn:Collaboration")?l:o.makeCollaboration()}Fe.call(this,n),n.on(["create.start","shape.move.start"],Qp,(function(l){var u=l.context,h=u.shape,p=e.getRootElement();if(j(h,"bpmn:Participant")&&j(p,"bpmn:Process")&&p.children.length){var m=p.children.filter((function(_){return!j(_,"bpmn:Group")&&!Bt(_)&&!mn(_)}));if(m.length){var v=ir(m),x=(function(_,S){S={width:S.width+40+30,height:S.height+40};var k=Math.max(_.width,S.width),R=Math.max(_.height,S.height);return{x:-k/2,y:-R/2,width:k,height:R}})(h,v);ie(h,x),u.createConstraints=(function(_,S){return S=mt(S),{bottom:S.top+_.height/2-wS,left:S.right-_.width/2+ES,top:S.bottom-_.height/2+wS,right:S.left+_.width/2-ES-30}})(h,v)}}})),n.on("create.start",Qp,(function(l){var u=l.context.shape,h=e.getRootElement(),p=e.getGraphics(h);function m(v){v.element=h,v.gfx=p}j(u,"bpmn:Participant")&&j(h,"bpmn:Process")&&(n.on("element.hover",Qp,m),n.once("create.cleanup",(function(){n.off("element.hover",m)})))})),this.preExecute("elements.create",Qp,(function(l){var u,h=l.elements,p=l.parent,m=(function(v){return N(v,(function(x){return j(x,"bpmn:Participant")}))})(h);m&&j(p,"bpmn:Process")&&(l.parent=a(),(u=l.hints=l.hints||{}).participant=m,u.process=p,u.processRef=je(m).get("processRef"))}),!0),this.preExecute("shape.create",(function(l){var u=l.parent,h=l.shape;j(h,"bpmn:Participant")&&j(u,"bpmn:Process")&&(l.parent=a(),l.process=u,l.processRef=je(h).get("processRef"))}),!0),this.execute("shape.create",(function(l){var u=l.hints||{},h=l.process||u.process,p=l.shape,m=u.participant;!h||m&&p!==m||je(p).set("processRef",je(h))}),!0),this.revert("shape.create",(function(l){var u=l.hints||{},h=l.process||u.process,p=l.processRef||u.processRef,m=l.shape,v=u.participant;!h||v&&m!==v||je(m).set("processRef",p)}),!0),this.postExecute("shape.create",(function(l){var u=l.hints||{},h=l.process||l.hints.process,p=l.shape,m=u.participant;if(h){var v=h.children.slice();m?p===m&&o.moveElements(v,{x:0,y:0},m):o.moveElements(v,{x:0,y:0},p)}}),!0)}Cy.$inject=["canvas","eventBus","modeling"],i(Cy,Fe);var SS="__targetRef_placeholder";function Ty(e,n){function o(u,h){var p=u.get("properties"),m=N(p,(function(v){return v.name===SS}));return!m&&h&&or(p,m=n.create("bpmn:Property",{name:SS})),m}function a(u,h){var p=o(u);p&&((function(m,v,x){return N(m.get("dataInputAssociations"),(function(_){return _!==x&&_.targetRef===v}))})(u,p,h)||Kn(u.get("properties"),p))}function l(u){var h,p=u.context,m=p.connection,v=m.businessObject,x=m.target,_=x&&x.businessObject,S=p.newTarget,k=S&&S.businessObject,R=p.oldTarget||p.target,O=R&&R.businessObject,F=m.businessObject;O&&O!==_&&a(O,v),k&&k!==_&&a(k,v),_?(h=o(_,!0),F.targetRef=h):F.targetRef=null}Fe.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],CS(l)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],CS(l))}function CS(e){return function(n){if(j(n.context.connection,"bpmn:DataInputAssociation"))return e(n)}}function qp(e){this._bpmnUpdater=e}function ky(e,n,o,a){function l(h){return h.children.filter((function(p){return j(p,"bpmn:DataStoreReference")&&!p.labelTarget}))}function u(h,p){var m=h.businessObject||h;if(p=p||o.filter((function(x){return j(x,"bpmn:Participant")&&je(x).processRef}))[0]){var v=p.businessObject||p;n.execute("dataStore.updateContainment",{dataStoreBo:m,dataStoreDi:Yt(h),newSemanticParent:v.processRef||v,newDiParent:Yt(p)})}}Fe.call(this,a),n.registerHandler("dataStore.updateContainment",qp),this.preExecute("shape.create",(function(h){var p=h.context,m=p.shape;j(m,"bpmn:DataStoreReference")&&m.type!=="label"&&(p.hints||(p.hints={}),p.hints.autoResize=!1)})),this.preExecute("elements.move",(function(h){var p=h.context,m=p.shapes;m.filter((function(v){return j(v,"bpmn:DataStoreReference")})).length&&(p.hints||(p.hints={}),p.hints.autoResize=m.filter((function(v){return!j(v,"bpmn:DataStoreReference")})))})),this.postExecute("shape.create",(function(h){var p=h.context.shape,m=p.parent;j(p,"bpmn:DataStoreReference")&&p.type!=="label"&&j(m,"bpmn:Collaboration")&&u(p)})),this.postExecute("shape.move",(function(h){var p=h.context,m=p.shape,v=p.oldParent,x=m.parent;j(v,"bpmn:Collaboration")||j(m,"bpmn:DataStoreReference")&&m.type!=="label"&&j(x,"bpmn:Collaboration")&&u(m,j(v,"bpmn:Participant")?v:(function(_,S){for(;_.parent;){if(j(_.parent,S))return _.parent;_=_.parent}})(v,"bpmn:Participant"))})),this.postExecute("shape.delete",(function(h){var p=h.context.shape,m=e.getRootElement();Ot(p,["bpmn:Participant","bpmn:SubProcess"])&&j(m,"bpmn:Collaboration")&&l(m).filter((function(v){return(function(x,_){for(var S=x.businessObject||x,k=_.businessObject||_;S.$parent;){if(S.$parent===k.processRef||k)return!0;S=S.$parent}return!1})(v,p)})).forEach((function(v){u(v)}))})),this.postExecute("canvas.updateRoot",(function(h){var p=h.context,m=p.oldRoot,v=p.newRoot;l(m).forEach((function(x){j(v,"bpmn:Process")&&u(x,v)}))}))}Ty.$inject=["eventBus","bpmnFactory"],i(Ty,Fe),qp.$inject=["bpmnUpdater"],qp.prototype.execute=function(e){var n=e.dataStoreBo,o=e.dataStoreDi,a=e.newSemanticParent,l=e.newDiParent;return e.oldSemanticParent=n.$parent,e.oldDiParent=o.$parent,this._bpmnUpdater.updateSemanticParent(n,a),this._bpmnUpdater.updateDiParent(o,l),[]},qp.prototype.revert=function(e){var n=e.dataStoreBo,o=e.dataStoreDi,a=e.oldSemanticParent,l=e.oldDiParent;return this._bpmnUpdater.updateSemanticParent(n,a),this._bpmnUpdater.updateDiParent(o,l),[]},ky.$inject=["canvas","commandStack","elementRegistry","eventBus"],i(ky,Fe);var eh=Math.max,th=Math.min;function TS(e,n){return{top:e.top-n.top,right:e.right-n.right,bottom:e.bottom-n.bottom,left:e.left-n.left}}function nh(e,n,o){var a=n[e],l=o.min&&o.min[e],u=o.max&&o.max[e];return T(l)&&(a=(/top|left/.test(e)?th:eh)(a,l)),T(u)&&(a=(/top|left/.test(e)?eh:th)(a,u)),a}function Gu(e,n){return e!==void 0?e:20}function aD(e){return!e.waypoints&&e.type!=="label"}function kS(e,n){var o;if((o=e.length===void 0?M(e.children,aD):e).length)return(function(a,l){var u,h,p,m;return typeof l=="object"?(u=Gu(l.left),h=Gu(l.right),p=Gu(l.top),m=Gu(l.bottom)):u=h=p=m=Gu(l),{x:a.x-u,y:a.y-p,width:a.width+u+h,height:a.height+p+m}})(ir(o),n)}var Za=Math.abs,sD=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],Hi=30;function rh(e,n){return n=n||[],e.children.filter((function(o){j(o,"bpmn:Lane")&&(rh(o,n),n.push(o))})),n}function Ja(e){return e.children.filter((function(n){return j(n,"bpmn:Lane")}))}function Ui(e){return sc(e,sD)||e}function lD(e,n){var o=Ui(e),a=rh(o,j(o,"bpmn:Process")?[]:[o]),l=mt(e),u=mt(n),h=(function(v,x){return TS(mt(x),mt(v))})(e,n),p=[],m=fr(e);return a.forEach((function(v){if(v!==e){var x,_,S=m?0:h.top,k=m?h.right:0,R=m?0:h.bottom,O=m?h.left:0,F=mt(v);h.top&&(Za(F.bottom-l.top)<10&&(R=u.top-F.bottom),Za(F.top-l.top)<5&&(S=u.top-F.top)),h.left&&(Za(F.right-l.left)<10&&(k=u.left-F.right),Za(F.left-l.left)<5&&(O=u.left-F.left)),h.bottom&&(Za(F.top-l.bottom)<10&&(S=u.bottom-F.top),Za(F.bottom-l.bottom)<5&&(R=u.bottom-F.bottom)),h.right&&(Za(F.left-l.right)<10&&(O=u.right-F.left),Za(F.right-l.right)<5&&(k=u.right-F.right)),(S||k||R||O)&&p.push({shape:v,newBounds:(x=v,_={top:S,right:k,bottom:R,left:O},{x:x.x+(_.left||0),y:x.y+(_.top||0),width:x.width-(_.left||0)+(_.right||0),height:x.height-(_.top||0)+(_.bottom||0)})})}})),p}function Ay(e,n){Fe.call(this,e),this.postExecuted("shape.delete",500,(function(o){var a=o.context,l=a.hints,u=a.shape,h=a.oldParent;j(u,"bpmn:Lane")&&(l&&l.nested||(function(p,m){var v,x,_,S,k,R=fr(p),O=Ja(m),F=[],I=[],P=[],U=[];js(O,(function(K){return R?K.y>p.y?I.push(K):F.push(K):K.x>p.x?U.push(K):P.push(K),K.children})),O.length&&(v=R?I.length&&F.length?p.height/2:p.height:U.length&&P.length?p.width/2:p.width,F.length&&(x=n.calculateAdjustments(F,"y",v,p.y-10),n.makeSpace(x.movingShapes,x.resizingShapes,{x:0,y:v},"s")),I.length&&(_=n.calculateAdjustments(I,"y",-v,p.y+p.height+10),n.makeSpace(_.movingShapes,_.resizingShapes,{x:0,y:-v},"n")),P.length&&(S=n.calculateAdjustments(P,"x",v,p.x-10),n.makeSpace(S.movingShapes,S.resizingShapes,{x:v,y:0},"e")),U.length&&(k=n.calculateAdjustments(U,"x",-v,p.x+p.width+10),n.makeSpace(k.movingShapes,k.resizingShapes,{x:-v,y:0},"w")))})(u,h))}))}Ay.$inject=["eventBus","spaceTool"],i(Ay,Fe);function ih(e,n){n.invoke(Fe,this),this._bpmnReplace=e;var o=this;this.postExecuted("elements.create",500,(function(a){var l=a.elements;l.filter((function(u){return AS(u,u.host)})).map((function(u){return l.indexOf(u)})).forEach((function(u){a.elements[u]=o._replaceShape(l[u])}))}),!0),this.preExecute("elements.move",500,(function(a){var l=a.shapes,u=a.newHost;l.forEach((function(h,p){var m,v=h.host;AS(h,(m=v,l.indexOf(m)!==-1?v:u))&&(l[p]=o._replaceShape(h))}))}),!0)}function AS(e,n){return!Bt(e)&&j(e,"bpmn:BoundaryEvent")&&!n}function Ry(e,n,o){function a(l,u,h){var p,m,v,x,_,S,k,R,O=u.waypoints,F=l.outgoing.slice(),I=l.incoming.slice(),P=cy(O,R=T(h.width)?vt(h):h);if(P){if(p=O.slice(0,P.index),m=O.slice(P.index+(P.bendpoint?1:0)),!p.length||!m.length)return;v=P.bendpoint?O[P.index]:R,p.length!==1&&RS(l,p[p.length-1])||p.push(PS(v)),m.length!==1&&RS(l,m[0])||m.unshift(PS(v))}x=u.source,_=u.target,n.canConnect(x,l,u)&&(o.reconnectEnd(u,l,p||R),S=u),n.canConnect(l,_,u)&&(S?k=o.connect(l,_,{type:u.type,waypoints:m}):(o.reconnectStart(u,l,m||R),k=u));var U=[].concat(S&&M(I,(function(K){return K.source===S.source}))||[],k&&M(F,(function(K){return K.target===k.target}))||[]);U.length&&o.removeElements(U)}Fe.call(this,e),this.preExecute("elements.move",(function(l){var u=l.newParent,h=l.shapes,p=l.delta,m=h[0];if(m&&u){u&&u.waypoints&&(l.newParent=u=u.parent);var v=vt(m),x={x:v.x+p.x,y:v.y+p.y},_=N(u.children,(function(S){return n.canInsert(h,S)&&cy(S.waypoints,x)}));_&&(l.targetFlow=_,l.position=x)}}),!0),this.postExecuted("elements.move",(function(l){var u=l.shapes,h=l.targetFlow,p=l.position;h&&a(u[0],h,p)}),!0),this.preExecute("shape.create",(function(l){var u=l.parent,h=l.shape;n.canInsert(h,u)&&(l.targetFlow=u,l.parent=u.parent)}),!0),this.postExecuted("shape.create",(function(l){var u=l.shape,h=l.targetFlow,p=l.position;h&&a(u,h,p)}),!0)}function RS(e,n){var o=n.x,a=n.y;return o>=e.x&&o<=e.x+e.width&&a>=e.y&&a<=e.y+e.height}function PS(e){return ie({},e)}function Py(e,n){Fe.call(this,e),this.preExecuted("connection.create",(function(o){var a=o.context,l=a.connection,u=a.source,h=a.target,p=a.hints;(!p||p.createElementsBehavior!==!1)&&pc(l)&&(j(u,"bpmn:EventBasedGateway")?h.incoming.filter((m=>m!==l&&pc(m))):h.incoming.filter((m=>m!==l&&pc(m)&&j(m.source,"bpmn:EventBasedGateway")))).forEach((function(m){n.removeConnection(m)}))})),this.preExecuted("shape.replace",(function(o){var a=o.context.newShape;j(a,"bpmn:EventBasedGateway")&&a.outgoing.filter(pc).reduce((function(l,u){return l.includes(u.target)?l:l.concat(u.target)}),[]).forEach((function(l){l.incoming.filter(pc).forEach((function(u){const h=l.incoming.filter(pc).filter((function(p){return p.source===a}));(u.source!==a||h.length>1)&&n.removeConnection(u)}))}))}))}function pc(e){return j(e,"bpmn:SequenceFlow")}ih.$inject=["bpmnReplace","injector"],i(ih,Fe),ih.prototype._replaceShape=function(e){var n,o,a=(o=je(e).eventDefinitions)&&o[0];return n=a?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:a.$type}:{type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(e,n,{layoutConnection:!1})},i(Ry,Fe),Ry.$inject=["eventBus","bpmnRules","modeling"],Py.$inject=["eventBus","modeling"],i(Py,Fe);var oh=1500;function NS(e,n,o){n.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],oh,(function(a){var l=a.context.shape||a.shape,u=a.hover;j(u,"bpmn:Lane")&&!Ot(l,["bpmn:Lane","bpmn:Participant"])&&(a.hover=Ui(u),a.hoverGfx=e.getGraphics(a.hover));var h=o.getRootElement();u!==h&&(l.labelTarget||Ot(l,["bpmn:Group","bpmn:TextAnnotation"]))&&(a.hover=h,a.hoverGfx=e.getGraphics(a.hover))})),n.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],oh,(function(a){var l=a.hover;j(l,"bpmn:Lane")&&(a.hover=Ui(l)||l,a.hoverGfx=e.getGraphics(a.hover))})),n.on(["bendpoint.move.hover"],oh,(function(a){var l=a.context,u=a.hover,h=l.type;j(u,"bpmn:Lane")&&/reconnect/.test(h)&&(a.hover=Ui(u)||u,a.hoverGfx=e.getGraphics(a.hover))})),n.on(["connect.start"],oh,(function(a){var l=a.context,u=l.start;j(u,"bpmn:Lane")&&(l.start=Ui(u)||u)})),n.on("shape.move.start",2e3,(function(a){var l=a.shape;j(l,"bpmn:Lane")&&(a.shape=Ui(l)||l)})),n.on("spaceTool.move",2e3,(function(a){var l=a.hover;l&&j(l,"bpmn:Lane")&&(a.hover=Ui(l))}))}NS.$inject=["elementRegistry","eventBus","canvas"];function Ny(e,n,o,a,l,u){function h(_,S,k){var R=o.filter((function(O){return j(O,"bpmn:Group")})).filter((function(O){return O.businessObject!==k}));S&&!(function(O,F){return O.some((function(I){var P=je(I);return(P.categoryValueRef&&P.categoryValueRef.$parent)===F}))})(R,S)&&(function(O){var F=O.$parent;F&&(Kn(F.get("rootElements"),O),O.$parent=null)})(S),_&&!(function(O,F){return O.some((function(I){return je(I).categoryValueRef===F}))})(R,_)&&(function(O){var F=O.$parent;F&&(Kn(F.get("categoryValue"),O),O.$parent=null)})(_)}function p(_,S){return(function(k,R,O){return or(R.get("categoryValue"),k),k.$parent=R,or(O.get("rootElements"),R),R.$parent=O,k})(_,S,n.getDefinitions())}function m(_,S){var k=je(_),R=k.categoryValueRef;R||(R=k.categoryValueRef=S.categoryValue=S.categoryValue||(function(F){return F.create("bpmn:CategoryValue")})(e));var O=R.$parent;O||(O=R.$parent=S.category=S.category||(function(F){return F.create("bpmn:Category")})(e)),p(R,O,n.getDefinitions())}function v(_,S){var k=S.category,R=S.categoryValue,O=je(_);R?(O.categoryValueRef=null,h(R,k,O)):h(null,O.categoryValueRef.$parent,O)}function x(_,S){var k=e.create(_.$type);return u.copyElement(_,k,null,S)}l.invoke(Fe,this),this.execute("label.create",(function(_){var S=_.context,k=S.labelTarget;j(k,"bpmn:Group")&&m(k,S)})),this.revert("label.create",(function(_){var S=_.context,k=S.labelTarget;j(k,"bpmn:Group")&&v(k,S)})),this.execute("shape.delete",(function(_){var S=_.context,k=S.shape,R=je(k);if(j(k,"bpmn:Group")&&!k.labelTarget){var O=S.categoryValue=R.categoryValueRef;O&&(h(O,S.category=O.$parent,R),R.categoryValueRef=null)}})),this.reverted("shape.delete",(function(_){var S=_.context,k=S.shape;if(j(k,"bpmn:Group")&&!k.labelTarget){var R=S.category,O=S.categoryValue,F=je(k);O&&(F.categoryValueRef=O,p(O,R))}})),this.execute("shape.create",(function(_){var S=_.context,k=S.shape;j(k,"bpmn:Group")&&!k.labelTarget&&je(k).categoryValueRef&&m(k,S)})),this.reverted("shape.create",(function(_){var S=_.context,k=S.shape;j(k,"bpmn:Group")&&!k.labelTarget&&je(k).categoryValueRef&&v(k,S)})),a.on("copyPaste.copyElement",770,(function(_){var S=_.descriptor,k=_.element;if(j(k,"bpmn:Group")&&!k.labelTarget){var R=je(k);if(R.categoryValueRef){var O=R.categoryValueRef;S.categoryValue=x(O,!0),O.$parent&&(S.category=x(O.$parent,!0))}}})),a.on("copyPaste.pasteElement",770,(function(_){var S=_.descriptor,k=S.businessObject,R=S.categoryValue,O=S.category;R&&(R=k.categoryValueRef=x(R)),O&&(R.$parent=x(O)),delete S.category,delete S.categoryValue}))}function Oy(e,n,o,a){var l,u,h,p;return(l=(a.y-o.y)*(n.x-e.x)-(a.x-o.x)*(n.y-e.y))==0?null:(u=e.y-o.y,h=e.x-o.x,p=((a.x-o.x)*u-(a.y-o.y)*h)/l,{x:Math.round(e.x+p*(n.x-e.x)),y:Math.round(e.y+p*(n.y-e.y))})}function OS(e){function n(o,a,l){var u,h={x:l.x,y:l.y-50},p={x:l.x-50,y:l.y},m=Oy(o,a,l,h),v=Oy(o,a,l,p);u=m&&v?MS(m,l)>MS(v,l)?v:m:m||v,o.original=u}e.on("bpmnElement.added",(function(o){var a,l,u=o.element;u.waypoints&&(n((l=(a=u).waypoints)[0],l[1],vt(a.source)),n(l[l.length-1],l[l.length-2],vt(a.target)))}))}function MS(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function My(e){Fe.call(this,e);var n=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],(function(o){var a=o.context.shape,l=je(a),u=Yt(a);if(Ot(l,n)){var h=u.get("isHorizontal");h===void 0&&(h=!0),u.set("isHorizontal",h)}}))}Ny.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],i(Ny,Fe),OS.$inject=["eventBus"],My.$inject=["eventBus"],i(My,Fe);var DS=Math.sqrt,IS=Math.min,cD=Math.max,LS=Math.abs;function $S(e){return Math.pow(e,2)}function Wu(e,n){return DS($S(e.x-n.x)+$S(e.y-n.y))}function uD(e,n,o,a){var l=n.x-e.x,u=n.y-e.y,h=o.x-e.x,p=o.y-e.y,m=l*l+u*u,v=(l*h+u*p)/m,x=v*v-(h*h+p*p-a*a)/m;if(x<0&&x>-1e-6&&(x=0),x<0)return[];var _=DS(x),S=-v+_,k=-v-_,R={x:e.x-l*S,y:e.y-u*S};return x===0?[R]:[R,{x:e.x-l*k,y:e.y-u*k}].filter((function(O){return(function(F,I,P){return BS(F.x,I.x,P.x)&&BS(F.y,I.y,P.y)})(O,e,n)}))}function BS(e,n,o){return e>=IS(n,o)-ah&&e<=cD(n,o)+ah}var ah=.1;function FS(e,n){return LS(e.x-n.x)<=ah&&LS(e.y-n.y)<=ah}function jS(e,n,o,a){var l=0,u=0,h={point:e,delta:{x:0,y:0}},p=(function(ye,st){var Oe,Me,Pe,Ve,nt,Mt,Rt,Dt,Ft,En,Dn,Lt,Ct=0;for(Ct=0;Ct<st.length-1;Ct++){if(FS(Oe=st[Ct],Me=st[Ct+1])?Mt=[Oe]:(Pe=Wu(ye,Oe),Ve=Wu(ye,Me),Mt=uD(Oe,Me,ye,IS(Pe,Ve))),Mt.length<1)throw new Error("expected between [1, 2] circle -> line intersections");Mt.length===1&&(Rt={type:"bendpoint",position:Mt[0],segmentIndex:Ct,bendpointIndex:FS(Oe,Mt[0])?Ct:Ct+1}),Mt.length===2&&(Dn=Mt[0],Lt=Mt[1],Rt={type:"segment",position:nt={x:(Dn.x+Lt.x)/2,y:(Dn.y+Lt.y)/2},segmentIndex:Ct,relativeLocation:Wu(Oe,nt)/Wu(Oe,Me)}),Dt=Wu(Rt.position,ye),(!En||Ft>Dt)&&(En=Rt,Ft=Dt)}return En})(e,o),m=p.segmentIndex,v=(function(ye,st,Oe,Me){var Pe=Oe.segmentIndex,Ve=st.length-ye.length;if(Me.segmentMove){var nt=Me.segmentMove.segmentStartIndex,Mt=Me.segmentMove.newSegmentStartIndex;return Pe===nt?Mt:Pe>=Mt?Pe+Ve<Mt?Mt:Pe+Ve:Pe}if(Me.bendpointMove){var Rt,Dt=Me.bendpointMove.insert,Ft=Me.bendpointMove.bendpointIndex;return Ve===0?Pe:(Pe>=Ft&&(Rt=Dt?Pe+1:Pe-1),Pe<Ft&&(Rt=Pe,Dt&&Oe.type!=="bendpoint"&&Ft-1===Pe&&VS(st,Ft)<Oe.relativeLocation&&Rt++),Rt)}return Ve===0?Pe:Me.connectionStart&&Pe===0?0:Me.connectionEnd&&Pe===ye.length-2?st.length-2:Math.floor((st.length-2)/2)})(o,n,p,a);if(v<0||v>n.length-2||v===null)return h;var x,_,S=HS(o,m),k=HS(n,v),R=p.position,O=(function(ye,st){var Oe=Vu(ye[0],ye[1]),Me=Vu(ye[0],st);return Oe===0?0:Me/Oe})(S,R),F=(x=k,_=zw(S),zw(x)-_);if(p.type==="bendpoint"){var I=n.length-o.length,P=p.bendpointIndex,U=o[P];if(n.indexOf(U)!==-1)return h;if(I===0){var K=n[P];return{delta:{x:l=K.x-p.position.x,y:u=K.y-p.position.y},point:{x:e.x+l,y:e.y+u}}}I<0&&P!==0&&P<o.length-1&&(O=VS(o,P))}var Y,se,Ee={x:(k[1].x-k[0].x)*O+k[0].x,y:(k[1].y-k[0].y)*O+k[0].y},_e=(Y={x:e.x-R.x,y:e.y-R.y},(se=F)?{x:Math.cos(se)*Y.x-Math.sin(se)*Y.y,y:Math.sin(se)*Y.x+Math.cos(se)*Y.y}:Y);return l=Ee.x+_e.x-e.x,u=Ee.y+_e.y-e.y,{point:ja(Ee),delta:ja({x:l,y:u})}}function VS(e,n){var o=Vu(e[n-1],e[n]);return o/(o+Vu(e[n],e[n+1]))}function HS(e,n){return[e[n],e[n+1]]}function Ku(e,n,o){var a=Du(n),l=Du(o),u=io(e,a),h=u.x*(o.width/n.width),p=u.y*(o.height/n.height);return ja({x:l.x+h,y:l.y+p})}function US(e,n,o){var a=Du(e),l=Du(n),u=Du(o),h=io(e,a),p=io(a,l),m=(function(k,R,O){var F=mt(R),I=mt(O);if((function(se,Ee){return(function(_e,ye){return _e.right!==ye.right&&_e.left!==ye.left})(se,Ee)||(function(_e,ye){return _e.top!==ye.top&&_e.bottom!==ye.bottom})(se,Ee)})(F,I))return null;var P,U,K,Y=Ar(R,k);if(Y==="top")P={x:0,y:I.bottom-F.bottom};else if(Y==="bottom")P={x:0,y:I.top-F.top};else if(Y==="right")P={x:I.left-F.left,y:0};else{if(Y!=="left")return null;P={x:I.right-F.right,y:0}}return U={x:k.x+P.x,y:k.y+P.y},K=Ar(O,U),K!==Y?null:P})(a,n,o);if(m)return m;var v=p.x*(o.width/n.width),x=p.y*(o.height/n.height),_=u.x+v,S=u.y+x;return ja({x:_+h.x-e.x,y:S+h.y-e.y})}var zS="name",GS="text";function Dy(e,n,o,a){function l(h){var p=h.context,m=p.element,v=p.properties;if(zS in v&&n.updateLabel(m,v[zS]),GS in v&&j(m,"bpmn:TextAnnotation")){var x=a.getTextAnnotationBounds({x:m.x,y:m.y,width:m.width,height:m.height},v[GS]||"");n.updateLabel(m,v.text,x)}}function u(h){var p=h.context,m=p.connection,v=m.label,x=ie({},p.hints),_=p.newWaypoints||m.waypoints,S=p.oldWaypoints;return x.startChanged===void 0&&(x.startChanged=!!x.connectionStart),x.endChanged===void 0&&(x.endChanged=!!x.connectionEnd),(function(k,R,O,F){return jS(vt(k),R,O,F).delta})(v,_,S,x)}Fe.call(this,e),this.postExecute("element.updateProperties",l),this.postExecute("element.updateModdleProperties",(h=>{je(h.context.element)===h.context.moddleElement&&l(h)})),this.postExecute(["shape.create","connection.create"],(function(h){var p=h.context;if((p.hints||{}).createElementsBehavior!==!1){var m=p.shape||p.connection;!Bt(m)&&za(m)&&ro(m)&&n.updateLabel(m,ro(m))}})),this.postExecute("shape.delete",(function(h){var p=h.context,m=p.labelTarget,v=p.hints||{};m&&v.unsetLabel!==!1&&n.updateLabel(m,null,null,{removeShape:!1})})),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(h){var p=h.context;if((p.hints||{}).labelBehavior!==!1){var m,v=p.connection.label;v&&v.parent&&(m=u(h),n.moveShape(v,m))}})),this.postExecute(["shape.replace"],(function(h){var p=h.context,m=p.newShape,v=p.oldShape,x=je(m);x&&za(x)&&v.label&&m.label&&(m.label.x=v.label.x,m.label.y=v.label.y)})),this.postExecute("shape.resize",(function(h){var p,m=h.context,v=m.shape,x=m.newBounds,_=m.oldBounds;if(yp(v)){var S=v.label,k=(function(O,F){if(F.length){var I=(function(P,U){var K=U.map((function(Y){return{line:Y,distance:Gw(P,Y)}}));return ue(K,"distance")[0].line})(O,F);return uy(O,I)}})(vt(S),[[{x:(p=_).x,y:p.y},{x:p.x+(p.width||0),y:p.y}],[{x:p.x+(p.width||0),y:p.y},{x:p.x+(p.width||0),y:p.y+(p.height||0)}],[{x:p.x,y:p.y+(p.height||0)},{x:p.x+(p.width||0),y:p.y+(p.height||0)}],[{x:p.x,y:p.y},{x:p.x,y:p.y+(p.height||0)}]]),R=fD(k,_,x);n.moveShape(S,R)}}))}function fD(e,n,o){return ja(io(Ku(e,n,o),e))}function Iy(e,n){function o(a,l){var u=a.context,h=u.connection,p=ie({},u.hints),m=u.newWaypoints||h.waypoints,v=u.oldWaypoints;return p.startChanged===void 0&&(p.startChanged=!!p.connectionStart),p.endChanged===void 0&&(p.endChanged=!!p.connectionEnd),(function(x,_,S,k){return jS(x,_,S,k).point})(l,m,v,p)}Fe.call(this,e),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(a){var l=a.context.connection,u=l.outgoing;l.incoming.forEach((function(h){var p=h.waypoints[h.waypoints.length-1],m=o(a,p),v=[].concat(h.waypoints.slice(0,-1),[m]);n.updateWaypoints(h,v)})),u.forEach((function(h){var p=h.waypoints[0],m=o(a,p),v=[].concat([m],h.waypoints.slice(1));n.updateWaypoints(h,v)}))})),this.postExecute(["connection.move"],(function(a){var l=a.context,u=l.connection,h=u.outgoing,p=u.incoming,m=l.delta;p.forEach((function(v){var x=v.waypoints[v.waypoints.length-1],_={x:x.x+m.x,y:x.y+m.y},S=[].concat(v.waypoints.slice(0,-1),[_]);n.updateWaypoints(v,S)})),h.forEach((function(v){var x=v.waypoints[0],_={x:x.x+m.x,y:x.y+m.y},S=[].concat([_],v.waypoints.slice(1));n.updateWaypoints(v,S)}))}))}function sh(e,n,o){var a=ch(e),l=KS(a,n),u=a[0];return l.length?l[l.length-1]:Ku(u.original||u,o,n)}function lh(e,n,o){var a=ch(e),l=KS(a,n),u=a[a.length-1];return l.length?l[0]:Ku(u.original||u,o,n)}function Ly(e,n,o){var a=ch(e),l=WS(n,o),u=a[0];return Ku(u.original||u,l,n)}function $y(e,n,o){var a=ch(e),l=WS(n,o),u=a[a.length-1];return Ku(u.original||u,l,n)}function WS(e,n){return{x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}function ch(e){var n=e.waypoints;if(!n.length)throw new Error("connection#"+e.id+": no waypoints");return n}function KS(e,n){return M(W(e,dD),(function(o){return(function(a,l){return Ar(l,a,1)==="intersect"})(o,n)}))}function dD(e){return e.original||e}function By(e,n){Fe.call(this,e),this.postExecute("shape.replace",(function(o){var a=o.oldShape,l=o.newShape;if((function(x,_){return j(x,"bpmn:Participant")&&zt(x)&&j(_,"bpmn:Participant")&&!zt(_)})(a,l)){var u,h,p,m,v=(h=vu([u=a],!1),p=[],m=[],h.forEach((function(x){x!==u&&(x.incoming.forEach((function(_){j(_,"bpmn:MessageFlow")&&p.push(_)})),x.outgoing.forEach((function(_){j(_,"bpmn:MessageFlow")&&m.push(_)})))}),[]),{incoming:p,outgoing:m});v.incoming.forEach((function(x){var _=lh(x,l,a);n.reconnectEnd(x,l,_)})),v.outgoing.forEach((function(x){var _=sh(x,l,a);n.reconnectStart(x,l,_)}))}}),!0)}i(Dy,Fe),Dy.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],i(Iy,Fe),Iy.$inject=["eventBus","modeling"],By.$inject=["eventBus","modeling"],i(By,Fe);const pD=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function XS(e){const n=je(e);if(!(j(n,"bpmn:BoundaryEvent")||j(n,"bpmn:StartEvent")&&Nr(n.$parent)))return!1;const o=n.get("eventDefinitions");return!(!o||!o.length)&&pD.some((a=>j(o[0],a)))}function YS(e){return j(e,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function Fy(e,n){e.invoke(Fe,this),this.postExecuted("shape.replace",(function(o){const a=o.context.oldShape,l=o.context.newShape,u=o.context.hints;if(!XS(l))return;const h=YS(l);if(u.targetElement&&u.targetElement[h]!==void 0)return;const p=je(a).get(h);p!==je(l).get(h)&&n.updateProperties(l,{[h]:p})}))}function jy(e,n){Fe.call(this,e),this.preExecute("shape.resize",(function(o){var a=o.shape,l=Yt(a),u=l&&l.get("label");u&&u.get("bounds")&&n.updateModdleProperties(a,u,{bounds:void 0})}),!0)}function Vy(e,n,o){Fe.call(this,e),this.preExecute("shape.delete",(function(a){var l=a.context.shape;if(l.incoming.length===1&&l.outgoing.length===1){var u=l.incoming[0],h=l.outgoing[0];if(j(u,"bpmn:SequenceFlow")&&j(h,"bpmn:SequenceFlow")&&n.canConnect(u.source,h.target,u)){var p=(function(m,v){var x=Oy(hc(m[m.length-2]),hc(m[m.length-1]),hc(v[1]),hc(v[0]));return x?[].concat(m.slice(0,m.length-1),[x],v.slice(1)):[hc(m[0]),hc(v[v.length-1])]})(u.waypoints,h.waypoints);o.reconnectEnd(u,h.target,p)}}}))}function hc(e){return e.original||e}function Hy(e,n){Fe.call(this,e),this.preExecute("shape.delete",(function(o){var a=o.shape,l=a.parent;j(a,"bpmn:Participant")&&(o.collaborationRoot=l)}),!0),this.postExecute("shape.delete",(function(o){var a=o.collaborationRoot;if(a&&!a.businessObject.participants.length){var l=n.makeProcess(),u=a.children.slice();n.moveElements(u,{x:0,y:0},l)}}),!0)}function Uy(e,n,o,a){Fe.call(this,e);var l=a.get("dragging",!1);function u(h){var p,m,v=h.source,x=h.target;h.parent&&(j(h,"bpmn:SequenceFlow")&&(o.canConnectSequenceFlow(v,x)||(m=!0),o.canConnectMessageFlow(v,x)&&(p="bpmn:MessageFlow")),j(h,"bpmn:MessageFlow")&&(o.canConnectMessageFlow(v,x)||(m=!0),o.canConnectSequenceFlow(v,x)&&(p="bpmn:SequenceFlow")),m&&n.removeConnection(h),p&&n.connect(v,x,{type:p,waypoints:h.waypoints.slice()}))}this.postExecuted("elements.move",(function(h){A(h.closure.allConnections,u)}),!0),this.preExecute("connection.reconnect",(function(h){var p,m,v=h.context,x=v.connection,_=v.newSource||x.source,S=v.newTarget||x.target;(p=o.canConnect(_,S))&&p.type!==x.type&&(m=n.connect(_,S,{type:p.type,associationDirection:p.associationDirection,waypoints:x.waypoints.slice()}),x.parent&&n.removeConnection(x),v.connection=m,l&&(function(k,R){var O,F=l.context(),I=F&&F.payload.previousSelection;!I||!I.length||(O=I.indexOf(k))!==-1&&I.splice(O,1,R)})(x,m))})),this.postExecuted("element.updateProperties",(function(h){var p,m=h.context,v=m.properties,x=m.element,_=x.businessObject;v.default&&(p=N(x.outgoing,le({id:x.businessObject.default.id})))&&n.updateProperties(p,{conditionExpression:void 0}),v.conditionExpression&&_.sourceRef.default===_&&n.updateProperties(x.source,{default:void 0})}))}function uh(e,n,o,a,l,u){a.invoke(Fe,this),this._bpmnReplace=e,this._elementRegistry=o,this._selection=u,this.postExecuted(["elements.create"],500,(function(h){var p=h.context,m=p.parent,v=p.elements,x=Z(v,(function(_,S){var k=n.canReplace([S],S.host||S.parent||m);return k?_.concat(k.replacements):_}),[]);x.length&&this._replaceElements(v,x)}),this),this.postExecuted(["elements.move"],500,(function(h){var p=h.context,m=p.newParent,v=p.newHost,x=[];A(p.closure.topLevel,(function(S){x=Nr(S)?x.concat(S.children):x.concat(S)})),x.length===1&&v&&(m=v);var _=n.canReplace(x,m);_&&this._replaceElements(x,_.replacements,v)}),this),this.postExecute(["shape.replace"],1500,(function(h){var p,m=h.context,v=m.oldShape,x=m.newShape,_=v.attachers;_&&_.length&&(p=n.canReplace(_,x),this._replaceElements(_,p.replacements))}),this),this.postExecuted(["shape.replace"],1500,(function(h){var p=h.context,m=p.oldShape,v=p.newShape;l.unclaimId(m.businessObject.id,m.businessObject),l.updateProperties(v,{id:m.id})}))}Fy.$inject=["injector","modeling"],i(Fy,Fe),i(jy,Fe),jy.$inject=["eventBus","modeling"],i(Vy,Fe),Vy.$inject=["eventBus","bpmnRules","modeling"],Hy.$inject=["eventBus","modeling"],i(Hy,Fe),i(Uy,Fe),Uy.$inject=["eventBus","modeling","bpmnRules","injector"],i(uh,Fe),uh.prototype._replaceElements=function(e,n){var o=this._elementRegistry,a=this._bpmnReplace,l=this._selection;A(n,(function(u){var h={type:u.newElementType},p=o.get(u.oldElementId),m=e.indexOf(p);e[m]=a.replaceElement(p,h,{select:!1})})),n&&l.select(e)},uh.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var hD={width:140,height:120},zy={width:300,height:60},Gy={width:60,height:300},fh={width:300,height:150},dh={width:150,height:300},ZS={width:140,height:120},JS={width:50,height:30};function QS(e){e.on("resize.start",1500,(function(n){var o=n.context,a=o.shape,l=o.direction,u=o.balanced;(j(a,"bpmn:Lane")||j(a,"bpmn:Participant"))&&(o.resizeConstraints=(function(h,p,m){var v=Ui(h),x=!0,_=!0,S=rh(v,[v]),k=mt(h),R={},O={},F=fr(h),I=F?zy:Gy;/n/.test(p)?O.top=k.bottom-I.height:/e/.test(p)?O.right=k.left+I.width:/s/.test(p)?O.bottom=k.top+I.height:/w/.test(p)&&(O.left=k.right-I.width),S.forEach((function(K){var Y=mt(K);F?(Y.top<k.top-10&&(x=!1),Y.bottom>k.bottom+10&&(_=!1)):(Y.left<k.left-10&&(x=!1),Y.right>k.right+10&&(_=!1)),/n/.test(p)&&(m&&Qa(k.top-Y.bottom)<10&&gc(R,"top",Y.top+I.height),Qa(k.top-Y.top)<5&&mc(O,"top",Y.bottom-I.height)),/e/.test(p)&&(m&&Qa(k.right-Y.left)<10&&mc(R,"right",Y.right-I.width),Qa(k.right-Y.right)<5&&gc(O,"right",Y.left+I.width)),/s/.test(p)&&(m&&Qa(k.bottom-Y.top)<10&&mc(R,"bottom",Y.bottom-I.height),Qa(k.bottom-Y.bottom)<5&&gc(O,"bottom",Y.top+I.height)),/w/.test(p)&&(m&&Qa(k.left-Y.right)<10&&gc(R,"left",Y.left+I.width),Qa(k.left-Y.left)<5&&mc(O,"left",Y.right-I.width))}));var P=v.children.filter((function(K){return!K.hidden&&!K.waypoints&&(j(K,"bpmn:FlowElement")||j(K,"bpmn:Artifact"))})),U=F?vD:yD;return P.forEach((function(K){var Y=mt(K);!/n/.test(p)||F&&!x||mc(O,"top",Y.top-U.top),/e/.test(p)&&(F||_)&&gc(O,"right",Y.right+U.right),!/s/.test(p)||F&&!_||gc(O,"bottom",Y.bottom+U.bottom),/w/.test(p)&&(F||x)&&mc(O,"left",Y.left-U.left)})),{min:O,max:R}})(a,l,u)),j(a,"bpmn:SubProcess")&&zt(a)&&(o.minDimensions=ZS),j(a,"bpmn:TextAnnotation")&&(o.minDimensions=JS)}))}QS.$inject=["eventBus"];var Qa=Math.abs,mD=Math.min,gD=Math.max;function qS(e,n,o,a){var l=e[n];e[n]=l===void 0?o:a(o,l)}function mc(e,n,o){return qS(e,n,o,mD)}function gc(e,n,o){return qS(e,n,o,gD)}var vD={top:20,left:50,right:20,bottom:20},yD={top:50,left:20,right:20,bottom:20};function e2(e,n){e.on("resize.start",1501,(function(o){var a=o.context,l=a.shape;(j(l,"bpmn:Lane")||j(l,"bpmn:Participant"))&&(a.balanced=!Mu(o))})),e.on("resize.end",1001,(function(o){var a=o.context,l=a.shape,u=a.canExecute,h=a.newBounds;if(j(l,"bpmn:Lane")||j(l,"bpmn:Participant"))return u&&(h=O_(h),n.resizeLane(l,h,a.balanced)),!1}))}e2.$inject=["eventBus","modeling"];function Wy(e,n,o,a,l){function u(v){return Ot(v,["bpmn:ReceiveTask","bpmn:SendTask"])||(function(x,_){return w(_)||(_=[_]),ee(_,(function(S){return Zl(x,S)}))})(v,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function h(v){return!!N(e.getDefinitions().get("rootElements"),le({id:v.id}))}function p(v){return j(v,"bpmn:ErrorEventDefinition")?"errorRef":j(v,"bpmn:EscalationEventDefinition")?"escalationRef":j(v,"bpmn:MessageEventDefinition")?"messageRef":j(v,"bpmn:SignalEventDefinition")?"signalRef":void 0}function m(v){if(Ot(v,["bpmn:ReceiveTask","bpmn:SendTask"]))return v.get("messageRef");var x=v.get("eventDefinitions")[0];return x.get(p(x))}o.invoke(Fe,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],(function(v){var x=v.shape||v.element;if(u(x)){var _=m(je(x));_&&!h(_)&&(or(e.getDefinitions().get("rootElements"),_),v.addedRootElement=_)}}),!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],(function(v){var x=v.addedRootElement;x&&Kn(e.getDefinitions().get("rootElements"),x)}),!0),n.on("copyPaste.copyElement",(function(v){var x=v.descriptor,_=v.element;if(!_.labelTarget&&u(_)){var S=m(je(_));S&&(x.referencedRootElement=S)}})),n.on("copyPaste.pasteElement",500,(function(v){var x=v.descriptor,_=x.businessObject,S=x.referencedRootElement;S&&(h(S)||(S=a.copyElement(S,l.create(S.$type))),(function(k,R){if(Ot(k,["bpmn:ReceiveTask","bpmn:SendTask"]))return k.set("messageRef",R);var O=k.get("eventDefinitions")[0];O.set(p(O),R)})(_,S),delete x.referencedRootElement)}))}Wy.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],i(Wy,Fe);var t2=Math.max;function n2(e){e.on("spaceTool.getMinDimensions",(function(n){var o=n.shapes,a=n.axis,l=n.start,u={};return A(o,(function(h){var p=h.id;j(h,"bpmn:Participant")&&(u[p]=(function(m,v,x){var _=fr(m);if(S=m,!Ja(S).length)return _?fh:dh;var S,k=(function(O){return O==="x"})(v),R={};return R=k?_?fh:{width:xD(m,x,k),height:dh.height}:_?{width:fh.width,height:bD(m,x,k)}:dh,R})(h,a,l)),j(h,"bpmn:Lane")&&(u[p]=fr(h)?zy:Gy),j(h,"bpmn:SubProcess")&&zt(h)&&(u[p]=ZS),j(h,"bpmn:TextAnnotation")&&(u[p]=JS),j(h,"bpmn:Group")&&(u[p]=hD)})),u}))}function bD(e,n,o){var a;return a=(function(l,u,h){var p,m=Ja(l);return p=Ky(m,u,h),l.height-p.height+zy.height})(e,n,o),t2(fh.height,a)}function xD(e,n,o){var a;return a=(function(l,u,h){var p,m=Ja(l);return p=Ky(m,u,h),l.width-p.width+Gy.width})(e,n,o),t2(dh.width,a)}function Ky(e,n,o){var a,l,u;for(a=0;a<e.length;a++)if(l=e[a],!o&&n>=l.y&&n<=l.y+l.height||o&&n>=l.x&&n<=l.x+l.width)return(u=Ja(l)).length?Ky(u,n,o):l}n2.$inject=["eventBus"];var _D=180,ED=160;function qa(e,n,o,a,l,u,h){Fe.call(this,n),this._canvas=e,this._eventBus=n,this._modeling=o,this._elementFactory=a,this._bpmnFactory=l,this._bpmnjs=u,this._elementRegistry=h;var p=this;function m(_){return j(_,"bpmn:SubProcess")&&!zt(_)}function v(_){var S=_.shape,k=_.newRootElement,R=je(S);k=p._addDiagram(k||R),_.newRootElement=e.addRootElement(k)}function x(_){var S=je(_.shape);p._removeDiagram(S);var k=_.newRootElement=h.get(Jo(S));e.removeRootElement(k)}this.executed("shape.create",(function(_){m(_.shape)&&v(_)}),!0),this.postExecuted("shape.create",(function(_){var S=_.shape,k=_.newRootElement;k&&S.children&&(p._showRecursively(S.children),p._moveChildrenToShape(S,k))}),!0),this.reverted("shape.create",(function(_){m(_.shape)&&x(_)}),!0),this.preExecuted("shape.delete",(function(_){var S=_.shape;if(m(S)){var k=h.get(Jo(S));k&&o.removeElements(k.children.slice())}}),!0),this.executed("shape.delete",(function(_){m(_.shape)&&x(_)}),!0),this.reverted("shape.delete",(function(_){m(_.shape)&&v(_)}),!0),this.preExecuted("shape.replace",(function(_){var S=_.oldShape,k=_.newShape;m(S)&&m(k)&&(_.oldRoot=e.removeRootElement(Jo(S)))}),!0),this.postExecuted("shape.replace",(function(_){var S=_.newShape,k=_.oldRoot,R=e.findRoot(Jo(S));if(k&&R){var O=k.children;o.moveElements(O,{x:0,y:0},R)}}),!0),this.executed("element.updateProperties",(function(_){var S=_.element;if(j(S,"bpmn:SubProcess")){var k=_.properties,R=_.oldProperties.id,O=k.id;if(R!==O){if(Sp(S))return h.updateId(S,Ws(O)),void h.updateId(R,O);h.get(Ws(R))&&h.updateId(Ws(R),Ws(O))}}}),!0),this.reverted("element.updateProperties",(function(_){var S=_.element;if(j(S,"bpmn:SubProcess")){var k=_.properties,R=_.oldProperties.id,O=k.id;if(R!==O){if(Sp(S))return h.updateId(S,Ws(R)),void h.updateId(O,R);var F=h.get(Ws(O));F&&h.updateId(F,Ws(R))}}}),!0),n.on("element.changed",(function(_){var S=_.element;if(Sp(S)){var k=S,R=h.get(CE(k));R&&R!==k&&n.fire("element.changed",{element:R})}})),this.executed("shape.toggleCollapse",400,(function(_){var S=_.shape;j(S,"bpmn:SubProcess")&&(zt(S)?x(_):(v(_),p._showRecursively(S.children)))}),!0),this.reverted("shape.toggleCollapse",400,(function(_){var S=_.shape;j(S,"bpmn:SubProcess")&&(zt(S)?x(_):(v(_),p._showRecursively(S.children)))}),!0),this.postExecuted("shape.toggleCollapse",600,(function(_){var S=_.shape;if(j(S,"bpmn:SubProcess")){var k=_.newRootElement;k&&(zt(S)?p._moveChildrenToShape(k,S):p._moveChildrenToShape(S,k))}}),!0),n.on("copyPaste.createTree",(function(_){var S=_.element,k=_.children;if(m(S)){var R=Jo(S),O=h.get(R);O&&k.push.apply(k,O.children)}})),n.on("copyPaste.copyElement",(function(_){var S=_.descriptor,k=_.element,R=_.elements,O=k.parent;if(j(Yt(O),"bpmndi:BPMNPlane")){var F=CE(O),I=N(R,(function(P){return P.id===F}));I&&(S.parent=I.id)}})),n.on("copyPaste.pasteElement",(function(_){var S=_.descriptor;S.parent&&(m(S.parent)||S.parent.hidden)&&(S.hidden=!0)}))}function Xy(e,n){e.invoke(Fe,this),this.postExecuted("shape.replace",(function(o){var a=o.context.oldShape,l=o.context.newShape;if(j(l,"bpmn:SubProcess")&&!j(l,"bpmn:AdHocSubProcess")&&(j(a,"bpmn:Task")||j(a,"bpmn:CallActivity"))&&zt(l)){var u,h={x:(u=l).x+u.width/6,y:u.y+u.height/2};n.createShape({type:"bpmn:StartEvent"},h,l)}}))}function Yy(e){Fe.call(this,e),this.preExecute("connection.create",(function(n){const{target:o}=n;j(o,"bpmn:TextAnnotation")&&(n.parent=o.parent)}),!0),this.preExecute(["shape.create","shape.resize","elements.move"],(function(n){const o=n.shapes||[n.shape];o.length===1&&j(o[0],"bpmn:TextAnnotation")&&(n.hints=n.hints||{},n.hints.autoResize=!1)}),!0)}function Zy(e,n){Fe.call(this,e),this.postExecuted("shape.toggleCollapse",1500,(function(o){var a=o.shape;if(!zt(a)){var l=vu(a);l.forEach((function(h){var p=h.incoming.slice(),m=h.outgoing.slice();A(p,(function(v){u(v,!0)})),A(m,(function(v){u(v,!1)}))}))}function u(h,p){l.indexOf(h.source)!==-1&&l.indexOf(h.target)!==-1||(p?n.reconnectEnd(h,a,vt(a)):n.reconnectStart(h,a,vt(a)))}}),!0)}i(qa,Fe),qa.prototype._moveChildrenToShape=function(e,n){var o,a=this._modeling,l=e.children;if(l){var u=(l=l.concat(l.reduce((function(v,x){return x.label&&x.label.parent!==e?v.concat(x.label):v}),[]))).filter((function(v){return!v.hidden}));if(u.length){var h=ir(u);if(n.x){var p=vt(n),m=vt(h);o={x:p.x-m.x,y:p.y-m.y}}else o={x:_D-h.x,y:ED-h.y};a.moveElements(l,o,n,{autoResize:!1})}else a.moveElements(l,{x:0,y:0},n,{autoResize:!1})}},qa.prototype._showRecursively=function(e,n){var o=this,a=[];return e.forEach((function(l){l.hidden=!!n,a=a.concat(l),l.children&&(a=a.concat(o._showRecursively(l.children,l.collapsed||n)))})),a},qa.prototype._addDiagram=function(e){var n=this._bpmnjs.getDefinitions().diagrams;return e.businessObject||(e=this._createNewDiagram(e)),n.push(e.di.$parent),e},qa.prototype._createNewDiagram=function(e){var n=this._bpmnFactory,o=this._elementFactory,a=n.create("bpmndi:BPMNPlane",{bpmnElement:e}),l=n.create("bpmndi:BPMNDiagram",{plane:a});return a.$parent=l,o.createRoot({id:Jo(e),type:e.$type,di:a,businessObject:e,collapsed:!0})},qa.prototype._removeDiagram=function(e){var n=this._bpmnjs.getDefinitions().diagrams,o=N(n,(function(a){return a.plane.bpmnElement.id===e.id}));return n.splice(n.indexOf(o),1),o},qa.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],Xy.$inject=["injector","modeling"],i(Xy,Fe),i(Yy,Fe),Yy.$inject=["eventBus"],i(Zy,Fe),Zy.$inject=["eventBus","modeling"];function Jy(e,n,o){Fe.call(this,e),this.executed(["shape.toggleCollapse"],500,(function(a){var l,u=a.context.shape;j(u,"bpmn:SubProcess")&&(u.collapsed?Yt(u).isExpanded=!1:((l=u.children).length&&l.forEach((function(h){h.type!=="label"||h.businessObject.name||(h.hidden=!0)})),Yt(u).isExpanded=!0))})),this.reverted(["shape.toggleCollapse"],500,(function(a){var l=a.context.shape;l.collapsed?Yt(l).isExpanded=!1:Yt(l).isExpanded=!0})),this.postExecuted(["shape.toggleCollapse"],500,(function(a){var l,u=a.context.shape,h=n.getDefaultSize(u);l=u.collapsed?(function(p,m){return{x:p.x+(p.width-m.width)/2,y:p.y+(p.height-m.height)/2,width:m.width,height:m.height}})(u,h):(function(p,m){var v,x,_,S=p.children,k=m;return v=(_=S,_.filter((function(R){return!R.hidden}))).concat([p]),(x=kS(v))?(k.width=Math.max(x.width,k.width),k.height=Math.max(x.height,k.height),k.x=x.x+(x.width-k.width)/2,k.y=x.y+(x.height-k.height)/2):(k.x=p.x+(p.width-k.width)/2,k.y=p.y+(p.height-k.height)/2),k})(u,h),o.resizeShape(u,l,null,{autoResize:!u.collapsed&&"nwse"})}))}function Qy(e,n,o,a){n.invoke(Fe,this),this.preExecute("shape.delete",(function(l){var u=l.context.shape,h=u.businessObject;Bt(u)||(j(u,"bpmn:Participant")&&zt(u)&&o.ids.unclaim(h.processRef.id),a.unclaimId(h.id,h))})),this.preExecute("connection.delete",(function(l){var u=l.context.connection.businessObject;a.unclaimId(u.id,u)})),this.preExecute("canvas.updateRoot",(function(){var l=e.getRootElement(),u=l.businessObject;j(l,"bpmn:Collaboration")&&o.ids.unclaim(u.id)}))}function qy(e,n){Fe.call(this,e),this.preExecute("connection.delete",(function(o){var a=o.context.connection,l=a.source;(function(u,h){if(!j(u,"bpmn:SequenceFlow"))return!1;var p=je(h),m=je(u);return p.get("default")===m})(a,l)&&n.updateProperties(l,{default:null})}))}i(Jy,Fe),Jy.$inject=["eventBus","elementFactory","modeling"],i(Qy,Fe),Qy.$inject=["canvas","injector","moddle","modeling"],i(qy,Fe),qy.$inject=["eventBus","modeling"];function e0(e,n){var o;function a(){if(!o)throw new Error("out of bounds release");return o}Fe.call(this,e);var l=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(l,5e3,(function(u){(o=o||new wD).enter()})),this.postExecuted(l,500,(function(u){(function(){if(!o)throw new Error("out of bounds release");var h=o.leave();h&&(n.updateLaneRefs(o.flowNodes,o.lanes),o=null)})()})),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],(function(u){var h=u.context.shape,p=a();h.labelTarget||(j(h,"bpmn:Lane")&&p.addLane(h),j(h,"bpmn:FlowNode")&&p.addFlowNode(h))}))}function wD(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function t0(e,n){Fe.call(this,e),this.postExecuted("elements.create",(function(o){const a=o.context.elements;for(const l of a)SD(l)&&!CD(l)&&n.updateProperties(l,{isForCompensation:void 0})}))}function SD(e){const n=je(e);return n&&n.isForCompensation}function CD(e){return e.incoming.filter((n=>(function(o){return o&&j(o,"bpmn:BoundaryEvent")&&Zl(o,"bpmn:CompensateEventDefinition")})(n.source))).length>0}e0.$inject=["eventBus","modeling"],i(e0,Fe),i(t0,Fe),t0.$inject=["eventBus","modeling"];var TD={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","textAnnotationBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior","setCompensationActivityAfterPasteBehavior"],adaptiveLabelPositioningBehavior:["type",yy],appendBehavior:["type",by],associationBehavior:["type",xy],attachEventBehavior:["type",Zp],boundaryEventBehavior:["type",_y],compensateBoundaryEventBehaviour:["type",Ey],createBehavior:["type",wy],createDataObjectBehavior:["type",Sy],createParticipantBehavior:["type",Cy],dataInputAssociationBehavior:["type",Ty],dataStoreBehavior:["type",ky],deleteLaneBehavior:["type",Ay],detachEventBehavior:["type",ih],dropOnFlowBehavior:["type",Ry],eventBasedGatewayBehavior:["type",Py],fixHoverBehavior:["type",NS],groupBehavior:["type",Ny],importDockingFix:["type",OS],isHorizontalFix:["type",My],labelBehavior:["type",Dy],layoutConnectionBehavior:["type",Iy],messageFlowBehavior:["type",By],nonInterruptingBehavior:["type",Fy],removeElementBehavior:["type",Vy],removeEmbeddedLabelBoundsBehavior:["type",jy],removeParticipantBehavior:["type",Hy],replaceConnectionBehavior:["type",Uy],replaceElementBehaviour:["type",uh],resizeBehavior:["type",QS],resizeLaneBehavior:["type",e2],rootElementReferenceBehavior:["type",Wy],spaceToolBehavior:["type",n2],subProcessPlaneBehavior:["type",qa],subProcessStartEventBehavior:["type",Xy],textAnnotationBehavior:["type",Yy],toggleCollapseConnectionBehaviour:["type",Zy],toggleElementCollapseBehaviour:["type",Jy],unclaimIdBehavior:["type",Qy],unsetDefaultFlowBehavior:["type",qy],updateFlowNodeRefsBehavior:["type",e0],setCompensationActivityAfterPasteBehavior:["type",t0]};function r2(e,n){var o=Ar(e,n,-15);return o!=="intersect"?o:null}function wr(e){ji.call(this,e)}function n0(e){return!e||Bt(e)}function i2(e){do{if(j(e,"bpmn:Process"))return je(e);if(j(e,"bpmn:Participant"))return je(e).processRef||je(e)}while(e=e.parent)}function r0(e){return j(e,"bpmn:TextAnnotation")}function i0(e){return j(e,"bpmn:Group")&&!e.labelTarget}function o2(e){return j(e,"bpmn:BoundaryEvent")&&ko(e,"bpmn:CompensateEventDefinition")}function ph(e){return je(e).isForCompensation}function a2(e){for(var n=e;n=n.parent;){if(j(n,"bpmn:FlowElementsContainer"))return je(n);if(j(n,"bpmn:Participant"))return je(n).processRef}return null}function s2(e,n){return a2(e)===a2(n)}function ko(e,n){return!!N(je(e).eventDefinitions||[],(function(o){return j(o,n)}))}function l2(e,n){return(je(e).eventDefinitions||[]).every((function(o){return j(o,n)}))}function o0(e,n){var o=(function(a){for(var l=[];a;)(a=a.parent)&&l.push(a);return l})(n);return o.indexOf(e)!==-1}function hh(e,n,o){if(n0(e)||n0(n))return null;if(!j(o,"bpmn:DataAssociation")){if(v2(e,n))return{type:"bpmn:MessageFlow"};if(y2(e,n))return{type:"bpmn:SequenceFlow"}}var a=s0(e,n);return a||(g2(e,n)?{type:"bpmn:Association",associationDirection:"One"}:!!m2(e,n)&&{type:"bpmn:Association",associationDirection:"None"})}function vc(e,n){return!(!Bt(e)&&!i0(e))||!(j(n,"bpmn:Participant")&&!zt(n))&&(j(e,"bpmn:Participant")?j(n,"bpmn:Process")||j(n,"bpmn:Collaboration"):Ot(e,["bpmn:DataInput","bpmn:DataOutput"])&&e.parent?n===e.parent:j(e,"bpmn:Lane")?j(n,"bpmn:Participant")||j(n,"bpmn:Lane"):!(j(e,"bpmn:BoundaryEvent")&&!(function(o){return je(o).cancelActivity&&(c2(o)||u2(o))})(e))&&(j(e,"bpmn:FlowElement")&&!j(e,"bpmn:DataStoreReference")?j(n,"bpmn:FlowElementsContainer")?zt(n):Ot(n,["bpmn:Participant","bpmn:Lane"]):j(e,"bpmn:DataStoreReference")&&j(n,"bpmn:Collaboration")?ee(je(n).get("participants"),(function(o){return!!o.get("processRef")})):Ot(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Ot(n,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!j(e,"bpmn:MessageFlow")&&(j(n,"bpmn:Collaboration")||e.source.parent==n||e.target.parent==n)))}function kD(e){return j(e,"bpmn:Lane")}function AD(e){return!!(function(n){return!Bt(n)&&j(n,"bpmn:BoundaryEvent")})(e)||!(!j(e,"bpmn:IntermediateThrowEvent")||!c2(e))||j(e,"bpmn:IntermediateCatchEvent")&&u2(e)}function c2(e){var n=je(e);return n&&!(n.eventDefinitions&&n.eventDefinitions.length)}function u2(e){return f2(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function f2(e,n){return n.some((function(o){return ko(e,o)}))}function Xu(e,n,o,a){if(Array.isArray(e)||(e=[e]),e.length!==1)return!1;var l=e[0];return!Bt(l)&&!!AD(l)&&!Nr(n)&&!(!j(n,"bpmn:Activity")||ph(n))&&!(a&&!r2(a,n))&&!(function(u){return j(u,"bpmn:ReceiveTask")&&N(u.incoming,(function(h){return j(h.source,"bpmn:EventBasedGateway")}))})(n)&&"attach"}function d2(e,n,o){if(!n)return!1;var a={replacements:[]};return A(e,(function(l){Nr(n)||j(l,"bpmn:StartEvent")&&l.type!=="label"&&vc(l,n)&&((function(u){return u&&je(u).isInterrupting!==!1})(l)||a.replacements.push({oldElementId:l.id,newElementType:"bpmn:StartEvent"}),((function(u){return Zl(u,"bpmn:ErrorEventDefinition")})(l)||(function(u){return Zl(u,"bpmn:EscalationEventDefinition")})(l)||(function(u){return Zl(u,"bpmn:CompensateEventDefinition")})(l))&&a.replacements.push({oldElementId:l.id,newElementType:"bpmn:StartEvent"}),f2(l,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&j(n,"bpmn:SubProcess")&&a.replacements.push({oldElementId:l.id,newElementType:"bpmn:StartEvent"})),j(n,"bpmn:Transaction")||ko(l,"bpmn:CancelEventDefinition")&&l.type!=="label"&&(j(l,"bpmn:EndEvent")&&vc(l,n)&&a.replacements.push({oldElementId:l.id,newElementType:"bpmn:EndEvent"}),j(l,"bpmn:BoundaryEvent")&&Xu(l,n,0,o)&&a.replacements.push({oldElementId:l.id,newElementType:"bpmn:BoundaryEvent"}))})),!!a.replacements.length&&a}function p2(e,n){return!ee(e,kD)&&(!n||e.every((function(o){return vc(o,n)})))}function a0(e,n,o,a){return!!n&&(!(!Bt(e)&&!i0(e))||!(function(l,u){return l===u})(o,n)&&(!o||!o0(o,n))&&(vc(e,n)||mh(e,n)))}function h2(e,n){return j(e,"bpmn:SubProcess")?zt(e)&&(!n||n.width>=100&&n.height>=80):!!j(e,"bpmn:Lane")||!!j(e,"bpmn:Participant")||!!r0(e)||!!i0(e)}function m2(e,n){return!o0(n,e)&&!o0(e,n)&&(!!(function(o,a){var l=r0(o),u=r0(a);return(l||u)&&l!==u})(e,n)||!!s0(e,n))}function g2(e,n){return s2(e,n)&&o2(e)&&j(n,"bpmn:Activity")&&(o=e,!n.attachers.includes(o))&&!Nr(n);var o}function v2(e,n){return!(x2(e)&&!x2(n))&&j(o=e,"bpmn:InteractionNode")&&!j(o,"bpmn:BoundaryEvent")&&(!j(o,"bpmn:Event")||j(o,"bpmn:ThrowEvent")&&l2(o,"bpmn:MessageEventDefinition"))&&(function(a){return j(a,"bpmn:InteractionNode")&&!ph(a)&&(!j(a,"bpmn:Event")||j(a,"bpmn:CatchEvent")&&l2(a,"bpmn:MessageEventDefinition"))&&!(j(a,"bpmn:BoundaryEvent")&&!ko(a,"bpmn:MessageEventDefinition"))})(n)&&!(function(a,l){return i2(a)===i2(l)})(e,n);var o}function y2(e,n){return j(o=e,"bpmn:FlowNode")&&!j(o,"bpmn:EndEvent")&&!Nr(o)&&!(j(o,"bpmn:IntermediateThrowEvent")&&ko(o,"bpmn:LinkEventDefinition"))&&!o2(o)&&!ph(o)&&(function(a){return j(a,"bpmn:FlowNode")&&!j(a,"bpmn:StartEvent")&&!j(a,"bpmn:BoundaryEvent")&&!Nr(a)&&!(j(a,"bpmn:IntermediateCatchEvent")&&ko(a,"bpmn:LinkEventDefinition"))&&!ph(a)})(n)&&s2(e,n)&&!(j(e,"bpmn:EventBasedGateway")&&!(function(a){return j(a,"bpmn:ReceiveTask")||j(a,"bpmn:IntermediateCatchEvent")&&(ko(a,"bpmn:MessageEventDefinition")||ko(a,"bpmn:TimerEventDefinition")||ko(a,"bpmn:ConditionalEventDefinition")||ko(a,"bpmn:SignalEventDefinition"))})(n));var o}function s0(e,n){return Ot(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ot(n,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Ot(n,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Ot(e,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function mh(e,n,o){if(!n)return!1;if(Array.isArray(e)){if(e.length!==1)return!1;e=e[0]}return n.source!==e&&n.target!==e&&Ot(n,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Bt(n)&&j(e,"bpmn:FlowNode")&&!j(e,"bpmn:BoundaryEvent")&&vc(e,n.parent)}function b2(e,n){return!!Bt(n)||!(j(n,"bpmn:Lane")&&!(function(o,a){return o&&a&&o.indexOf(a)!==-1})(e,n.parent))}function x2(e){return sc(e,"bpmn:Process")||sc(e,"bpmn:Collaboration")}i(wr,ji),wr.$inject=["eventBus"],wr.prototype.init=function(){this.addRule("connection.start",(function(e){return(function(n){return n0(n)?null:Ot(n,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])})(e.source)})),this.addRule("connection.create",(function(e){var n=e.source,o=e.target,a=e.hints||{},l=a.targetParent;if(a.targetAttach)return!1;l&&(o.parent=l);try{return hh(n,o)}finally{l&&(o.parent=null)}})),this.addRule("connection.reconnect",(function(e){var n=e.connection;return hh(e.source,e.target,n)})),this.addRule("connection.updateWaypoints",(function(e){return{type:e.connection.type}})),this.addRule("shape.resize",(function(e){return h2(e.shape,e.newBounds)})),this.addRule("elements.create",(function(e){var n=e.elements,o=e.position,a=e.target;return!(mn(a)&&!mh(n,a))&&te(n,(function(l){return mn(l)?hh(l.source,l.target,l):l.host?Xu(l,l.host,null,o):a0(l,a,null)}))})),this.addRule("elements.move",(function(e){var n=e.target,o=e.shapes,a=e.position;return Xu(o,n,null,a)||d2(o,n,a)||p2(o,n)||mh(o,n)})),this.addRule("shape.create",(function(e){return a0(e.shape,e.target,e.source,e.position)})),this.addRule("shape.attach",(function(e){return Xu(e.shape,e.target,null,e.position)})),this.addRule("element.copy",(function(e){var n=e.element;return b2(e.elements,n)}))},wr.prototype.canConnectMessageFlow=v2,wr.prototype.canConnectSequenceFlow=y2,wr.prototype.canConnectDataAssociation=s0,wr.prototype.canConnectAssociation=m2,wr.prototype.canConnectCompensationAssociation=g2,wr.prototype.canMove=p2,wr.prototype.canAttach=Xu,wr.prototype.canReplace=d2,wr.prototype.canDrop=vc,wr.prototype.canInsert=mh,wr.prototype.canCreate=a0,wr.prototype.canConnect=hh,wr.prototype.canResize=h2,wr.prototype.canCopy=b2;var RD={__depends__:[To],__init__:["bpmnRules"],bpmnRules:["type",wr]};function _2(e,n){e.on("saveXML.start",2e3,(function(){A(n.getRootElements(),(function(o){var a,l=Yt(o);a=W(M(vu([o],!1),(function(u){return u!==o&&!u.labelTarget})),Yt),l.set("planeElement",a)}))}))}_2.$inject=["eventBus","canvas"];var PD={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",_2]};function gh(e){Fe.call(this,e);var n=this;this.preExecute(["shape.create","connection.create"],(function(o){var a=o.context,l=a.shape||a.connection,u=a.parent,h=n.getOrdering(l,u);h&&(h.parent!==void 0&&(a.parent=h.parent),a.parentIndex=h.index)})),this.preExecute(["shape.move","connection.move"],(function(o){var a=o.context,l=a.shape||a.connection,u=a.newParent||l.parent,h=n.getOrdering(l,u);h&&(h.parent!==void 0&&(a.newParent=h.parent),a.newParentIndex=h.index)}))}function l0(e,n){gh.call(this,e);var o=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:TextAnnotation",order:{level:9}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function a(l){var u=l.order;if(u||(l.order=u=(function(h){if(h.labelTarget)return{level:10};var p=N(o,(function(m){return Ot(h,[m.type])}));return p&&p.order||{level:1}})(l)),!u)throw new Error(`no order for <${l.id}>`);return u}this.getOrdering=function(l,u){if(l.labelTarget||j(l,"bpmn:TextAnnotation"))return{parent:n.findRoot(u)||n.getRootElement(),index:-1};var h=a(l);h.containers&&(u=(function(v,x,_){for(var S=x;S&&!Ot(S,_);)S=S.parent;if(!S)throw new Error(`no parent for <${v.id}> in <${x&&x.id}>`);return S})(l,u,h.containers));var p=u.children.indexOf(l),m=L(u.children,(function(v){return!(!l.labelTarget&&v.labelTarget)&&h.level<a(v).level}));return m!==-1&&p!==-1&&p<m&&(m-=1),{index:m,parent:u}}}gh.prototype.getOrdering=function(e,n){return null},i(gh,Fe),l0.$inject=["eventBus","canvas"],i(l0,gh);var ND={__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",l0]};function Yu(){}Yu.prototype.get=function(){return this._data},Yu.prototype.set=function(e){this._data=e},Yu.prototype.clear=function(){var e=this._data;return delete this._data,e},Yu.prototype.isEmpty=function(){return!this._data};var OD={clipboard:["type",Yu]},MD="drop-ok",E2="drop-not-ok",w2="attach-ok",S2="new-parent",C2="create";function T2(e,n,o,a,l){function u(p,m){[w2,MD,E2,S2].forEach((function(v){v===m?e.addMarker(p,v):e.removeMarker(p,v)}))}function h(){var p=n.context();p&&p.prefix===C2&&n.cancel()}o.on(["create.move","create.hover"],(function(p){var m=p.context,v=m.elements,x=p.hover,_=m.source,S=m.hints||{};if(!x)return m.canExecute=!1,void(m.target=null);k2(p);var k={x:p.x,y:p.y},R=m.canExecute=x&&(function(O,F,I,P,U){if(!F)return!1;var K=N(O=M(O,(function(ye){var st=ye.labelTarget;return!(ye.parent||Bt(ye)&&O.indexOf(st)!==-1)})),(function(ye){return!mn(ye)})),Y=!1,se=!1,Ee=!1;A2(O)&&(Y=l.allowed("shape.attach",{position:I,shape:K,target:F})),Y||(Ee=A2(O)?l.allowed("shape.create",{position:I,shape:K,source:P,target:F}):l.allowed("elements.create",{elements:O,position:I,target:F}));var _e=U.connectionTarget;return Ee||Y?(K&&P&&(se=l.allowed("connection.create",{source:_e===P?K:P,target:_e===P?P:K,hints:{targetParent:F,targetAttach:Y}})),{attach:Y,connect:se}):(Ee===null||Y===null)&&null})(v,x,k,_,S);x&&R!==null&&(m.target=x,R&&R.attach?u(x,w2):u(x,R?S2:E2))})),o.on(["create.end","create.out","create.cleanup"],(function(p){var m=p.hover;m&&u(m,null)})),o.on("create.end",(function(p){var m=p.context,v=m.source,x=m.shape,_=m.elements,S=m.target,k=m.canExecute,R=k&&k.attach,O=k&&k.connect,F=m.hints||{};if(k===!1||!S)return!1;k2(p);var I={x:p.x,y:p.y};x=O?a.appendShape(v,x,I,S,{attach:R,connection:O===!0?{}:O,connectionTarget:F.connectionTarget}):N(_=a.createElements(_,I,S,ie({},F,{attach:R})),(function(P){return!mn(P)})),ie(m,{elements:_,shape:x}),ie(p,{elements:_,shape:x})})),o.on("create.init",(function(){o.on("elements.changed",h),o.once(["create.cancel","create.end"],2e3,(function(){o.off("elements.changed",h)}))})),this.start=function(p,m,v){w(m)||(m=[m]);var x=N(m,(function(S){return!mn(S)}));if(x){v=ie({elements:m,hints:{},shape:x},v||{}),A(m,(function(S){T(S.x)||(S.x=0),T(S.y)||(S.y=0)}));var _=ir(M(m,(function(S){return!S.hidden})));A(m,(function(S){mn(S)&&(S.waypoints=W(S.waypoints,(function(k){return{x:k.x-_.x-_.width/2,y:k.y-_.y-_.height/2}}))),ie(S,{x:S.x-_.x-_.width/2,y:S.y-_.y-_.height/2})})),n.init(p,C2,{cursor:"grabbing",autoActivate:!0,data:{shape:x,elements:m,context:v}})}}}function k2(e){var n=e.context.createConstraints;n&&(n.left&&(e.x=Math.max(e.x,n.left)),n.right&&(e.x=Math.min(e.x,n.right)),n.top&&(e.y=Math.max(e.y,n.top)),n.bottom&&(e.y=Math.min(e.y,n.bottom)))}function A2(e){return e&&e.length===1&&!mn(e[0])}T2.$inject=["canvas","dragging","eventBus","modeling","rules"];function R2(e,n,o,a,l){n.on("create.move",750,(function(u){var h=u.hover,p=u.context,m=p.elements,v=p.dragGroup;v||(v=p.dragGroup=(function(x){var _=ut("g");Ne(_,l.cls("djs-drag-group",["no-events"]));var S=ut("g");return x.forEach((function(k){var R;k.hidden||(k.waypoints?(R=o._createContainer("connection",S),o.drawConnection(Vs(R),k)):(R=o._createContainer("shape",S),o.drawShape(Vs(R),k),Er(R,k.x,k.y)),a.addDragger(k,_,R))})),_})(m)),h?(v.parentNode||We(e.getActiveLayer(),v),Er(v,u.x,u.y)):Wn(v)})),n.on("create.cleanup",(function(u){var h=u.context.dragGroup;h&&Wn(h)}))}R2.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var vh={__depends__:[qo,fc,To,Bi],__init__:["create","createPreview"],create:["type",T2],createPreview:["type",R2]};function c0(e){var n=this;function o(a){n._lastMoveEvent=a}this._lastMoveEvent=null,e.on("canvas.init",(function(a){(n._svg=a.svg).addEventListener("mousemove",o)})),e.on("canvas.destroy",(function(){n._lastMouseEvent=null,n._svg.removeEventListener("mousemove",o)}))}c0.$inject=["eventBus"],c0.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||(function(e,n){var o=document.createEvent("MouseEvent"),a=e,l=n,u=e,h=n;return o.initMouseEvent&&o.initMouseEvent("mousemove",!0,!0,window,0,a,l,u,h,!1,!1,!1,!1,0,null),o})(0,0)};var Zu={__init__:["mouse"],mouse:["type",c0]};function oo(e,n,o,a,l,u,h,p){this._canvas=e,this._create=n,this._clipboard=o,this._elementFactory=a,this._eventBus=l,this._modeling=u,this._mouse=h,this._rules=p,l.on("copyPaste.copyElement",(function(m){var v=m.descriptor,x=m.element,_=m.elements;v.priority=1,v.id=x.id;var S=N(_,(function(k){return k===x.parent}));S&&(v.parent=x.parent.id),(function(k){return!!k.host})(x)&&(v.priority=2,v.host=x.host.id),mn(x)&&(v.priority=3,v.source=x.source.id,v.target=x.target.id,v.waypoints=(function(k){return W(k.waypoints,(function(R){return(R=P2(R)).original&&(R.original=P2(R.original)),R}))})(x)),Bt(x)&&(v.priority=4,v.labelTarget=x.labelTarget.id),A(["x","y","width","height"],(function(k){T(x[k])&&(v[k]=x[k])})),v.hidden=x.hidden,v.collapsed=x.collapsed})),l.on("copyPaste.pasteElements",(function(m){ie(m.hints,{createElementsBehavior:!1})}))}function P2(e){return ie({},e)}function N2(e,n){var o=n.indexOf(e);return o===-1?n:n.splice(o,1)}oo.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],oo.prototype.copy=function(e){var n,o;return w(e)||(e=e?[e]:[]),o=(n=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}))===!1?{}:this.createTree(w(n)?n:e),this._clipboard.set(o),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:o}),o},oo.prototype.paste=function(e){var n=this._clipboard.get();if(!this._clipboard.isEmpty()){var o=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:o});var a=this._createElements(n);if(e&&e.element&&e.point)return this._paste(a,e.element,e.point,o);this._create.start(this._mouse.getLastMoveEvent(),a,{hints:o||{}})}},oo.prototype._paste=function(e,n,o,a){A(e,(function(u){T(u.x)||(u.x=0),T(u.y)||(u.y=0)}));var l=ir(e);return A(e,(function(u){mn(u)&&(u.waypoints=W(u.waypoints,(function(h){return{x:h.x-l.x-l.width/2,y:h.y-l.y-l.height/2}}))),ie(u,{x:u.x-l.x-l.width/2,y:u.y-l.y-l.height/2})})),this._modeling.createElements(e,o,n,ie({},a))},oo.prototype._createElements=function(e){var n=this,o=this._eventBus,a={},l=[];return A(e,(function(u,h){A(u=ue(u,"priority"),(function(p){var m,v=ie({},Wt(p,["priority"]));return a[p.parent]?v.parent=a[p.parent]:delete v.parent,o.fire("copyPaste.pasteElement",{cache:a,descriptor:v}),mn(v)?(v.source=a[p.source],v.target=a[p.target],m=a[p.id]=n.createConnection(v),void l.push(m)):Bt(v)?(v.labelTarget=a[v.labelTarget],m=a[p.id]=n.createLabel(v),void l.push(m)):(v.host&&(v.host=a[v.host]),m=a[p.id]=n.createShape(v),void l.push(m))}))})),l},oo.prototype.createConnection=function(e){return this._elementFactory.createConnection(Wt(e,["id"]))},oo.prototype.createLabel=function(e){return this._elementFactory.createLabel(Wt(e,["id"]))},oo.prototype.createShape=function(e){return this._elementFactory.createShape(Wt(e,["id"]))},oo.prototype.hasRelations=function(e,n){var o,a;return!(mn(e)&&(o=N(n,le({id:e.source.id})),a=N(n,le({id:e.target.id})),!o||!a))&&!(Bt(e)&&!N(n,le({id:e.labelTarget.id})))},oo.prototype.createTree=function(e){var n=this._rules,o=this,a={},l=[];function u(h,p){var m=N(l,(function(v){return h===v.element}));m?m.depth<p&&(l=(function(v,x){var _=x.indexOf(v);return _!==-1&&x.splice(_,1),x})(m,l),l.push({element:m.element,depth:p})):l.push({element:h,depth:p})}return js(ip(e),(function(h,p,m){if(!Bt(h)){A(h.labels,(function(x){u(x,m)})),A([h.attachers,h.incoming,h.outgoing],(function(x){x&&x.length&&A(x,(function(_){A(_.labels,(function(S){u(S,m)})),u(_,m)}))})),u(h,m);var v=[];return h.children&&(v=h.children.slice()),o._eventBus.fire("copyPaste.createTree",{element:h,children:v}),v}})),e=W(l,(function(h){return h.element})),l=W(l,(function(h){return h.descriptor={},o._eventBus.fire("copyPaste.copyElement",{descriptor:h.descriptor,element:h.element,elements:e}),h})),l=ue(l,(function(h){return h.descriptor.priority})),e=W(l,(function(h){return h.element})),A(l,(function(h){var p=h.depth;o.hasRelations(h.element,e)&&(function(m,v){return n.allowed("element.copy",{element:m,elements:v})})(h.element,e)?(a[p]||(a[p]=[]),a[p].push(h.descriptor)):N2(h.element,e)})),a};var DD={__depends__:[OD,vh,Zu,To],__init__:["copyPaste"],copyPaste:["type",oo]};function u0(e,n,o){w(o)||(o=[o]),A(o,(function(a){y(e[a])||(n[a]=e[a])}))}function O2(e,n,o){function a(u,h){var p=e.create(u.$type);return o.copyElement(u,p,null,h)}n.on("copyPaste.copyElement",750,(function(u){var h=u.descriptor,p=u.element,m=je(p);if(Bt(p))return h;var v=h.businessObject=a(m,!0),x=h.di=a(Yt(p),!0);x.bpmnElement=v,u0(v,h,"name"),u0(x,h,"isExpanded"),m.default&&(h.default=m.default.id)}));var l="-bpmn-js-refs";n.on("copyPaste.pasteElement",(function(u){var h=u.cache,p=u.descriptor,m=p.businessObject,v=p.di;if(Bt(p))return p.businessObject=je(h[p.labelTarget]),void(p.di=Yt(h[p.labelTarget]));m=p.businessObject=a(m),(v=p.di=a(v)).bpmnElement=m,u0(p,m,["isExpanded","name"]),p.type=m.$type})),n.on("copyPaste.copyElement",750,(function(u){var h=u.descriptor,p=u.element;if(j(p,"bpmn:Participant")){var m=je(p);m.processRef&&(h.processRef=a(m.processRef,!0))}})),n.on("copyPaste.pasteElement",(function(u){var h=u.descriptor,p=h.processRef;p&&(h.processRef=a(p))})),n.on("copyPaste.pasteElement",750,(function(u){var h=u.cache;(function(p,m){p[l]=m})(h,(function(p,m,v){var x=je(p);return p.default&&(v[p.default]={element:x,property:"default"}),p.host&&(je(p).attachedToRef=je(m[p.host])),Wt(v,Z(v,(function(_,S,k){var R=S.element,O=S.property;return k===p.id&&(R.set(O,x),_.push(p.id)),_}),[]))})(u.descriptor,h,(function(p){return p[l]=p[l]||{}})(h)))}))}O2.$inject=["bpmnFactory","eventBus","moddleCopy"];const ID=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"],LD=["errorRef","escalationRef","messageRef","signalRef","dataObjectRef"];function Ju(e,n,o){this._bpmnFactory=n,this._eventBus=e,this._moddle=o,e.on("moddleCopy.canCopyProperties",(a=>{const{propertyNames:l}=a;if(l&&l.length)return ue(l,(u=>u==="extensionElements"))})),e.on("moddleCopy.canCopyProperty",(a=>{const{parent:l,property:u,propertyName:h}=a,p=C(l)&&l.$descriptor;return h&&LD.includes(h)?u:(!h||!ID.includes(h))&&!(h&&p&&!N(p.properties,le({name:h})))&&void 0})),e.on("moddleCopy.canSetCopiedProperty",(a=>{const{property:l}=a;if(j(l,"bpmn:ExtensionElements")&&(!l.values||!l.values.length))return!1}))}function f0(e,n){return Z(e.properties,((o,a)=>n&&a.default?o:o.concat(a.name)),[])}Ju.$inject=["eventBus","bpmnFactory","moddle"],Ju.prototype.copyElement=function(e,n,o,a=!1){o&&!w(o)&&(o=[o]),o=o||f0(e.$descriptor);const l=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:o,sourceElement:e,targetElement:n,clone:a});return l===!1||(w(l)&&(o=l),A(o,(u=>{let h;H(e,u)&&(h=e.get(u));const p=this.copyProperty(h,n,u,a);b(p)&&this._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:n,property:p,propertyName:u})!==!1&&n.set(u,p)}))),n},Ju.prototype.copyProperty=function(e,n,o,a=!1){let l=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:n,property:e,propertyName:o,clone:a});if(l===!1)return;if(l)return C(l)&&l.$type&&!l.$parent&&(l.$parent=n),l;const u=this._moddle.getPropertyDescriptor(n,o);if(!u.isReference)return u.isId?e&&this._copyId(e,n,a):w(e)?Z(e,((h,p)=>{const m=this.copyProperty(p,n,o,a);return m?h.concat(m):h}),[]):C(e)&&e.$type?this._moddle.getElementDescriptor(e).isGeneric?void 0:(l=this._bpmnFactory.create(e.$type),l.$parent=n,l=this.copyElement(e,l,null,a),l):e},Ju.prototype._copyId=function(e,n,o=!1){return o?e:this._moddle.ids.assigned(e)?void 0:(this._moddle.ids.claim(e,n),e)};var M2={__depends__:[DD],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",O2],moddleCopy:["type",Ju]},D2=Math.round;function d0(e,n){this._modeling=e,this._eventBus=n}function I2(e,n){n.on("replace.end",500,(function(o){const{newElement:a,hints:l={}}=o;l.select!==!1&&e.select(a)}))}d0.$inject=["modeling","eventBus"],d0.prototype.replaceElement=function(e,n,o){if(e.waypoints)return null;var a=this._modeling,l=this._eventBus;l.fire("replace.start",{element:e,attrs:n,hints:o});var u=n.width||e.width,h=n.height||e.height,p=n.x||e.x,m=n.y||e.y,v=D2(p+u/2),x=D2(m+h/2),_=a.replaceShape(e,ie({},n,{x:v,y:x,width:u,height:h}),o);return l.fire("replace.end",{element:e,newElement:_,hints:o}),_},I2.$inject=["selection","eventBus"];var $D={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",I2],replace:["type",d0]},BD=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function L2(e,n,o,a,l,u){this.replaceElement=function(h,p,m){m=m||{};var v=p.type,x=h.businessObject;if(yh(x)&&(v==="bpmn:SubProcess"||v==="bpmn:AdHocSubProcess")&&(function(I,P){var U=I&&H(I,"collapsed")?I.collapsed:!zt(I);return U!==(P&&(H(P,"collapsed")||H(P,"isExpanded"))?H(P,"collapsed")?P.collapsed:!P.isExpanded:U)})(h,p))return a.toggleCollapse(h),h;var _=e.create(v),S={type:v,businessObject:_,di:{}};v==="bpmn:ExclusiveGateway"&&(S.di.isMarkerVisible=!0),(function(I,P,U){w(U)||(U=[U]),A(U,(function(K){y(I[K])||(P[K]=I[K])}))})(h.di,S.di,["fill","stroke","background-color","border-color","color"]);var k=(function(I,P){return I.filter((function(U){return P.includes(U)}))})(f0(x.$descriptor),f0(_.$descriptor,!0));ie(_,Xt(p,BD));var R=M(k,(function(I){return I==="eventDefinitions"?$2(h,p.eventDefinitionType):I==="loopCharacteristics"?!Nr(_):!H(_,I)&&(I!=="processRef"||p.isExpanded!==!1)&&I!=="triggeredByEvent"&&(I!=="isForCompensation"||!Nr(_))}));if(_=o.copyElement(x,_,R),p.eventDefinitionType&&($2(_,p.eventDefinitionType)||(S.eventDefinitionType=p.eventDefinitionType,S.eventDefinitionAttrs=p.eventDefinitionAttrs)),j(x,"bpmn:Activity")){if(yh(x))S.isExpanded=zt(h);else if(p&&H(p,"isExpanded")){S.isExpanded=p.isExpanded;var O=n.getDefaultSize(_,{isExpanded:S.isExpanded});S.width=O.width,S.height=O.height,S.x=h.x-(S.width-h.width)/2,S.y=h.y-(S.height-h.height)/2}zt(h)&&!j(x,"bpmn:Task")&&S.isExpanded&&(S.width=h.width,S.height=h.height)}if(yh(x)&&!yh(_)&&(m.moveChildren=!1),j(x,"bpmn:Participant")){p.isExpanded===!0?_.processRef=e.create("bpmn:Process"):m.moveChildren=!1;var F=fr(h);Yt(h).isHorizontal||(Yt(S).isHorizontal=F),S.width=F?h.width:n.getDefaultSize(S).width,S.height=F?n.getDefaultSize(S).height:h.height}return u.allowed("shape.resize",{shape:_})||(S.height=n.getDefaultSize(S).height,S.width=n.getDefaultSize(S).width),_.name=x.name,Ot(x,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Ot(_,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(_.default=x.default),p.host&&!j(x,"bpmn:BoundaryEvent")&&j(_,"bpmn:BoundaryEvent")&&(S.host=p.host),S.type!=="bpmn:DataStoreReference"&&S.type!=="bpmn:DataObjectReference"||(S.x=h.x+(h.width-S.width)/2),l.replaceElement(h,S,{...m,targetElement:p})}}function yh(e){return j(e,"bpmn:SubProcess")}function $2(e,n){var o=je(e);return n&&o.get("eventDefinitions").some((function(a){return j(a,n)}))}L2.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];var B2={__depends__:[M2,$D,Bi],bpmnReplace:["type",L2]};function qs(e){this._eventBus=e,this._tools=[],this._active=null}qs.$inject=["eventBus"],qs.prototype.registerTool=function(e,n){var o=this._tools;if(!n)throw new Error(`A tool has to be registered with it's "events"`);o.push(e),this.bindEvents(e,n)},qs.prototype.isActive=function(e){return e&&this._active===e},qs.prototype.length=function(e){return this._tools.length},qs.prototype.setActive=function(e){var n=this._eventBus;this._active!==e&&(this._active=e,n.fire("tool-manager.update",{tool:e}))},qs.prototype.bindEvents=function(e,n){var o=this._eventBus,a=[];o.on(n.tool+".init",(function(l){l.context.reactivate||!this.isActive(e)?this.setActive(e):this.setActive(null)}),this),A(n,(function(l){a.push(l+".ended"),a.push(l+".canceled")})),o.on(a,250,(function(l){this._active&&((function(u){var h=u.originalEvent&&u.originalEvent.target;return h&&Xe(h,'.group[data-group="tools"]')})(l)||this.setActive(null))}),this)};var bh={__depends__:[qo],__init__:["toolManager"],toolManager:["type",qs]};function Qu(e,n){return e.indexOf(n)!==-1}var p0=Math.abs,FD=Math.round,ta={x:"width",y:"height"},F2="crosshair",es={n:"top",w:"left",s:"bottom",e:"right"},xh={n:"s",w:"e",s:"n",e:"w"};function zi(e,n,o,a,l,u,h){this._canvas=e,this._dragging=n,this._eventBus=o,this._modeling=a,this._rules=l,this._toolManager=u,this._mouse=h;var p=this;u.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),o.on("spaceTool.selection.end",(function(m){o.once("spaceTool.selection.ended",(function(){p.activateMakeSpace(m.originalEvent)}))})),o.on("spaceTool.move",1500,(function(m){var v=m.context,x=v.initialized;x||(x=v.initialized=p.init(m,v)),x&&V2(m)})),o.on("spaceTool.end",(function(m){var v=m.context,x=v.axis,_=v.direction,S=v.movingShapes,k=v.resizingShapes,R=v.start;if(v.initialized){V2(m);var O={x:0,y:0};O[x]=FD(m["d"+x]),p.makeSpace(S,k,O,_,R),o.once("spaceTool.ended",(function(F){p.activateSelection(F.originalEvent,!0,!0)}))}}))}function j2(e){return{top:e.top-20,right:e.right+20,bottom:e.bottom+20,left:e.left-20}}function V2(e){var n,o,a=e.context.spaceToolConstraints;a&&(T(a.left)&&(n=Math.max(e.x,a.left),e.dx=e.dx+n-e.x,e.x=n),T(a.right)&&(n=Math.min(e.x,a.right),e.dx=e.dx+n-e.x,e.x=n),T(a.top)&&(o=Math.max(e.y,a.top),e.dy=e.dy+o-e.y,e.y=o),T(a.bottom)&&(o=Math.min(e.y,a.bottom),e.dy=e.dy+o-e.y,e.y=o))}function el(e,n){return e.indexOf(n)!==-1}zi.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],zi.prototype.activateSelection=function(e,n,o){this._dragging.init(e,"spaceTool.selection",{autoActivate:n,cursor:F2,data:{context:{reactivate:o}},trapClick:!1})},zi.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:F2,data:{context:{}}})},zi.prototype.makeSpace=function(e,n,o,a,l){return this._modeling.createSpace(e,n,o,a,l)},zi.prototype.init=function(e,n){var o=p0(e.dx)>p0(e.dy)?"x":"y",a=e["d"+o],l=e[o]-a;if(p0(a)<5)return!1;a<0&&(a*=-1),Mu(e)&&(a*=-1);var u=(function(x,_){if(x==="x"){if(_>0)return"e";if(_<0)return"w"}if(x==="y"){if(_>0)return"s";if(_<0)return"n"}return null})(o,a),h=this._canvas.getRootElement();!Tp(e)&&e.hover&&(h=e.hover);var p=[...vu(h,!0),...h.attachers||[]],m=this.calculateAdjustments(p,o,a,l),v=(function(x,_,S,k,R){var O=x.movingShapes,F=x.resizingShapes;if(F.length){var I,P,U={};return A(F,(function(K){var Y,se,Ee,_e,ye,st,Oe=K.attachers,Me=K.children,Pe=mt(K),Ve=M(Me,(function(Ft){return!(mn(Ft)||Bt(Ft)||el(O,Ft)||el(F,Ft))})),nt=M(Me,(function(Ft){return!mn(Ft)&&!Bt(Ft)&&el(O,Ft)})),Mt=[],Rt=[];Ve.length&&(se=j2(mt(ir(Ve))),Y=k-Pe[es[S]]+se[es[S]],S==="n"?U.bottom=P=T(P)?Math.min(P,Y):Y:S==="w"?U.right=P=T(P)?Math.min(P,Y):Y:S==="s"?U.top=I=T(I)?Math.max(I,Y):Y:S==="e"&&(U.left=I=T(I)?Math.max(I,Y):Y)),nt.length&&(Ee=j2(mt(ir(nt))),Y=k-Ee[es[xh[S]]]+Pe[es[xh[S]]],S==="n"?U.bottom=P=T(P)?Math.min(P,Y):Y:S==="w"?U.right=P=T(P)?Math.min(P,Y):Y:S==="s"?U.top=I=T(I)?Math.max(I,Y):Y:S==="e"&&(U.left=I=T(I)?Math.max(I,Y):Y)),Oe&&Oe.length&&(Oe.forEach((function(Ft){el(O,Ft)?Mt.push(Ft):Rt.push(Ft)})),Mt.length&&(_e=mt(ir(Mt.map(vt))),ye=Pe[es[xh[S]]]-(_e[es[xh[S]]]-k)),Rt.length&&(st=mt(ir(Rt.map(vt)))[es[S]]-(Pe[es[S]]-k)),S==="n"?(Y=Math.min(ye||1/0,st||1/0),U.bottom=P=T(P)?Math.min(P,Y):Y):S==="w"?(Y=Math.min(ye||1/0,st||1/0),U.right=P=T(P)?Math.min(P,Y):Y):S==="s"?(Y=Math.max(ye||-1/0,st||-1/0),U.top=I=T(I)?Math.max(I,Y):Y):S==="e"&&(Y=Math.max(ye||-1/0,st||-1/0),U.left=I=T(I)?Math.max(I,Y):Y));var Dt=R&&R[K.id];Dt&&(S==="n"?(Y=k+K[ta[_]]-Dt[ta[_]],U.bottom=P=T(P)?Math.min(P,Y):Y):S==="w"?(Y=k+K[ta[_]]-Dt[ta[_]],U.right=P=T(P)?Math.min(P,Y):Y):S==="s"?(Y=k-K[ta[_]]+Dt[ta[_]],U.top=I=T(I)?Math.max(I,Y):Y):S==="e"&&(Y=k-K[ta[_]]+Dt[ta[_]],U.left=I=T(I)?Math.max(I,Y):Y))})),U}})(m,o,u,l,this._eventBus.fire("spaceTool.getMinDimensions",{axis:o,direction:u,shapes:m.resizingShapes,start:l}));return ie(n,m,{axis:o,direction:u,spaceToolConstraints:v,start:l}),Pp("resize-"+(o==="x"?"ew":"ns")),!0},zi.prototype.calculateAdjustments=function(e,n,o,a){var l=this._rules,u=[],h=[],p=[],m=[];function v(_){u.includes(_)||u.push(_);var S=_.label;S&&!u.includes(S)&&u.push(S)}A(e,(function(_){if(_.parent&&!Bt(_))if(mn(_))m.push(_);else{var S=_[n],k=S+_[ta[n]];if((function(O){return!!O.host})(_)&&(o>0&&vt(_)[n]>a||o<0&&vt(_)[n]<a))p.push(_);else{var R;if(!(o>0&&S>a||o<0&&k<a))return S<a&&k>a&&l.allowed("shape.resize",{shape:_})?(R=_,void(h.includes(R)||h.push(R))):void 0;v(_)}}})),A(u,(function(_){var S=_.attachers;S&&A(S,(function(k){v(k)}))}));var x=u.concat(h);return A(p,(function(_){var S=_.host;el(x,S)&&v(_)})),x=u.concat(h),A(m,(function(_){var S=_.source,k=_.target,R=_.label;el(x,S)&&el(x,k)&&R&&v(R)})),{movingShapes:u,resizingShapes:h}},zi.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},zi.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^spaceTool/.test(e.prefix)};var h0="djs-dragging",H2="djs-resizing",_h=Math.max;function U2(e,n,o,a,l){function u(h,p){A(h,(function(m){l.addDragger(m,p),o.addMarker(m,h0)}))}e.on("spaceTool.selection.start",(function(h){var p=o.getLayer("space"),m=h.context,v="M 0,-10000 L 0,10000",x="M -10000,0 L 10000,0",_=ut("g");Ne(_,a.cls("djs-crosshair-group",["no-events"])),We(p,_);var S=ut("path");Ne(S,"d",v),rt(S).add("djs-crosshair"),We(_,S);var k=ut("path");Ne(k,"d",x),rt(k).add("djs-crosshair"),We(_,k),m.crosshairGroup=_})),e.on("spaceTool.selection.move",(function(h){Er(h.context.crosshairGroup,h.x,h.y)})),e.on("spaceTool.selection.cleanup",(function(h){var p=h.context.crosshairGroup;p&&Wn(p)})),e.on("spaceTool.move",250,(function(h){var p=h.context,m=p.line,v=p.axis,x=p.movingShapes,_=p.resizingShapes;if(p.initialized){if(!p.dragGroup){var S=o.getLayer("space");Ne(m=ut("path"),"d","M0,0 L0,0"),rt(m).add("djs-crosshair"),We(S,m),p.line=m;var k=ut("g");Ne(k,a.cls("djs-drag-group",["no-events"])),We(o.getActiveLayer(),k),u(x,k),u(p.movingConnections=n.filter((function(I){var P=!1;A(x,(function(se){A(se.outgoing,(function(Ee){I===Ee&&(P=!0)}))}));var U=!1;A(x,(function(se){A(se.incoming,(function(Ee){I===Ee&&(U=!0)}))}));var K=!1;A(_,(function(se){A(se.outgoing,(function(Ee){I===Ee&&(K=!0)}))}));var Y=!1;return A(_,(function(se){A(se.incoming,(function(Ee){I===Ee&&(Y=!0)}))})),mn(I)&&(P||K)&&(U||Y)})),k),p.dragGroup=k}if(!p.frameGroup){var R=ut("g");Ne(R,a.cls("djs-frame-group",["no-events"])),We(o.getActiveLayer(),R);var O=[];A(_,(function(I){var P=l.addFrame(I,R),U=P.getBBox();O.push({element:P,initialBounds:U}),o.addMarker(I,H2)})),p.frameGroup=R,p.frames=O}Ne(m,{d:{x:"M"+h.x+", -10000 L"+h.x+", 10000",y:"M -10000, "+h.y+" L 10000, "+h.y}[v]});var F={x:h.dx,y:h.dy};F[{x:"y",y:"x"}[p.axis]]=0,Er(p.dragGroup,F.x,F.y),A(p.frames,(function(I){var P,U,K=I.element,Y=I.initialBounds;p.direction==="e"?Ne(K,{width:_h(Y.width+F.x,5)}):Ne(K,{width:P=_h(Y.width-F.x,5),x:Y.x+Y.width-P}),p.direction==="s"?Ne(K,{height:_h(Y.height+F.y,5)}):Ne(K,{height:U=_h(Y.height-F.y,5),y:Y.y+Y.height-U})}))}})),e.on("spaceTool.cleanup",(function(h){var p=h.context,m=p.movingShapes,v=p.movingConnections,x=p.resizingShapes,_=p.line,S=p.dragGroup,k=p.frameGroup;A(m,(function(R){o.removeMarker(R,h0)})),A(v,(function(R){o.removeMarker(R,h0)})),S&&(Wn(_),Wn(S)),A(x,(function(R){o.removeMarker(R,H2)})),k&&Wn(k)}))}U2.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var jD={__init__:["spaceToolPreview"],__depends__:[qo,To,bh,fc,Zu],spaceTool:["type",zi],spaceToolPreview:["type",U2]};function Eh(e,n){e.invoke(zi,this),this._canvas=n}Eh.$inject=["injector","canvas"],i(Eh,zi),Eh.prototype.calculateAdjustments=function(e,n,o,a){var l=this._canvas.getRootElement(),u=e[0]===l?null:e[0],h=[];u&&(h=oe(g_(l.children.filter((v=>j(v,"bpmn:Artifact"))),ir(u))));const p=[...e,...h];var m=zi.prototype.calculateAdjustments.call(this,p,n,o,a);return m.resizingShapes=m.resizingShapes.filter((function(v){return!j(v,"bpmn:TextAnnotation")&&(!(function(x){return j(x,"bpmn:Participant")&&!je(x).processRef})(v)||!(n==="y"&&fr(v)||n==="x"&&!fr(v)))})),m};var z2={__depends__:[jD],spaceTool:["type",Eh]};function Nn(e,n){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=n,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}Nn.$inject=["eventBus","injector"],Nn.prototype.execute=function(e,n){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const o={command:e,context:n};this._pushAction(o),this._internalExecute(o),this._popAction()},Nn.prototype.canExecute=function(e,n){const o={command:e,context:n},a=this._getHandler(e);let l=this._fire(e,"canExecute",o);if(l===void 0){if(!a)return!1;a.canExecute&&(l=a.canExecute(n))}return l},Nn.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,e!==!1&&this._fire("changed",{trigger:"clear"})},Nn.prototype.undo=function(){let e,n=this._getUndoAction();if(n){for(this._currentExecution.trigger="undo",this._pushAction(n);n&&(this._internalUndo(n),e=this._getUndoAction(),e&&e.id===n.id);)n=e;this._popAction()}},Nn.prototype.redo=function(){let e,n=this._getRedoAction();if(n){for(this._currentExecution.trigger="redo",this._pushAction(n);n&&(this._internalExecute(n,!0),e=this._getRedoAction(),e&&e.id===n.id);)n=e;this._popAction()}},Nn.prototype.register=function(e,n){this._setHandler(e,n)},Nn.prototype.registerHandler=function(e,n){if(!e||!n)throw new Error("command and handlerCls must be defined");const o=this._injector.instantiate(n);this.register(e,o)},Nn.prototype.canUndo=function(){return!!this._getUndoAction()},Nn.prototype.canRedo=function(){return!!this._getRedoAction()},Nn.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Nn.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Nn.prototype._internalUndo=function(e){const n=e.command,o=e.context,a=this._getHandler(n);this._atomicDo((()=>{this._fire(n,"revert",e),a.revert&&this._markDirty(a.revert(o)),this._revertedAction(e),this._fire(n,"reverted",e)}))},Nn.prototype._fire=function(e,n,o){arguments.length<3&&(o=n,n=null);const a=n?[e+"."+n,n]:[e];let l;o=this._eventBus.createEvent(o);for(const u of a)if(l=this._eventBus.fire("commandStack."+u,o),o.cancelBubble)break;return l},Nn.prototype._createId=function(){return this._uid++},Nn.prototype._atomicDo=function(e){const n=this._currentExecution;n.atomic=!0;try{e()}finally{n.atomic=!1}},Nn.prototype._internalExecute=function(e,n){const o=e.command,a=e.context,l=this._getHandler(o);if(!l)throw new Error("no command handler registered for <"+o+">");this._pushAction(e),n||(this._fire(o,"preExecute",e),l.preExecute&&l.preExecute(a),this._fire(o,"preExecuted",e)),this._atomicDo((()=>{this._fire(o,"execute",e),l.execute&&this._markDirty(l.execute(a)),this._executedAction(e,n),this._fire(o,"executed",e)})),n||(this._fire(o,"postExecute",e),l.postExecute&&l.postExecute(a),this._fire(o,"postExecuted",e)),this._popAction()},Nn.prototype._pushAction=function(e){const n=this._currentExecution,o=n.actions,a=o[0];if(n.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=a&&a.id||this._createId()),o.push(e)},Nn.prototype._popAction=function(){const e=this._currentExecution,n=e.trigger,o=e.actions,a=e.dirty;o.pop(),o.length||(this._eventBus.fire("elements.changed",{elements:J("id",a.reverse())}),a.length=0,this._fire("changed",{trigger:n}),e.trigger=null)},Nn.prototype._markDirty=function(e){const n=this._currentExecution;e&&(e=w(e)?e:[e],n.dirty=n.dirty.concat(e))},Nn.prototype._executedAction=function(e,n){const o=++this._stackIdx;n||this._stack.splice(o,this._stack.length,e)},Nn.prototype._revertedAction=function(e){this._stackIdx--},Nn.prototype._getHandler=function(e){return this._handlerMap[e]},Nn.prototype._setHandler=function(e,n){if(!e||!n)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=n};var VD={commandStack:["type",Nn]};function ts(e,n){if(typeof n!="function")throw new Error("removeFn iterator must be a function");if(e){for(var o;o=e[0];)n(o);return e}}function m0(e,n,o){Fe.call(this,n);var a=e.get("movePreview",!1);n.on("shape.move.start",1400,(function(l){var u=l.context,h=u.shapes,p=u.validatedShapes;u.shapes=G2(h),u.validatedShapes=G2(p)})),a&&n.on("shape.move.start",250,(function(l){var u=l.context,h=u.shapes,p=[];A(h,(function(m){A(m.labels,(function(v){v.hidden||u.shapes.indexOf(v)!==-1||p.push(v),m.labelTarget&&p.push(m)}))})),A(p,(function(m){a.makeDraggable(u,m,!0)}))})),this.preExecuted("elements.move",1400,(function(l){var u=l.context.closure,h=u.enclosedElements,p=[];A(h,(function(m){A(m.labels,(function(v){h[v.id]||p.push(v)}))})),u.addAll(p)})),this.preExecute(["connection.delete","shape.delete"],(function(l){var u=l.context;ts((u.connection||u.shape).labels,(function(h){o.removeShape(h,{nested:!0})}))})),this.execute("shape.delete",(function(l){var u=l.context,h=u.shape,p=h.labelTarget;p&&(u.labelTargetIndex=vv(p.labels,h),u.labelTarget=p,h.labelTarget=null)})),this.revert("shape.delete",(function(l){var u=l.context,h=u.shape,p=u.labelTarget,m=u.labelTargetIndex;p&&(or(p.labels,h,m),h.labelTarget=p)}))}function G2(e){return M(e,(function(n){return e.indexOf(n.labelTarget)===-1}))}i(m0,Fe),m0.$inject=["injector","eventBus","modeling"];var HD={__init__:["labelSupport"],labelSupport:["type",m0]},W2="attach-ok";function g0(e,n,o,a,l){Fe.call(this,n);var u=e.get("movePreview",!1);n.on("shape.move.start",1401,(function(h){var p,m,v=h.context,x=v.shapes,_=v.validatedShapes;v.shapes=(m=v0(p=x),ce("id",p,m)),v.validatedShapes=(function(S){var k=re(S,"id");return M(S,(function(R){for(;R;){if(R.host&&k[R.host.id])return!1;R=R.parent}return!0}))})(_)})),u&&n.on("shape.move.start",251,(function(h){var p=h.context;A(v0(p.shapes),(function(m){u.makeDraggable(p,m,!0),A(m.labels,(function(v){u.makeDraggable(p,v,!0)}))}))})),u&&n.on("shape.move.start",(function(h){var p=h.context.shapes;if(p.length===1){var m=p[0].host;m&&(o.addMarker(m,W2),n.once(["shape.move.out","shape.move.cleanup"],(function(){o.removeMarker(m,W2)})))}})),this.preExecuted("elements.move",1401,(function(h){var p=h.context,m=p.closure;A(v0(p.shapes),(function(v){m.add(v,m.topLevel[v.host.id])}))})),this.postExecuted("elements.move",(function(h){var p=h.context,m=p.shapes,v=p.newHost;v&&m.length!==1||A(v?m:M(m,(function(x){var _,S=x.host;return(function(k){return!!k.host})(x)&&(_=S,m.indexOf(_)===-1)})),(function(x){l.updateAttachment(x,v)}))})),this.postExecuted("elements.move",(function(h){A(h.context.shapes,(function(p){A(p.attachers,(function(m){A(m.outgoing.slice(),(function(v){a.allowed("connection.reconnect",{connection:v,source:v.source,target:v.target})||l.removeConnection(v)})),A(m.incoming.slice(),(function(v){a.allowed("connection.reconnect",{connection:v,source:v.source,target:v.target})||l.removeConnection(v)}))}))}))})),this.postExecute("shape.create",(function(h){var p=h.context,m=p.shape,v=p.host;v&&l.updateAttachment(m,v)})),this.postExecute("shape.replace",(function(h){var p=h.context,m=p.oldShape,v=p.newShape;ts(m.attachers,(function(x){a.allowed("elements.move",{target:v,shapes:[x]})==="attach"?l.updateAttachment(x,v):l.removeShape(x)})),v.attachers.length&&A(v.attachers,(function(x){var _=US(x,m,v);l.moveShape(x,_,x.parent)}))})),this.postExecute("shape.resize",(function(h){var p=h.context,m=p.shape,v=p.oldBounds,x=p.newBounds,_=m.attachers;(p.hints||{}).attachSupport!==!1&&A(_,(function(S){var k=US(S,v,x);l.moveShape(S,k,S.parent),A(S.labels,(function(R){l.moveShape(R,k,R.parent)}))}))})),this.preExecute("shape.delete",(function(h){var p=h.context.shape;ts(p.attachers,(function(m){l.removeShape(m)})),p.host&&l.updateAttachment(p,null)}))}function v0(e){return d(W(e,(function(n){return n.attachers||[]})))}i(g0,Fe),g0.$inject=["injector","eventBus","canvas","rules","modeling"];var UD={__depends__:[To],__init__:["attachSupport"],attachSupport:["type",g0]};function Gi(e){this._model=e}function di(e,n,o){Fe.call(this,e),this._bpmnFactory=n;var a=this;function l(x){A(x.context.oldRoot.children,(function(_){j(_,"bpmn:BaseElement")&&a.updateParent(_)}))}function u(x){var _=x.context.shape;j(_,"bpmn:BaseElement")&&a.updateBounds(_)}function h(x){a.updateConnection(x.context)}function p(x){a.updateConnectionWaypoints(x.context.connection)}function m(x){a.updateAttachment(x.context)}function v(x){const{element:_}=x.context,S=ro(_),k=Yt(_),R=k&&k.get("label");za(_)||Sp(_)||(S&&!R?k.set("label",n.create("bpmndi:BPMNLabel")):!S&&R&&k.set("label",void 0))}this.executed(["connection.layout","connection.create"],(function(x){var _,S=x.context,k=S.hints||{};S.cropped||k.createElementsBehavior===!1||((_=S.connection).waypoints=o.getCroppedWaypoints(_),S.cropped=!0)})),this.reverted(["connection.layout"],(function(x){delete x.context.cropped})),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],pi((function(x){var _=x.context;a.updateParent(_.shape||_.connection,_.oldParent)}))),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],pi((function(x){var _=x.context,S=_.shape||_.connection,k=_.parent||_.newParent;a.updateParent(S,k)}))),this.executed(["canvas.updateRoot"],l),this.reverted(["canvas.updateRoot"],l),this.executed(["shape.move","shape.create","shape.resize"],pi((function(x){x.context.shape.type!=="label"&&u(x)}))),this.reverted(["shape.move","shape.create","shape.resize"],pi((function(x){x.context.shape.type!=="label"&&u(x)}))),e.on("shape.changed",(function(x){x.element.type==="label"&&u({context:{shape:x.element}})})),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],pi(h)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],pi(h)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],pi(p)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],pi(p)),this.executed("connection.reconnect",pi((function(x){var _=x.context,S=_.connection,k=_.oldSource,R=_.newSource,O=je(S),F=je(k),I=je(R);O.conditionExpression&&!Ot(I,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(_.oldConditionExpression=O.conditionExpression,delete O.conditionExpression),k!==R&&F.default===O&&(_.oldDefault=F.default,delete F.default)}))),this.reverted("connection.reconnect",pi((function(x){var _=x.context,S=_.connection,k=_.oldSource,R=_.newSource,O=je(S),F=je(k),I=je(R);_.oldConditionExpression&&(O.conditionExpression=_.oldConditionExpression),_.oldDefault&&(F.default=_.oldDefault,delete I.default)}))),this.executed(["element.updateAttachment"],pi(m)),this.reverted(["element.updateAttachment"],pi(m)),this.executed("element.updateLabel",pi(v)),this.reverted("element.updateLabel",pi(v))}function pi(e){return function(n){var o=n.context;j(o.shape||o.connection||o.element,"bpmn:BaseElement")&&e(n)}}function ns(e,n){Wo.call(this),this._bpmnFactory=e,this._moddle=n}function y0(e,n,o){return n[o]===void 0?n:(e[o]=n[o],Wt(n,[o]))}function wh(e,n){this._modeling=e,this._canvas=n}function Sh(e){this._modeling=e}function Ch(e,n){this._canvas=e,this._layouter=n}Gi.$inject=["moddle"],Gi.prototype._needsId=function(e){return Ot(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Gi.prototype._ensureId=function(e){var n;e.id?this._model.ids.claim(e.id,e):(n=j(e,"bpmn:Activity")?"Activity":j(e,"bpmn:Event")?"Event":j(e,"bpmn:Gateway")?"Gateway":Ot(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(e.$type||"").replace(/^[^:]*:/g,""),n+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(n,e)))},Gi.prototype.create=function(e,n){var o=this._model.create(e,n||{});return this._ensureId(o),o},Gi.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Gi.prototype.createDiShape=function(e,n){return this.create("bpmndi:BPMNShape",ie({bpmnElement:e,bounds:this.createDiBounds()},n))},Gi.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},Gi.prototype.createDiWaypoints=function(e){var n=this;return W(e,(function(o){return n.createDiWaypoint(o)}))},Gi.prototype.createDiWaypoint=function(e){return this.create("dc:Point",Xt(e,["x","y"]))},Gi.prototype.createDiEdge=function(e,n){return this.create("bpmndi:BPMNEdge",ie({bpmnElement:e,waypoint:this.createDiWaypoints([])},n))},Gi.prototype.createDiPlane=function(e,n){return this.create("bpmndi:BPMNPlane",ie({bpmnElement:e},n))},i(di,Fe),di.$inject=["eventBus","bpmnFactory","connectionDocking"],di.prototype.updateAttachment=function(e){var n=e.shape,o=n.businessObject,a=n.host;o.attachedToRef=a&&a.businessObject},di.prototype.updateParent=function(e,n){if(!(Bt(e)||j(e,"bpmn:DataStoreReference")&&e.parent&&j(e.parent,"bpmn:Collaboration"))){var o=e.parent,a=e.businessObject,l=Yt(e),u=o&&o.businessObject,h=Yt(o);j(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(a,u,n&&n.businessObject),j(e,"bpmn:DataOutputAssociation")&&(u=e.source?e.source.businessObject:null),j(e,"bpmn:DataInputAssociation")&&(u=e.target?e.target.businessObject:null),this.updateSemanticParent(a,u),j(e,"bpmn:DataObjectReference")&&a.dataObjectRef&&this.updateSemanticParent(a.dataObjectRef,u),this.updateDiParent(l,h)}},di.prototype.updateBounds=function(e){var n=Yt(e),o=(function(h){if(j(h,"bpmn:Activity")){var p=Yt(h);if(p){var m=p.get("label");if(m)return m.get("bounds")}}})(e);if(o){var a=io(o,n.get("bounds"));ie(o,{x:e.x+a.x,y:e.y+a.y})}var l=Bt(e)?this._getLabel(n):n,u=l.bounds;u||(u=this._bpmnFactory.createDiBounds(),l.set("bounds",u)),ie(u,{x:e.x,y:e.y,width:e.width,height:e.height})},di.prototype.updateFlowNodeRefs=function(e,n,o){o!==n&&(j(o,"bpmn:Lane")&&Kn(o.get("flowNodeRef"),e),j(n,"bpmn:Lane")&&or(n.get("flowNodeRef"),e))},di.prototype.updateDiConnection=function(e,n,o){var a=Yt(e),l=Yt(n),u=Yt(o);a.sourceElement&&a.sourceElement.bpmnElement!==je(n)&&(a.sourceElement=n&&l),a.targetElement&&a.targetElement.bpmnElement!==je(o)&&(a.targetElement=o&&u)},di.prototype.updateDiParent=function(e,n){if(n&&!j(n,"bpmndi:BPMNPlane")&&(n=n.$parent),e.$parent!==n){var o=(n||e.$parent).get("planeElement");n?(o.push(e),e.$parent=n):(Kn(o,e),e.$parent=null)}},di.prototype.getLaneSet=function(e){var n,o;return j(e,"bpmn:Lane")?((n=e.childLaneSet)||(n=this._bpmnFactory.create("bpmn:LaneSet"),e.childLaneSet=n,n.$parent=e),n):(j(e,"bpmn:Participant")&&(e=e.processRef),(n=(o=e.get("laneSets"))[0])||((n=this._bpmnFactory.create("bpmn:LaneSet")).$parent=e,o.push(n)),n)},di.prototype.updateSemanticParent=function(e,n,o){var a;if(e.$parent!==n&&(!j(e,"bpmn:DataInput")&&!j(e,"bpmn:DataOutput")||(j(n,"bpmn:Participant")&&"processRef"in n&&(n=n.processRef),!("ioSpecification"in n)||n.ioSpecification!==e.$parent))){if(j(e,"bpmn:Lane"))n&&(n=this.getLaneSet(n)),a="lanes";else if(j(e,"bpmn:FlowElement")){if(n){if(j(n,"bpmn:Participant"))n=n.processRef;else if(j(n,"bpmn:Lane"))do n=n.$parent.$parent;while(j(n,"bpmn:Lane"))}a="flowElements"}else if(j(e,"bpmn:Artifact")){for(;n&&!j(n,"bpmn:Process")&&!j(n,"bpmn:SubProcess")&&!j(n,"bpmn:Collaboration");){if(j(n,"bpmn:Participant")){n=n.processRef;break}n=n.$parent}a="artifacts"}else if(j(e,"bpmn:MessageFlow"))a="messageFlows";else if(j(e,"bpmn:Participant")){a="participants";var l,u=e.processRef;u&&(l=(function(m){for(;m&&!j(m,"bpmn:Definitions");)m=m.$parent;return m})(e.$parent||n),e.$parent&&(Kn(l.get("rootElements"),u),u.$parent=null),n&&(or(l.get("rootElements"),u),u.$parent=l))}else j(e,"bpmn:DataOutputAssociation")?a="dataOutputAssociations":j(e,"bpmn:DataInputAssociation")&&(a="dataInputAssociations");if(!a)throw new Error(`no parent for <${e.id}> in <${n.id}>`);var h;if(e.$parent&&Kn(h=e.$parent.get(a),e),n?((h=n.get(a)).push(e),e.$parent=n):e.$parent=null,o){var p=o.get(a);Kn(h,e),n&&(p||(p=[],n.set(a,p)),p.push(e))}}},di.prototype.updateConnectionWaypoints=function(e){Yt(e).set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))},di.prototype.updateConnection=function(e){var n,o=e.connection,a=je(o),l=o.source,u=je(l),h=o.target,p=je(o.target);if(j(a,"bpmn:DataAssociation"))j(a,"bpmn:DataInputAssociation")?(a.get("sourceRef")[0]=u,n=e.parent||e.newParent||p,this.updateSemanticParent(a,p,n)):j(a,"bpmn:DataOutputAssociation")&&(n=e.parent||e.newParent||u,this.updateSemanticParent(a,u,n),a.targetRef=p);else{var m=j(a,"bpmn:SequenceFlow");a.sourceRef!==u&&(m&&(Kn(a.sourceRef&&a.sourceRef.get("outgoing"),a),u&&u.get("outgoing")&&u.get("outgoing").push(a)),a.sourceRef=u),a.targetRef!==p&&(m&&(Kn(a.targetRef&&a.targetRef.get("incoming"),a),p&&p.get("incoming")&&p.get("incoming").push(a)),a.targetRef=p)}this.updateConnectionWaypoints(o),this.updateDiConnection(o,l,h)},di.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label},i(ns,Wo),ns.$inject=["bpmnFactory","moddle"],ns.prototype._baseCreate=Wo.prototype.create,ns.prototype.create=function(e,n){if(e==="label"){var o=n.di||this._bpmnFactory.createDiLabel();return this._baseCreate(e,ie({type:"label",di:o},Au,n))}return this.createElement(e,n)},ns.prototype.createElement=function(e,n){var o,a,l,u=(n=ie({},n||{})).businessObject,h=n.di;if(!u){if(!n.type)throw new Error("no shape type specified");cE(u=this._bpmnFactory.create(n.type))}if(!Ot(h,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var p=ie({},h||{},{id:u.id+"_di"});h=e==="root"?this._bpmnFactory.createDiPlane(u,p):e==="connection"?this._bpmnFactory.createDiEdge(u,p):this._bpmnFactory.createDiShape(u,p)}return j(u,"bpmn:Group")&&(n=ie({isFrame:!0},n)),n=(function(m,v,x){return A(x,(function(_){v=y0(m,v,_)})),v})(u,n,["processRef","isInterrupting","associationDirection","isForCompensation"]),n.isExpanded&&(n=y0(h,n,"isExpanded")),Ot(u,["bpmn:Lane","bpmn:Participant"])&&(n=y0(h,n,"isHorizontal")),j(u,"bpmn:SubProcess")&&(n.collapsed=!zt(u,h)),j(u,"bpmn:ExclusiveGateway")&&(H(h,"isMarkerVisible")?h.isMarkerVisible===void 0&&(h.isMarkerVisible=!1):h.isMarkerVisible=!0),b(n.triggeredByEvent)&&(u.triggeredByEvent=n.triggeredByEvent,delete n.triggeredByEvent),b(n.cancelActivity)&&(u.cancelActivity=n.cancelActivity,delete n.cancelActivity),n.eventDefinitionType&&(a=u.get("eventDefinitions")||[],l=this._bpmnFactory.create(n.eventDefinitionType,n.eventDefinitionAttrs),n.eventDefinitionType==="bpmn:ConditionalEventDefinition"&&(l.condition=this._bpmnFactory.create("bpmn:FormalExpression")),a.push(l),l.$parent=u,u.eventDefinitions=a,delete n.eventDefinitionType),o=this.getDefaultSize(u,h),n=ie({id:u.id},o,n,{businessObject:u,di:h}),this._baseCreate(e,n)},ns.prototype.getDefaultSize=function(e,n){var o=je(e);if(n=n||Yt(e),j(o,"bpmn:SubProcess"))return zt(o,n)?{width:350,height:200}:{width:100,height:80};if(j(o,"bpmn:Task"))return{width:100,height:80};if(j(o,"bpmn:Gateway"))return{width:50,height:50};if(j(o,"bpmn:Event"))return{width:36,height:36};if(j(o,"bpmn:Participant")){var a=n.isHorizontal===void 0||n.isHorizontal===!0;return zt(o,n)?a?{width:600,height:250}:{width:250,height:600}:a?{width:400,height:60}:{width:60,height:400}}return j(o,"bpmn:Lane")?{width:400,height:100}:j(o,"bpmn:DataObjectReference")?{width:36,height:50}:j(o,"bpmn:DataStoreReference")?{width:50,height:50}:j(o,"bpmn:TextAnnotation")?{width:100,height:30}:j(o,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},ns.prototype.createParticipantShape=function(e){return C(e)||(e={isExpanded:e}),(e=ie({type:"bpmn:Participant"},e||{})).isExpanded!==!1&&(e.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(e)},wh.$inject=["modeling","canvas"],wh.prototype.preExecute=function(e){var n=this._modeling,o=e.elements,a=e.alignment;A(o,(function(l){var u={x:0,y:0};b(a.left)?u.x=a.left-l.x:b(a.right)?u.x=a.right-l.width-l.x:b(a.center)?u.x=a.center-Math.round(l.width/2)-l.x:b(a.top)?u.y=a.top-l.y:b(a.bottom)?u.y=a.bottom-l.height-l.y:b(a.middle)&&(u.y=a.middle-Math.round(l.height/2)-l.y),n.moveElements([l],u,l.parent)}))},wh.prototype.postExecute=function(e){},Sh.$inject=["modeling"],Sh.prototype.preExecute=function(e){var n=e.source;if(!n)throw new Error("source required");var o=e.target||n.parent,a=e.shape,l=e.hints||{};a=e.shape=this._modeling.createShape(a,e.position,o,{attach:l.attach}),e.shape=a},Sh.prototype.postExecute=function(e){var n,o,a=e.hints||{};n=e.source,o=e.shape,ee(n.outgoing,(function(l){return l.target===o}))||(a.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))},Ch.$inject=["canvas","layouter"],Ch.prototype.execute=function(e){var n=e.connection,o=e.source,a=e.target,l=e.parent,u=e.parentIndex,h=e.hints;if(!o||!a)throw new Error("source and target required");if(!l)throw new Error("parent required");return n.source=o,n.target=a,n.waypoints||(n.waypoints=this._layouter.layoutConnection(n,h)),this._canvas.addConnection(n,l,u),n},Ch.prototype.revert=function(e){var n=e.connection;return this._canvas.removeConnection(n),n.source=null,n.target=null,n};var Th=Math.round;function b0(e){this._modeling=e}b0.$inject=["modeling"],b0.prototype.preExecute=function(e){var n=e.elements,o=e.parent,a=e.parentIndex,l=e.position,u=e.hints,h=this._modeling;A(n,(function(x){T(x.x)||(x.x=0),T(x.y)||(x.y=0)}));var p=ir(M(n,(function(x){return!x.hidden})));A(n,(function(x){mn(x)&&(x.waypoints=W(x.waypoints,(function(_){return{x:Th(_.x-p.x-p.width/2+l.x),y:Th(_.y-p.y-p.height/2+l.y)}}))),ie(x,{x:Th(x.x-p.x-p.width/2+l.x),y:Th(x.y-p.y-p.height/2+l.y)})}));var m=ip(n),v={};A(n,(function(x){if(mn(x))v[x.id]=T(a)?h.createConnection(v[x.source.id],v[x.target.id],a,x,x.parent||o,u):h.createConnection(v[x.source.id],v[x.target.id],x,x.parent||o,u);else{var _=ie({},u);m.indexOf(x)===-1&&(_.autoResize=!1),Bt(x)&&(_=Wt(_,["attach"])),v[x.id]=T(a)?h.createShape(x,Xt(x,["x","y","width","height"]),x.parent||o,a,_):h.createShape(x,Xt(x,["x","y","width","height"]),x.parent||o,_)}})),e.elements=oe(v)};var K2=Math.round;function rs(e){this._canvas=e}function qu(e){rs.call(this,e)}rs.$inject=["canvas"],rs.prototype.execute=function(e){var n=e.shape,o=e.position,a=e.parent,l=e.parentIndex;if(!a)throw new Error("parent required");if(!o)throw new Error("position required");return o.width!==void 0?ie(n,o):ie(n,{x:o.x-K2(n.width/2),y:o.y-K2(n.height/2)}),this._canvas.addShape(n,a,l),n},rs.prototype.revert=function(e){var n=e.shape;return this._canvas.removeShape(n),n},i(qu,rs),qu.$inject=["canvas"];var zD=rs.prototype.execute;qu.prototype.execute=function(e){var n=e.shape;return(function(o){["width","height"].forEach((function(a){o[a]===void 0&&(o[a]=0)}))})(n),n.labelTarget=e.labelTarget,zD.call(this,e)};var GD=rs.prototype.revert;function ef(e,n){this._canvas=e,this._modeling=n}function x0(e,n){this._modeling=e,this._elementRegistry=n}function tf(e,n){this._canvas=e,this._modeling=n}function kh(e){this._modeling=e}qu.prototype.revert=function(e){return e.shape.labelTarget=null,GD.call(this,e)},ef.$inject=["canvas","modeling"],ef.prototype.preExecute=function(e){var n=this._modeling,o=e.connection;ts(o.incoming,(function(a){n.removeConnection(a,{nested:!0})})),ts(o.outgoing,(function(a){n.removeConnection(a,{nested:!0})}))},ef.prototype.execute=function(e){var n=e.connection,o=n.parent;return e.parent=o,e.parentIndex=vv(o.children,n),e.source=n.source,e.target=n.target,this._canvas.removeConnection(n),n.source=null,n.target=null,n},ef.prototype.revert=function(e){var n=e.connection,o=e.parent,a=e.parentIndex;return n.source=e.source,n.target=e.target,or(o.children,n,a),this._canvas.addConnection(n,o),n},x0.$inject=["modeling","elementRegistry"],x0.prototype.postExecute=function(e){var n=this._modeling,o=this._elementRegistry;A(e.elements,(function(a){o.get(a.id)&&(a.waypoints?n.removeConnection(a):n.removeShape(a))}))},tf.$inject=["canvas","modeling"],tf.prototype.preExecute=function(e){var n=this._modeling,o=e.shape;ts(o.incoming,(function(a){n.removeConnection(a,{nested:!0})})),ts(o.outgoing,(function(a){n.removeConnection(a,{nested:!0})})),ts(o.children,(function(a){mn(a)?n.removeConnection(a,{nested:!0}):n.removeShape(a,{nested:!0})}))},tf.prototype.execute=function(e){var n=this._canvas,o=e.shape,a=o.parent;return e.oldParent=a,e.oldParentIndex=vv(a.children,o),n.removeShape(o),o},tf.prototype.revert=function(e){var n=this._canvas,o=e.shape,a=e.oldParent,l=e.oldParentIndex;return or(a.children,o,l),n.addShape(o,a),o},kh.$inject=["modeling"];var X2={x:"y",y:"x"};function Ah(e,n){this._layouter=e,this._canvas=n}function _0(){}function E0(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function nf(e){this._modeling=e}function Rh(e){this._helper=new nf(e)}function tl(e){this._modeling=e,this._helper=new nf(e)}function rf(e){this._modeling=e}function Y2(e){return e.original||e}function na(e,n){this._modeling=e,this._rules=n}function of(e){this._modeling=e}function is(e){this._modeling=e}function Z2(e){return ie({},e)}function J2(e){switch(e){case"n":case"s":return"y";case"w":case"e":return"x"}}function Q2(e,n,o){var a=J2(o);return/e|s/.test(o)?e[a]>n:/n|w/.test(o)?e[a]<n:void 0}function os(e,n){return e.indexOf(n)!==-1}function Ph(e){this._modeling=e}function q2(e){var n={};return A(e,(function(o){n[o.id]=o.hidden,o.children&&(n=ie({},n,q2(o.children)))})),n}function eC(e,n){var o=[];return A(e,(function(a){a.hidden=n,o=o.concat(a),a.children&&(o=o.concat(eC(a.children,a.collapsed||n)))})),o}function tC(e,n){var o=[];return A(e,(function(a){a.hidden=n[a.id],o=o.concat(a),a.children&&(o=o.concat(tC(a.children,n)))})),o}function Nh(e){this._modeling=e}function nC(e,n){return Kn(e&&e.attachers,n)}function rC(e,n,o){if(e){var a=e.attachers;a||(e.attachers=a=[]),or(a,n,o)}}function w0(){}function gn(e,n,o){this._eventBus=e,this._elementFactory=n,this._commandStack=o;var a=this;e.on("diagram.init",(function(){a.registerHandlers(o)}))}function af(e){this._elementRegistry=e}function iC(e,n){A(n,(function(o,a){e.set(a,o)}))}kh.prototype.preExecute=function(e){var n=this._modeling,o=e.groups,a=e.axis,l=e.dimension;function u(O,F){O.range.min=Math.min(F[a],O.range.min),O.range.max=Math.max(F[a]+F[l],O.range.max)}function h(O){return O[a]+O[l]/2}function p(O){return O.length-1}function m(O){return O.max-O.min}var v,x,_=o[0],S=p(o),k=o[S],R=0;A(o,(function(O,F){var I,P,U;O.elements.length<2?F&&F!==o.length-1&&(u(O,O.elements[0]),R+=m(O.range)):(P=(I=ue(O.elements,a))[0],F===S&&(P=I[p(I)]),U=h(P),O.range=null,A(I,(function(K){(function(Y,se){var Ee={y:0};Ee[a]=Y-h(se),Ee[a]&&(Ee[X2[a]]=0,n.moveElements([se],Ee,se.parent))})(U,K),O.range!==null?u(O,K):O.range={min:K[a],max:K[a]+K[l]}})),F&&F!==o.length-1&&(R+=m(O.range)))})),x=Math.abs(k.range.min-_.range.max),(v=Math.round((x-R)/(o.length-1)))<o.length-1||A(o,(function(O,F){var I,P={};O!==_&&O!==k&&(I=o[F-1],O.range.max=0,A(O.elements,(function(U,K){P[X2[a]]=0,P[a]=I.range.max-U[a]+v,O.range.min!==U[a]&&(P[a]+=U[a]-O.range.min),P[a]&&n.moveElements([U],P,U.parent),O.range.max=Math.max(U[a]+U[l],K?O.range.max:0)})))}))},kh.prototype.postExecute=function(e){},Ah.$inject=["layouter","canvas"],Ah.prototype.execute=function(e){var n=e.connection;return ie(e,{oldWaypoints:n.waypoints}),n.waypoints=this._layouter.layoutConnection(n,e.hints),n},Ah.prototype.revert=function(e){var n=e.connection;return n.waypoints=e.oldWaypoints,n},_0.prototype.execute=function(e){var n=e.connection,o=e.delta,a=e.newParent||n.parent,l=e.newParentIndex,u=n.parent;return e.oldParent=u,e.oldParentIndex=Kn(u.children,n),or(a.children,n,l),n.parent=a,A(n.waypoints,(function(h){h.x+=o.x,h.y+=o.y,h.original&&(h.original.x+=o.x,h.original.y+=o.y)})),n},_0.prototype.revert=function(e){var n=e.connection,o=n.parent,a=e.oldParent,l=e.oldParentIndex,u=e.delta;return Kn(o.children,n),or(a.children,n,l),n.parent=a,A(n.waypoints,(function(h){h.x-=u.x,h.y-=u.y,h.original&&(h.original.x-=u.x,h.original.y-=u.y)})),n},E0.prototype.add=function(e,n){return this.addAll([e],n)},E0.prototype.addAll=function(e,n){var o=(function(a,l,u){y(l)&&(l=!0),C(l)&&(u=l,l=!0);var h=yu((u=u||{}).allShapes),p=yu(u.allConnections),m=yu(u.enclosedElements),v=yu(u.enclosedConnections),x=yu(u.topLevel,l&&re(a,(function(S){return S.id})));function _(S){x[S.source.id]&&x[S.target.id]&&(x[S.id]=[S]),h[S.source.id]&&h[S.target.id]&&(v[S.id]=m[S.id]=S),p[S.id]=S}return js(a,(function(S){if(m[S.id]=S,!S.waypoints)return h[S.id]=S,A(S.incoming,_),A(S.outgoing,_),S.children;v[S.id]=p[S.id]=S})),{allShapes:h,allConnections:p,topLevel:x,enclosedConnections:v,enclosedElements:m}})(e,!!n,this);return ie(this,o),this},nf.prototype.moveRecursive=function(e,n,o){return e?this.moveClosure(this.getClosure(e),n,o):[]},nf.prototype.moveClosure=function(e,n,o,a,l){var u=this._modeling,h=e.allShapes,p=e.allConnections,m=e.enclosedConnections,v=e.topLevel,x=!1;l&&l.parent===o&&(x=!0),A(h,(function(_){u.moveShape(_,n,v[_.id]&&!x&&o,{recurse:!1,layout:!1})})),A(p,(function(_){var S=!!h[_.source.id],k=!!h[_.target.id];m[_.id]&&S&&k?u.moveConnection(_,n,v[_.id]&&!x&&o):u.layoutConnection(_,{connectionStart:S&&Ly(_,_.source,n),connectionEnd:k&&$y(_,_.target,n)})}))},nf.prototype.getClosure=function(e){return new E0().addAll(e,!0)},Rh.$inject=["modeling"],Rh.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},Rh.prototype.postExecute=function(e){var n,o=e.hints;o&&o.primaryShape&&(n=o.primaryShape,o.oldParent=n.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,n)},tl.$inject=["modeling"],tl.prototype.execute=function(e){var n=e.shape,o=e.delta,a=e.newParent||n.parent,l=e.newParentIndex,u=n.parent;return e.oldBounds=Xt(n,["x","y","width","height"]),e.oldParent=u,e.oldParentIndex=Kn(u.children,n),or(a.children,n,l),ie(n,{parent:a,x:n.x+o.x,y:n.y+o.y}),n},tl.prototype.postExecute=function(e){var n=e.shape,o=e.delta,a=e.hints,l=this._modeling;a.layout!==!1&&(A(n.incoming,(function(u){l.layoutConnection(u,{connectionEnd:$y(u,n,o)})})),A(n.outgoing,(function(u){l.layoutConnection(u,{connectionStart:Ly(u,n,o)})}))),a.recurse!==!1&&this.moveChildren(e)},tl.prototype.revert=function(e){var n=e.shape,o=e.oldParent,a=e.oldParentIndex,l=e.delta;return or(o.children,n,a),ie(n,{parent:o,x:n.x-l.x,y:n.y-l.y}),n},tl.prototype.moveChildren=function(e){var n=e.delta,o=e.shape;this._helper.moveRecursive(o.children,n,null)},tl.prototype.getNewParent=function(e){return e.newParent||e.shape.parent},rf.$inject=["modeling"],rf.prototype.execute=function(e){var n=e.newSource,o=e.newTarget,a=e.connection,l=e.dockingOrPoints;if(!n&&!o)throw new Error("newSource or newTarget required");return w(l)&&(e.oldWaypoints=a.waypoints,a.waypoints=l),n&&(e.oldSource=a.source,a.source=n),o&&(e.oldTarget=a.target,a.target=o),a},rf.prototype.postExecute=function(e){var n=e.connection,o=e.newSource,a=e.newTarget,l=e.dockingOrPoints,u=e.hints||{},h={};u.connectionStart&&(h.connectionStart=u.connectionStart),u.connectionEnd&&(h.connectionEnd=u.connectionEnd),u.layoutConnection!==!1&&(!o||a&&u.docking!=="source"||(h.connectionStart=h.connectionStart||Y2(w(l)?l[0]:l)),!a||o&&u.docking!=="target"||(h.connectionEnd=h.connectionEnd||Y2(w(l)?l[l.length-1]:l)),u.newWaypoints&&(h.waypoints=u.newWaypoints),this._modeling.layoutConnection(n,h))},rf.prototype.revert=function(e){var n=e.oldSource,o=e.oldTarget,a=e.oldWaypoints,l=e.connection;return n&&(l.source=n),o&&(l.target=o),a&&(l.waypoints=a),l},na.$inject=["modeling","rules"],na.prototype.preExecute=function(e){var n,o=this,a=this._modeling,l=this._rules,u=e.oldShape,h=e.newData,p=e.hints||{};function m(R,O,F){return l.allowed("connection.reconnect",{connection:F,source:R,target:O})}var v,x={x:h.x,y:h.y},_={x:u.x,y:u.y,width:u.width,height:u.height};n=e.newShape=e.newShape||o.createShape(h,x,u.parent,p),u.host&&a.updateAttachment(n,u.host),p.moveChildren!==!1&&(v=u.children.slice(),a.moveElements(v,{x:0,y:0},n,p));var S=u.incoming.slice(),k=u.outgoing.slice();A(S,(function(R){m(R.source,n,R)&&o.reconnectEnd(R,n,lh(R,n,_),p)})),A(k,(function(R){var O=R.target;m(n,O,R)&&o.reconnectStart(R,n,sh(R,n,_),p)}))},na.prototype.postExecute=function(e){var n=e.oldShape;this._modeling.removeShape(n)},na.prototype.execute=function(e){},na.prototype.revert=function(e){},na.prototype.createShape=function(e,n,o,a){return this._modeling.createShape(e,n,o,a)},na.prototype.reconnectStart=function(e,n,o,a){this._modeling.reconnectStart(e,n,o,a)},na.prototype.reconnectEnd=function(e,n,o,a){this._modeling.reconnectEnd(e,n,o,a)},of.$inject=["modeling"],of.prototype.execute=function(e){var n=e.shape,o=e.newBounds,a=e.minBounds;if(o.x===void 0||o.y===void 0||o.width===void 0||o.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(a&&(o.width<a.width||o.height<a.height))throw new Error("width and height cannot be less than minimum height and width");if(!a&&o.width<10||o.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:n.width,height:n.height,x:n.x,y:n.y},ie(n,{width:o.width,height:o.height,x:o.x,y:o.y}),n},of.prototype.postExecute=function(e){var n=this._modeling,o=e.shape,a=e.oldBounds;(e.hints||{}).layout!==!1&&(A(o.incoming,(function(l){n.layoutConnection(l,{connectionEnd:lh(l,o,a)})})),A(o.outgoing,(function(l){n.layoutConnection(l,{connectionStart:sh(l,o,a)})})))},of.prototype.revert=function(e){var n=e.shape,o=e.oldBounds;return ie(n,{width:o.width,height:o.height,x:o.x,y:o.y}),n},is.$inject=["modeling"],is.prototype.preExecute=function(e){var n=e.delta,o=e.direction,a=e.movingShapes,l=e.resizingShapes,u=e.start,h={};this.moveShapes(a,n),A(l,(function(p){h[p.id]=(function(m){return{x:m.x,y:m.y,height:m.height,width:m.width}})(p)})),this.resizeShapes(l,n,o),this.updateConnectionWaypoints((function(p,m){var v=[];return A(p.concat(m),(function(x){var _=x.incoming,S=x.outgoing;A(_.concat(S),(function(k){var R=k.source,O=k.target;(Qu(p,R)||Qu(p,O)||Qu(m,R)||Qu(m,O))&&(Qu(v,k)||v.push(k))}))})),v})(a,l),n,o,u,a,l,h)},is.prototype.execute=function(){},is.prototype.revert=function(){},is.prototype.moveShapes=function(e,n){var o=this;A(e,(function(a){o._modeling.moveShape(a,n,null,{autoResize:!1,layout:!1,recurse:!1})}))},is.prototype.resizeShapes=function(e,n,o){var a=this;A(e,(function(l){var u=(function(h,p,m){var v=h.x,x=h.y,_=h.width,S=h.height,k=m.x,R=m.y;switch(p){case"n":return{x:v,y:x+R,width:_,height:S-R};case"s":return{x:v,y:x,width:_,height:S+R};case"w":return{x:v+k,y:x,width:_-k,height:S};case"e":return{x:v,y:x,width:_+k,height:S};default:throw new Error("unknown direction: "+p)}})(l,o,n);a._modeling.resizeShape(l,u,null,{attachSupport:!1,autoResize:!1,layout:!1})}))},is.prototype.updateConnectionWaypoints=function(e,n,o,a,l,u,h){var p=this,m=l.concat(u);A(e,(function(v){var x=v.source,_=v.target,S=(function(O){return W(O.waypoints,(function(F){return(F=Z2(F)).original&&(F.original=Z2(F.original)),F}))})(v),k=J2(o),R={};os(m,x)&&os(m,_)?(S=W(S,(function(O){return Q2(O,a,o)&&(O[k]=O[k]+n[k]),O.original&&Q2(O.original,a,o)&&(O.original[k]=O.original[k]+n[k]),O})),p._modeling.updateWaypoints(v,S,{labelBehavior:!1})):(os(m,x)||os(m,_))&&(os(l,x)?R.connectionStart=Ly(v,x,n):os(l,_)?R.connectionEnd=$y(v,_,n):os(u,x)?R.connectionStart=sh(v,x,h[x.id]):os(u,_)&&(R.connectionEnd=lh(v,_,h[_.id])),p._modeling.layoutConnection(v,R))}))},Ph.$inject=["modeling"],Ph.prototype.execute=function(e){var n=e.shape,o=n.children;e.oldChildrenVisibility=q2(o),n.collapsed=!n.collapsed;var a=eC(o,n.collapsed);return[n].concat(a)},Ph.prototype.revert=function(e){var n=e.shape,o=e.oldChildrenVisibility,a=tC(n.children,o);return n.collapsed=!n.collapsed,[n].concat(a)},Nh.$inject=["modeling"],Nh.prototype.execute=function(e){var n=e.shape,o=e.newHost,a=n.host;return e.oldHost=a,e.attacherIdx=nC(a,n),rC(o,n),n.host=o,n},Nh.prototype.revert=function(e){var n=e.shape,o=e.newHost,a=e.oldHost,l=e.attacherIdx;return n.host=a,nC(o,n),rC(a,n,l),n},w0.prototype.execute=function(e){var n=e.connection,o=e.newWaypoints;return e.oldWaypoints=n.waypoints,n.waypoints=o,n},w0.prototype.revert=function(e){var n=e.connection,o=e.oldWaypoints;return n.waypoints=o,n},gn.$inject=["eventBus","elementFactory","commandStack"],gn.prototype.getHandlers=function(){return{"shape.append":Sh,"shape.create":rs,"shape.delete":tf,"shape.move":tl,"shape.resize":of,"shape.replace":na,"shape.toggleCollapse":Ph,spaceTool:is,"label.create":qu,"connection.create":Ch,"connection.delete":ef,"connection.move":_0,"connection.layout":Ah,"connection.updateWaypoints":w0,"connection.reconnect":rf,"elements.create":b0,"elements.move":Rh,"elements.delete":x0,"elements.distribute":kh,"elements.align":wh,"element.updateAttachment":Nh}},gn.prototype.registerHandlers=function(e){A(this.getHandlers(),(function(n,o){e.registerHandler(o,n)}))},gn.prototype.moveShape=function(e,n,o,a,l){typeof a=="object"&&(l=a,a=null);var u={shape:e,delta:n,newParent:o,newParentIndex:a,hints:l||{}};this._commandStack.execute("shape.move",u)},gn.prototype.updateAttachment=function(e,n){var o={shape:e,newHost:n};this._commandStack.execute("element.updateAttachment",o)},gn.prototype.moveElements=function(e,n,o,a){var l,u=(a=a||{}).attach,h=o;u===!0?(l=o,h=o.parent):u===!1&&(l=null);var p={shapes:e,delta:n,newParent:h,newHost:l,hints:a};this._commandStack.execute("elements.move",p)},gn.prototype.moveConnection=function(e,n,o,a,l){typeof a=="object"&&(l=a,a=void 0);var u={connection:e,delta:n,newParent:o,newParentIndex:a,hints:l||{}};this._commandStack.execute("connection.move",u)},gn.prototype.layoutConnection=function(e,n){var o={connection:e,hints:n||{}};this._commandStack.execute("connection.layout",o)},gn.prototype.createConnection=function(e,n,o,a,l,u){typeof o=="object"&&(u=l,l=a,a=o,o=void 0);var h={source:e,target:n,parent:l,parentIndex:o,connection:a=this._create("connection",a),hints:u};return this._commandStack.execute("connection.create",h),h.connection},gn.prototype.createShape=function(e,n,o,a,l){typeof a!="number"&&(l=a,a=void 0);var u,h,p=(l=l||{}).attach;e=this._create("shape",e),p?(u=o.parent,h=o):u=o;var m={position:n,shape:e,parent:u,parentIndex:a,host:h,hints:l};return this._commandStack.execute("shape.create",m),m.shape},gn.prototype.createElements=function(e,n,o,a,l){w(e)||(e=[e]),typeof a!="number"&&(l=a,a=void 0);var u={position:n,elements:e,parent:o,parentIndex:a,hints:l=l||{}};return this._commandStack.execute("elements.create",u),u.elements},gn.prototype.createLabel=function(e,n,o,a){o=this._create("label",o);var l={labelTarget:e,position:n,parent:a||e.parent,shape:o};return this._commandStack.execute("label.create",l),l.shape},gn.prototype.appendShape=function(e,n,o,a,l){l=l||{};var u={source:e,position:o,target:a,shape:n=this._create("shape",n),connection:l.connection,connectionParent:l.connectionParent,hints:l};return this._commandStack.execute("shape.append",u),u.shape},gn.prototype.removeElements=function(e){var n={elements:e};this._commandStack.execute("elements.delete",n)},gn.prototype.distributeElements=function(e,n,o){var a={groups:e,axis:n,dimension:o};this._commandStack.execute("elements.distribute",a)},gn.prototype.removeShape=function(e,n){var o={shape:e,hints:n||{}};this._commandStack.execute("shape.delete",o)},gn.prototype.removeConnection=function(e,n){var o={connection:e,hints:n||{}};this._commandStack.execute("connection.delete",o)},gn.prototype.replaceShape=function(e,n,o){var a={oldShape:e,newData:n,hints:o||{}};return this._commandStack.execute("shape.replace",a),a.newShape},gn.prototype.alignElements=function(e,n){var o={elements:e,alignment:n};this._commandStack.execute("elements.align",o)},gn.prototype.resizeShape=function(e,n,o,a){var l={shape:e,newBounds:n,minBounds:o,hints:a};this._commandStack.execute("shape.resize",l)},gn.prototype.createSpace=function(e,n,o,a,l){var u={delta:o,direction:a,movingShapes:e,resizingShapes:n,start:l};this._commandStack.execute("spaceTool",u)},gn.prototype.updateWaypoints=function(e,n,o){var a={connection:e,newWaypoints:n,hints:o||{}};this._commandStack.execute("connection.updateWaypoints",a)},gn.prototype.reconnect=function(e,n,o,a,l){var u={connection:e,newSource:n,newTarget:o,dockingOrPoints:a,hints:l||{}};this._commandStack.execute("connection.reconnect",u)},gn.prototype.reconnectStart=function(e,n,o,a){a||(a={}),this.reconnect(e,n,e.target,o,ie(a,{docking:"source"}))},gn.prototype.reconnectEnd=function(e,n,o,a){a||(a={}),this.reconnect(e,e.source,n,o,ie(a,{docking:"target"}))},gn.prototype.connect=function(e,n,o,a){return this.createConnection(e,n,o||{},e.parent,a)},gn.prototype._create=function(e,n){return n instanceof Wl?n:this._elementFactory.create(e,n)},gn.prototype.toggleCollapse=function(e,n){var o={shape:e,hints:n||{}};this._commandStack.execute("shape.toggleCollapse",o)},af.$inject=["elementRegistry"],af.prototype.execute=function(e){var n=e.element,o=e.moddleElement,a=e.properties;if(!o)throw new Error("<moddleElement> required");var l=e.changed||this._getVisualReferences(o).concat(n),u=e.oldProperties||(function(h,p){return Z(p,(function(m,v){return m[v]=h.get(v),m}),{})})(o,Q(a));return iC(o,a),e.oldProperties=u,e.changed=l,l},af.prototype.revert=function(e){var n=e.oldProperties,o=e.moddleElement,a=e.changed;return iC(o,n),a},af.prototype._getVisualReferences=function(e){var n=this._elementRegistry;return j(e,"bpmn:DataObject")?(function(o,a){return a.filter((function(l){return j(l,"bpmn:DataObjectReference")&&je(l).dataObjectRef===o}))})(e,n):[]};var sf="default",ra="id",oC="di",WD={width:0,height:0};function lf(e,n,o,a){this._elementRegistry=e,this._moddle=n,this._modeling=o,this._textRenderer=a}function aC(e,n){return ra in e&&e[ra]!==n[ra]}function sC(e,n){var o=e.businessObject,a=Yt(e);A(n,(function(l,u){u!==oC?o.set(u,l):a&&(function(h,p){A(p,(function(m,v){h.set(v,m)}))})(a,l)}))}lf.$inject=["elementRegistry","moddle","modeling","textRenderer"],lf.prototype.execute=function(e){var n=e.element,o=[n];if(!n)throw new Error("element required");var a=this._elementRegistry,l=this._moddle.ids,u=n.businessObject,h=(function(m){var v=ie({},m);return KD.forEach((function(x){x in m&&(v[x]=je(v[x]))})),v})(e.properties),p=e.oldProperties||(function(m,v){var x=Q(v),_=m.businessObject,S=Yt(m);return Z(x,(function(k,R){return k[R]=R!==oC?_.get(R):(function(O,F){return Z(F,(function(I,P){return I[P]=O&&O.get(P),I}),{})})(S,Q(v.di)),k}),{})})(n,h);return aC(h,u)&&(l.unclaim(u[ra]),a.updateId(n,h[ra]),l.claim(h[ra],u)),sf in h&&(h[sf]&&o.push(a.get(h[sf].id)),u[sf]&&o.push(a.get(u[sf].id))),sC(n,h),e.oldProperties=p,e.changed=o,o},lf.prototype.postExecute=function(e){var n=e.element.label,o=n&&je(n).name;if(o){var a=this._textRenderer.getExternalLabelBounds(n,o);this._modeling.resizeShape(n,a,WD)}},lf.prototype.revert=function(e){var n=e.element,o=e.properties,a=e.oldProperties,l=n.businessObject,u=this._elementRegistry,h=this._moddle.ids;return sC(n,a),aC(o,l)&&(h.unclaim(o[ra]),u.updateId(n,a[ra]),h.claim(a[ra],l)),e.changed};var KD=["default"];function Oh(e,n){this._canvas=e,this._modeling=n}function S0(e,n){this._modeling=e,this._spaceTool=n}function C0(e){this._modeling=e}function cf(e,n){this._modeling=e,this._spaceTool=n}Oh.$inject=["canvas","modeling"],Oh.prototype.execute=function(e){var n=this._canvas,o=e.newRoot,a=o.businessObject,l=n.getRootElement(),u=l.businessObject,h=u.$parent,p=Yt(l);return n.setRootElement(o),n.removeRootElement(l),or(h.rootElements,a),a.$parent=h,Kn(h.rootElements,u),u.$parent=null,l.di=null,p.bpmnElement=a,o.di=p,e.oldRoot=l,[]},Oh.prototype.revert=function(e){var n=this._canvas,o=e.newRoot,a=o.businessObject,l=e.oldRoot,u=l.businessObject,h=a.$parent,p=Yt(o);return n.setRootElement(l),n.removeRootElement(o),Kn(h.rootElements,a),a.$parent=null,or(h.rootElements,u),u.$parent=h,o.di=null,p.bpmnElement=u,l.di=p,[]},S0.$inject=["modeling","spaceTool"],S0.prototype.preExecute=function(e){var n=this._spaceTool,o=this._modeling,a=e.shape,l=e.location,u=Ui(a),h=u===a,p=h?a:a.parent,m=Ja(p),v=fr(a);if(v?l==="left"?l="top":l==="right"&&(l="bottom"):l==="top"?l="left":l==="bottom"&&(l="right"),!m.length){var x=v?{x:a.x+Hi,y:a.y,width:a.width-Hi,height:a.height}:{x:a.x,y:a.y+Hi,width:a.width,height:a.height-Hi};o.createShape({type:"bpmn:Lane",isHorizontal:v},x,p)}var _,S,k,R,O,F=[];js(u,(function(K){return F.push(K),K.label&&F.push(K.label),K===a?[]:M(K.children,(function(Y){return Y!==a}))})),l==="top"?(_=-120,k=(S=a.y)+10,R="n",O="y"):l==="left"?(_=-120,k=(S=a.x)+10,R="w",O="x"):l==="bottom"?(_=120,k=(S=a.y+a.height)-10,R="s",O="y"):l==="right"&&(_=120,k=(S=a.x+a.width)-10,R="e",O="x");var I=n.calculateAdjustments(F,O,_,k),P=v?{x:0,y:_}:{x:_,y:0};n.makeSpace(I.movingShapes,I.resizingShapes,P,R,k);var U=v?{x:a.x+(h?Hi:0),y:S-(l==="top"?120:0),width:a.width-(h?Hi:0),height:120}:{x:S-(l==="left"?120:0),y:a.y+(h?Hi:0),width:120,height:a.height-(h?Hi:0)};e.newLane=o.createShape({type:"bpmn:Lane",isHorizontal:v},U,p)},C0.$inject=["modeling"],C0.prototype.preExecute=function(e){var n=this._modeling,o=e.shape,a=e.count,l=Ja(o),u=l.length;if(u>a)throw new Error(`more than <${a}> child lanes`);var h,p,m,v,x=fr(o),_=x?o.height:o.width,S=Math.round(_/a);for(v=0;v<a;v++)h=v===a-1?_-S*v:S,p=x?{x:o.x+Hi,y:o.y+v*S,width:o.width-Hi,height:h}:{x:o.x+v*S,y:o.y+Hi,width:h,height:o.height-Hi},v<u?n.resizeShape(l[v],p):(m={type:"bpmn:Lane",isHorizontal:x},n.createShape(m,p,o))},cf.$inject=["modeling","spaceTool"],cf.prototype.preExecute=function(e){var n=e.shape,o=e.newBounds;e.balanced!==!1?this.resizeBalanced(n,o):this.resizeSpace(n,o)},cf.prototype.resizeBalanced=function(e,n){var o=this._modeling,a=lD(e,n);o.resizeShape(e,n),a.forEach((function(l){o.resizeShape(l.shape,l.newBounds)}))},cf.prototype.resizeSpace=function(e,n){var o,a,l,u,h,p=this._spaceTool,m=mt(e),v=TS(mt(n),m),x=Ui(e),_=[],S=[];js(x,(function(k){return _.push(k),(j(k,"bpmn:Lane")||j(k,"bpmn:Participant"))&&S.push(k),k.children})),(v.bottom||v.top)&&(o=v.bottom||v.top,a=e.y+(v.bottom?e.height:0)+(v.bottom?-10:10),l=v.bottom?"s":"n",u=v.top>0||v.bottom<0?-o:o,h=p.calculateAdjustments(_,"y",u,a),p.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:o},l)),(v.left||v.right)&&(o=v.right||v.left,a=e.x+(v.right?e.width:0)+(v.right?-10:100),l=v.right?"e":"w",u=v.left>0||v.right<0?-o:o,h=p.calculateAdjustments(S,"x",u,a),p.makeSpace(h.movingShapes,h.resizingShapes,{x:o,y:0},l))};var uf="flowNodeRef",T0="lanes";function ff(e){this._elementRegistry=e}function Mh(e){this._moddle=e}ff.$inject=["elementRegistry"],ff.prototype._computeUpdates=function(e,n){var o=[],a=[],l={},u=[];function h(m){o.indexOf(m)===-1&&(u.push(m),o.push(m))}function p(m){if(!m.parent)return[];var v=(function(x){var _=Ui(x);return l[_.id]||(l[_.id]=rh(_)),l[_.id]})(m);return v.filter((function(x){return _=m,S=mt(x),k=_.x+_.width/2,R=_.y+_.height/2,k>S.left&&k<S.right&&R>S.top&&R<S.bottom;var _,S,k,R})).map((function(x){return x.businessObject}))}return n.forEach((function(m){var v=Ui(m);if(v&&o.indexOf(v)===-1){var x=v.children.filter((function(_){return j(_,"bpmn:FlowNode")}));x.forEach(h),o.push(v)}})),e.forEach(h),u.forEach((function(m){var v=m.businessObject,x=v.get(T0).slice(),_=p(m);a.push({flowNode:v,remove:x,add:_})})),n.forEach((function(m){var v=m.businessObject;m.parent||v.get(uf).forEach((function(x){a.push({flowNode:x,remove:[v],add:[]})}))})),a},ff.prototype.execute=function(e){var n=e.updates;return n||(n=e.updates=this._computeUpdates(e.flowNodeShapes,e.laneShapes)),n.forEach((function(o){var a=o.flowNode,l=a.get(T0);o.remove.forEach((function(u){Kn(l,u),Kn(u.get(uf),a)})),o.add.forEach((function(u){or(l,u),or(u.get(uf),a)}))})),[]},ff.prototype.revert=function(e){return e.updates.forEach((function(n){var o=n.flowNode,a=o.get(T0);n.add.forEach((function(l){Kn(a,l),Kn(l.get(uf),o)})),n.remove.forEach((function(l){or(a,l),or(l.get(uf),o)}))})),[]},Mh.$inject=["moddle"],Mh.prototype.execute=function(e){var n=this._moddle.ids,o=e.id,a=e.element;return e.claiming?n.claim(o,a):n.unclaim(o),[]},Mh.prototype.revert=function(e){var n=this._moddle.ids,o=e.id,a=e.element;return e.claiming?n.unclaim(o):n.claim(o,a),[]};var XD={fill:void 0,stroke:void 0};function k0(e){this._commandStack=e,this._normalizeColor=function(n){if(n){if($(n)){var o=(function(a){var l=document.createElement("canvas").getContext("2d");return l.fillStyle="transparent",l.fillStyle=a,/^#[0-9a-fA-F]{6}$/.test(l.fillStyle)?l.fillStyle:null})(n);if(o)return o}throw new Error(`invalid color value: ${n}`)}}}k0.$inject=["commandStack"],k0.prototype.postExecute=function(e){var n=e.elements,o=e.colors||XD,a=this,l={};"fill"in o&&ie(l,{"background-color":this._normalizeColor(o.fill)}),"stroke"in o&&ie(l,{"border-color":this._normalizeColor(o.stroke)}),A(n,(function(u){var h=mn(u)?Xt(l,["border-color"]):l,p=Yt(u);if((function(m){"border-color"in m&&(m.stroke=m["border-color"]),"background-color"in m&&(m.fill=m["background-color"])})(h),Bt(u))a._commandStack.execute("element.updateModdleProperties",{element:u,moddleElement:p.label,properties:{color:l["border-color"]}});else{if(!Ot(p,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;a._commandStack.execute("element.updateProperties",{element:u,properties:{di:h}})}}))};var YD={width:0,height:0};function lC(e,n,o){function a(l,u){var h=l.label||l,p=l.labelTarget||l;return(function(m,v){var x=m.businessObject,_=mE(x);if(_)if(_==="categoryValueRef"){if(!x[_])return m;x[_].value=v}else x[_]=v})(h,u),[h,p]}this.preExecute=function(l){var u=l.element,h=u.businessObject,p=l.newLabel;if(!Bt(u)&&za(u)&&!yp(u)&&!cC(p)){var m=Iv(u);m={x:m.x,y:m.y+7},e.createLabel(u,m,{id:h.id+"_label",businessObject:h,di:u.di})}},this.execute=function(l){return l.oldLabel=ro(l.element),a(l.element,l.newLabel)},this.revert=function(l){return a(l.element,l.oldLabel)},this.postExecute=function(l){var u=l.element,h=u.label||u,p=l.newLabel,m=l.newBounds,v=l.hints||{};if(Bt(h)||j(h,"bpmn:TextAnnotation"))if(Bt(h)&&cC(p))v.removeShape!==!1&&e.removeShape(h,{unsetLabel:!1});else{var x=ro(u);m===void 0&&(m=n.getExternalLabelBounds(h,x)),m&&e.resizeShape(h,m,YD)}}}function cC(e){return!e||!e.trim()}function Or(e,n,o,a){gn.call(this,e,n,o),this._bpmnRules=a}function uC(){}lC.$inject=["modeling","textRenderer","bpmnFactory"],i(Or,gn),Or.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],Or.prototype.getHandlers=function(){var e=gn.prototype.getHandlers.call(this);return e["element.updateModdleProperties"]=af,e["element.updateProperties"]=lf,e["canvas.updateRoot"]=Oh,e["lane.add"]=S0,e["lane.resize"]=cf,e["lane.split"]=C0,e["lane.updateRefs"]=ff,e["id.updateClaim"]=Mh,e["element.setColor"]=k0,e["element.updateLabel"]=lC,e},Or.prototype.updateLabel=function(e,n,o,a){this._commandStack.execute("element.updateLabel",{element:e,newLabel:n,newBounds:o,hints:a||{}})},Or.prototype.connect=function(e,n,o,a){var l=this._bpmnRules;if(o||(o=l.canConnect(e,n)),o)return this.createConnection(e,n,o,e.parent,a)},Or.prototype.updateModdleProperties=function(e,n,o){this._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:o})},Or.prototype.updateProperties=function(e,n){this._commandStack.execute("element.updateProperties",{element:e,properties:n})},Or.prototype.resizeLane=function(e,n,o){this._commandStack.execute("lane.resize",{shape:e,newBounds:n,balanced:o})},Or.prototype.addLane=function(e,n){var o={shape:e,location:n};return this._commandStack.execute("lane.add",o),o.newLane},Or.prototype.splitLane=function(e,n){this._commandStack.execute("lane.split",{shape:e,count:n})},Or.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"}),n={newRoot:e};return this._commandStack.execute("canvas.updateRoot",n),e},Or.prototype.makeProcess=function(){var e=this._create("root",{type:"bpmn:Process"}),n={newRoot:e};return this._commandStack.execute("canvas.updateRoot",n),e},Or.prototype.updateLaneRefs=function(e,n){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:n})},Or.prototype.claimId=function(e,n){this._commandStack.execute("id.updateClaim",{id:e,element:n,claiming:!0})},Or.prototype.unclaimId=function(e,n){this._commandStack.execute("id.updateClaim",{id:e,element:n})},Or.prototype.setColor=function(e,n){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:n})},uC.prototype.layoutConnection=function(e,n){return[(n=n||{}).connectionStart||vt(n.source||e.source),n.connectionEnd||vt(n.target||e.target)]};var Dh=Math.round,ZD={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function fC(e,n,o){var a,l,u,h=Ar(n,e,5),p=o.split(":")[0],m=Dh((n.x-e.x)/2+e.x),v=Dh((n.y-e.y)/2+e.y),x=(u=h,{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[p].test(u)),_=/h|r|l/.test(p),S=!1,k=!1;return x?(a=_?{x:m,y:e.y}:{x:e.x,y:v},l=_?"h:h":"v:v"):(S=(function(R,O){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[O].test(R)})(h,p),l=_?"h:v":"v:h",S?_?(k=v===e.y,a={x:e.x+20*(/l/.test(p)?-1:1),y:k?v+20:v}):a={x:(k=m===e.x)?m+20:m,y:e.y+20*(/t/.test(p)?-1:1)}:a={x:m,y:v}),{waypoints:A0(e,a,l).concat(a),directions:l,turnNextDirections:k}}function dC(e){return e.split(":").reverse().join(":")}function A0(e,n,o){if(!(function(h){return h&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(h)})(o=o||"h:h"))throw new Error("unknown directions: <"+o+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(hC(o)){var a=(function(h,p,m){return fC(h,p,m)})(e,n,o),l=(function(h,p,m){var v=fC(p,h,dC(m));return{waypoints:v.waypoints.slice().reverse(),directions:dC(v.directions),turnNextDirections:v.turnNextDirections}})(e,n,o),u=(function(h,p){var m=h.directions.split(":")[1],v=p.directions.split(":")[0];h.turnNextDirections&&(m=m=="h"?"v":"h"),p.turnNextDirections&&(v=v=="h"?"v":"h");var x=m+":"+v;return{waypoints:A0(h.waypoints[h.waypoints.length-1],p.waypoints[0],x),directions:x}})(a,l);return[].concat(a.waypoints,u.waypoints,l.waypoints)}return(function(h,p,m){var v=Dh((p.x-h.x)/2+h.x),x=Dh((p.y-h.y)/2+h.y);if(m==="h:v")return[{x:p.x,y:h.y}];if(m==="v:h")return[{x:h.x,y:p.y}];if(m==="h:h")return[{x:v,y:h.y},{x:v,y:p.y}];if(m==="v:v")return[{x:h.x,y:x},{x:p.x,y:x}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")})(e,n,o)}function JD(e,n,o,a,l){var u=z(l&&l.preferredLayouts||[],"straight")[0]||"h:h",h=Ar(e,n,ZD[u]||0),p=(function(x,_){if(hC(_))return _;switch(x){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return _}})(h,u);o=o||vt(e),a=a||vt(n);var m=p.split(":"),v=mC(o,e,m[0],(function(x){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[x]})(h));return(function(x,_,S){var k=A0(x,_,S);return k.unshift(x),k.push(_),gC(k)})(v,mC(a,n,m[1],h),p)}function QD(e,n,o,a,l,u){var h;return w(o)&&(l=o,u=a,o=vt(e),a=vt(n)),l=l||[],h=(u=ie({preferredLayouts:[]},u)).preferredLayouts.indexOf("straight")!==-1&&(function(p,m,v,x,_){var S,k,R={};return k=Ar(p,m),/^(top|bottom|left|right)$/.test(k)?(/top|bottom/.test(k)&&(S="x"),/left|right/.test(k)&&(S="y"),_.preserveDocking==="target"?pC(S,x,p)?(R[S]=x[S],[{x:R.x!==void 0?R.x:v.x,y:R.y!==void 0?R.y:v.y,original:{x:R.x!==void 0?R.x:v.x,y:R.y!==void 0?R.y:v.y}},{x:x.x,y:x.y}]):null:pC(S,v,m)?(R[S]=v[S],[{x:v.x,y:v.y},{x:R.x!==void 0?R.x:x.x,y:R.y!==void 0?R.y:x.y,original:{x:R.x!==void 0?R.x:x.x,y:R.y!==void 0?R.y:x.y}}]):null):null})(e,n,o,a,u),h||(h=u.connectionEnd&&(function(p,m,v,x){var _=x.slice().reverse();return _=R0(p,m,v,_),_?_.reverse():null})(n,e,a,l),h||(h=u.connectionStart&&R0(e,n,o,l))||(!u.connectionStart&&!u.connectionEnd&&l&&l.length?l:JD(e,n,o,a,u)))}function pC(e,n,o){return(function(a,l,u){return a>=l&&a<=u})(n[e],o[e],o[e]+o[{x:"width",y:"height"}[e]])}function R0(e,n,o,a){if((function(p){return p.length<3||!(p.length>4)&&!!N(p,(function(m,v){var x=p[v-1];return x&&bu(m,x)<3}))})(a))return null;var l,u=a[0],h=a.slice();return h[0]=o,h[1]=(function(p,m,v){switch(Go(m,p)){case"v":return{x:v.x,y:p.y};case"h":return{x:p.x,y:v.y}}return{x:p.x,y:p.y}})(h[1],u,o),l=(function(p,m,v){var x;for(x=p.length-2;x!==0;x--)if(b_(p[x],m,20)||b_(p[x],v,20))return p.slice(x);return p})(h,e,n),l!==h&&(h=R0(e,n,o,l)),h&&Go(h)?null:h}function hC(e){return e&&/t|r|b|l/.test(e)}function mC(e,n,o,a){if(o==="h"&&(o=/left/.test(a)?"l":"r"),o==="v"&&(o=/top/.test(a)?"t":"b"),o==="t")return{original:e,x:e.x,y:n.y};if(o==="r")return{original:e,x:n.x+n.width,y:e.y};if(o==="b")return{original:e,x:e.x,y:n.y+n.height};if(o==="l")return{original:e,x:n.x,y:e.y};throw new Error("unexpected dockingDirection: <"+o+">")}function gC(e){return e.reduce((function(n,o,a){return yv(n[n.length-1],e[a+1],o,0)||n.push(o),n}),[])}var qD={default:["h:h"],fromGateway:["v:h"],toGateway:["h:v"],loop:{fromTop:["t:r"],fromRight:["r:b"],fromLeft:["l:t"],fromBottom:["b:l"]},boundaryLoop:{alternateHorizontalSide:"b",alternateVerticalSide:"l",default:"v"},messageFlow:["straight","v:v"],subProcess:["straight","h:h"],isHorizontal:!0},eI={default:["v:v"],fromGateway:["h:v"],toGateway:["v:h"],loop:{fromTop:["t:l"],fromRight:["r:t"],fromLeft:["l:b"],fromBottom:["b:r"]},boundaryLoop:{alternateHorizontalSide:"t",alternateVerticalSide:"r",default:"h"},messageFlow:["straight","h:h"],subProcess:["straight","v:v"],isHorizontal:!1},P0={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},df={top:"t",right:"r",bottom:"b",left:"l"};function Ih(e){this._elementRegistry=e}function tI(e,n){return j(n,"bpmn:Participant")?"source":j(e,"bpmn:Participant")?"target":pf(n)?"source":pf(e)||j(n,"bpmn:Event")?"target":j(e,"bpmn:Event")?"source":null}function nI(e){return pf(e)?"target":"source"}function vC(e,n){return e?e.original||e:vt(n)}function yC(e,n){return j(n,"bpmn:Activity")&&j(e,"bpmn:BoundaryEvent")&&n.businessObject.isForCompensation}function pf(e){return j(e,"bpmn:SubProcess")&&zt(e)}function nl(e,n){return e===n}function yc(e){var n=/right|left/.exec(e);return n&&n[0]}function bc(e){var n=/top|bottom/.exec(e);return n&&n[0]}function bC(e,n){return P0[e]===n}function xC(e){return e==="right"||e==="left"}function rI(e,n,o){var a=n.waypoints,l=a&&a.length&&Ar(a[0],e);return l==="top"?o.loop.fromTop:l==="right"?o.loop.fromRight:l==="left"?o.loop.fromLeft:o.loop.fromBottom}function iI(e,n,o,a){var l,u,h,p,m=vt(e),v=vt(n),x=(p=(h=e).host,Ar(vt(h),p,-10)),_=nl(e.host,n),S=["top","right","bottom","left"].indexOf(x)!==-1,k=Ar(v,m,{x:e.width/2+n.width/2,y:e.height/2+n.height/2});return _?(function(R,O,F,I,P,U){var K,Y=O?R:U.isHorizontal?bc(R):yc(R),se=df[Y];return K=O?xC(R)?_C("y",F,I,P)?"h":U.boundaryLoop.alternateHorizontalSide:_C("x",F,I,P)?"v":U.boundaryLoop.alternateVerticalSide:U.boundaryLoop.default,[se+":"+K]})(x,S,e,n,o,a):(l=(function(R,O,F,I){if(F)return df[R];var P=bc(R),U=yc(R),K=bc(O),Y=yc(O);if(I){if(nl(P,K)||bC(U,Y))return df[P]}else if(nl(U,Y)||bC(P,K))return df[U];return df[I?U:P]})(x,k,S,a.isHorizontal),u=(function(R,O,F,I){return F?xC(R)?(function(P,U){var K=yc(P),Y=P0[K];return U.indexOf(Y)!==-1})(R,O)||nl(R,O)?"h":"v":(function(P,U){var K=bc(P),Y=P0[K];return U.indexOf(Y)!==-1})(R,O)||nl(R,O)?"v":"h":I?nl(bc(R),bc(O))?"h":"v":nl(yc(R),yc(O))?"v":"h"})(x,k,S,a.isHorizontal),[l+":"+u])}function _C(e,n,o,a){return!(N0(e,a,o,40)||N0(e,a,{x:o.x+o.width,y:o.y+o.height},40)||N0(e,a,vt(n),40))}function N0(e,n,o,a){return Math.abs(n[e]-o[e])<a}function EC(e){return ie({original:e.point.original||e.point},e.actual)}function as(e,n){this._elementRegistry=e,this._graphicsFactory=n}i(Ih,uC),Ih.prototype.layoutConnection=function(e,n){n||(n={});var o,a,l=n.source||e.source,u=n.target||e.target,h=n.waypoints||e.waypoints,p=n.connectionStart,m=n.connectionEnd,v=this._elementRegistry;if(p||(p=vC(h&&h[0],l)),m||(m=vC(h&&h[h.length-1],u)),(j(e,"bpmn:Association")||j(e,"bpmn:DataAssociation"))&&h&&!yC(l,u))return[].concat([p],h.slice(1,-1),[m]);var x=Lw(l,v)?qD:eI;return j(e,"bpmn:MessageFlow")?o=(function(_,S,k){return{preferredLayouts:k.messageFlow,preserveDocking:tI(_,S)}})(l,u,x):(j(e,"bpmn:SequenceFlow")||yC(l,u))&&(o=l===u?{preferredLayouts:rI(l,e,x)}:j(l,"bpmn:BoundaryEvent")?{preferredLayouts:iI(l,u,m,x)}:pf(l)||pf(u)?{preferredLayouts:x.subProcess,preserveDocking:nI(l)}:j(l,"bpmn:Gateway")?{preferredLayouts:x.fromGateway}:j(u,"bpmn:Gateway")?{preferredLayouts:x.toGateway}:{preferredLayouts:x.default}),o&&(a=gC(QD(l,u,p,m,h,o=ie(o,n)))),a||[p,m]},Ih.$inject=["elementRegistry"],as.$inject=["elementRegistry","graphicsFactory"],as.prototype.getCroppedWaypoints=function(e,n,o){n=n||e.source,o=o||e.target;var a=this.getDockingPoint(e,n,!0),l=this.getDockingPoint(e,o),u=e.waypoints.slice(a.idx+1,l.idx);return u.unshift(EC(a)),u.push(EC(l)),u},as.prototype.getDockingPoint=function(e,n,o){var a,l,u=e.waypoints;return{point:l=u[a=o?0:u.length-1],actual:this._getIntersection(n,e,o)||l,idx:a}},as.prototype._getIntersection=function(e,n,o){return _u(this._getShapePath(e),this._getConnectionPath(n),o)},as.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},as.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},as.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};var wC={__init__:["modeling","bpmnUpdater"],__depends__:[TD,RD,PD,ND,B2,VD,HD,UD,Bi,Bv,z2],bpmnFactory:["type",Gi],bpmnUpdater:["type",di],elementFactory:["type",ns],modeling:["type",Or],layouter:["type",Ih],connectionDocking:["type",as]};const SC=Math.round;function Lh(e,n,o,a,l,u){this._complexPreview=e,this._connectionDocking=n,this._elementFactory=o,this._eventBus=a,this._layouter=l,this._rules=u}Lh.prototype.create=function(e,n,o){const a=this._complexPreview,l=this._connectionDocking,u=this._elementFactory,h=this._eventBus,p=this._layouter,m=this._rules,v=u.createShape(ie({type:n},o)),x=h.fire("autoPlace",{source:e,shape:v});if(!x)return;ie(v,{x:x.x-SC(v.width/2),y:x.y-SC(v.height/2)});const _=m.allowed("connection.create",{source:e,target:v,hints:{targetParent:e.parent}});let S=null;_&&(S=u.createConnection(_),S.waypoints=p.layoutConnection(S,{source:e,target:v}),S.waypoints=l.getCroppedWaypoints(S,e,v)),a.create({created:[v,S].filter((k=>!E(k)))})},Lh.prototype.cleanUp=function(){this._complexPreview.cleanUp()},Lh.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];var oI={__depends__:[sy,oD,wC],__init__:["appendPreview"],appendPreview:["type",Lh]},CC=Math.min,TC=Math.max;function O0(e){e.preventDefault()}function hf(e){e.stopPropagation()}function ao(e){this.container=e.container,this.parent=Re('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Ke("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=Ye(this.autoResize,this),this.handlePaste=Ye(this.handlePaste,this)}function Wi(e,n){this._eventBus=e,this._canvas=n,this._providers=[],this._textbox=new ao({container:n.getContainer(),keyHandler:Ye(this._handleKey,this),resizeHandler:Ye(this._handleResize,this)})}ao.prototype.create=function(e,n,o,a){var l=this.parent,u=this.content,h=this.container;a=this.options=a||{};var p=Xt(n=this.style=n||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);ie(l.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},p);var m=Xt(n,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return ie(u.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},m),a.centerVertically&&ie(u.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},m),u.innerText=o,Ie.bind(u,"keydown",this.keyHandler),Ie.bind(u,"mousedown",hf),Ie.bind(u,"paste",this.handlePaste),a.autoResize&&Ie.bind(u,"input",this.autoResize),a.resizable&&this.resizable(n),h.appendChild(l),this.setSelection(u.lastChild,u.lastChild&&u.lastChild.length),l},ao.prototype.handlePaste=function(e){var n,o=this.options,a=this.style;if(e.preventDefault(),n=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(n),o.autoResize){var l=this.autoResize(a);l&&this.resizeHandler(l)}},ao.prototype.insertText=function(e){e=e.replace(/\r\n|\r|\n/g,`
`),document.execCommand("insertText",!1,e)||this._insertTextIE(e)},ao.prototype._insertTextIE=function(e){var n,o,a,l=this.getSelection(),u=l.startContainer,h=l.endContainer,p=l.startOffset,m=l.endOffset,v=l.commonAncestorContainer,x=(n=v.childNodes,[].slice.call(n));if((function(O){return O.nodeType===Node.TEXT_NODE})(v)){var _=u.textContent;u.textContent=_.substring(0,p)+e+_.substring(m),o=u,a=p+e.length}else if(u===this.content&&h===this.content){var S=document.createTextNode(e);this.content.insertBefore(S,x[p]),o=S,a=S.textContent.length}else{var k=x.indexOf(u),R=x.indexOf(h);x.forEach((function(O,F){F===k?O.textContent=u.textContent.substring(0,p)+e+h.textContent.substring(m):F>k&&F<=R&&gt(O)})),o=u,a=p+e.length}o&&a!==void 0&&setTimeout((function(){self.setSelection(o,a)}))},ao.prototype.autoResize=function(){var e=this.parent,n=this.content,o=parseInt(this.style.fontSize)||12;if(n.scrollHeight>e.offsetHeight||n.scrollHeight<e.offsetHeight-o){var a=e.getBoundingClientRect(),l=n.scrollHeight;e.style.height=l+"px",this.resizeHandler({width:a.width,height:a.height,dx:0,dy:l-a.height})}},ao.prototype.resizable=function(){var e=this,n=this.parent,o=this.resizeHandle,a=parseInt(this.style.minWidth)||0,l=parseInt(this.style.minHeight)||0,u=parseInt(this.style.maxWidth)||1/0,h=parseInt(this.style.maxHeight)||1/0;if(!o){var p,m,v,x;o=this.resizeHandle=Re('<div class="djs-direct-editing-resize-handle"></div>');var _=function(k){O0(k),hf(k);var R=CC(TC(v+k.clientX-p,a),u),O=CC(TC(x+k.clientY-m,l),h);n.style.width=R+"px",n.style.height=O+"px",e.resizeHandler({width:v,height:x,dx:k.clientX-p,dy:k.clientY-m})},S=function(k){O0(k),hf(k),Ie.unbind(document,"mousemove",_,!1),Ie.unbind(document,"mouseup",S,!1)};Ie.bind(o,"mousedown",(function(k){O0(k),hf(k),p=k.clientX,m=k.clientY;var R=n.getBoundingClientRect();v=R.width,x=R.height,Ie.bind(document,"mousemove",_),Ie.bind(document,"mouseup",S)}))}ie(o.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),n.appendChild(o)},ao.prototype.destroy=function(){var e=this.parent,n=this.content,o=this.resizeHandle;n.innerText="",e.removeAttribute("style"),n.removeAttribute("style"),Ie.unbind(n,"keydown",this.keyHandler),Ie.unbind(n,"mousedown",hf),Ie.unbind(n,"input",this.autoResize),Ie.unbind(n,"paste",this.handlePaste),o&&(o.removeAttribute("style"),gt(o)),gt(e)},ao.prototype.getValue=function(){return this.content.innerText.trim()},ao.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},ao.prototype.setSelection=function(e,n){var o=document.createRange();e===null?o.selectNodeContents(this.content):(o.setStart(e,n),o.setEnd(e,n));var a=window.getSelection();a.removeAllRanges(),a.addRange(o)},Wi.$inject=["eventBus","canvas"],Wi.prototype.registerProvider=function(e){this._providers.push(e)},Wi.prototype.isActive=function(e){return!(!this._active||e&&this._active.element!==e)},Wi.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Wi.prototype._fire=function(e,n){this._eventBus.fire("directEditing."+e,n||{active:this._active})},Wi.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0,this._canvas.restoreFocus&&this._canvas.restoreFocus()},Wi.prototype.complete=function(){var e=this._active;if(e){var n,o=e.context.bounds,a=this.$textbox.getBoundingClientRect(),l=this.getValue();l===e.context.text&&a.height===o.height&&a.width===o.width||(n=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,l,e.context.text,{x:a.left-n.left,y:a.top-n.top,width:a.width,height:a.height})),this._fire("complete"),this.close()}},Wi.prototype.getValue=function(){return this._textbox.getValue()},Wi.prototype._handleKey=function(e){e.stopPropagation();var n=e.keyCode||e.charCode;return n===27?(e.preventDefault(),this.cancel()):n!==13||e.shiftKey?void 0:(e.preventDefault(),this.complete())},Wi.prototype._handleResize=function(e){this._fire("resize",e)},Wi.prototype.activate=function(e){var n;this.isActive()&&this.cancel();var o=N(this._providers,(function(a){return(n=a.activate(e))?a:null}));return n&&(this.$textbox=this._textbox.create(n.bounds,n.style,n.text,n.options),this._active={element:e,context:n,provider:o},n.options&&n.options.resizable&&(this.resizable=!0),this._fire("activate")),!!n};var kC={__depends__:[Ap],__init__:["directEditing"],directEditing:["type",Wi]},aI=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],sI=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],lI=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],cI=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],uI=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],fI=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],dI=[{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}}],AC=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],pI=AC,RC=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}},{label:"Ad-hoc sub-process (expanded)",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}}],hI=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],mI=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],gI=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],vI=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],yI=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],bI=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(e){var n="Empty pool/participant";return e.children&&e.children.length&&(n+=" (removes content)"),n},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],xI={"bpmn:MessageEventDefinition":[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}}],"bpmn:TimerEventDefinition":[{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}}],"bpmn:ConditionalEventDefinition":[{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}}],"bpmn:SignalEventDefinition":[{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],"bpmn:ErrorEventDefinition":[{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}}],"bpmn:EscalationEventDefinition":[{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}}],"bpmn:CompensateEventDefinition":[{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}}]},PC={"start-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(0 995.64)">
      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>
    </g>
  </svg>`,"intermediate-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">
        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>
        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>
     </g>
  </svg>`};function Ki(e,n,o,a,l,u,h,p){this._bpmnFactory=e,this._popupMenu=n,this._modeling=o,this._moddle=a,this._bpmnReplace=l,this._rules=u,this._translate=h,this._moddleCopy=p,this._register()}Ki.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],Ki.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Ki.prototype.getPopupMenuEntries=function(e){var n,o=e.businessObject,a=this._rules,l=[],u=[];if(w(e)||!a.allowed("shape.replace",{element:e}))return{};var h,p=(h=e,function(m){var v=m.target,x=je(h),_=x.eventDefinitions&&x.eventDefinitions[0],S=x.$type===v.type,k=(_&&_.$type)===v.eventDefinitionType,R=!!v.triggeredByEvent==!!x.triggeredByEvent,O=v.isExpanded===void 0||v.isExpanded===zt(h);return!(S&&k&&R&&O)});return j(o,"bpmn:DataObjectReference")?this._createEntries(e,hI):j(o,"bpmn:DataStoreReference")&&!j(e.parent,"bpmn:Collaboration")?this._createEntries(e,mI):(j(o,"bpmn:Event")&&!j(o,"bpmn:BoundaryEvent")&&(n=o.get("eventDefinitions")[0]?.$type,l=xI[n]||[],!Nr(o.$parent)&&j(o.$parent,"bpmn:SubProcess")&&(l=M(l,(function(m){return m.target.type!=="bpmn:StartEvent"})))),j(o,"bpmn:StartEvent")&&!j(o.$parent,"bpmn:SubProcess")?(u=M(aI.concat(l),p),this._createEntries(e,u)):j(o,"bpmn:Participant")?(u=M(bI,(function(m){return zt(e)!==m.target.isExpanded})),this._createEntries(e,u)):j(o,"bpmn:StartEvent")&&Nr(o.$parent)?(u=M(vI.concat(l),(function(m){var v=m.target.isInterrupting!==!1,x=o.isInterrupting===v;return p(m)||!p(m)&&!x})),this._createEntries(e,u)):j(o,"bpmn:StartEvent")&&!Nr(o.$parent)&&j(o.$parent,"bpmn:SubProcess")?(u=M(sI.concat(l),p),this._createEntries(e,u)):j(o,"bpmn:EndEvent")?(u=M(cI.concat(l),(function(m){return!(m.target.eventDefinitionType=="bpmn:CancelEventDefinition"&&!j(o.$parent,"bpmn:Transaction"))&&p(m)})),this._createEntries(e,u)):j(o,"bpmn:BoundaryEvent")?(u=M(gI,(function(m){var v=m.target;if(v.eventDefinitionType=="bpmn:CancelEventDefinition"&&!j(o.attachedToRef,"bpmn:Transaction"))return!1;var x=v.cancelActivity!==!1,_=o.cancelActivity==x;return p(m)||!p(m)&&!_})),this._createEntries(e,u)):j(o,"bpmn:IntermediateCatchEvent")||j(o,"bpmn:IntermediateThrowEvent")?(u=M(lI.concat(l),p),this._createEntries(e,u)):j(o,"bpmn:Gateway")?(u=M(uI,p),this._createEntries(e,u)):j(o,"bpmn:Transaction")?(u=M(AC,p),this._createEntries(e,u)):Nr(o)&&zt(e)?(u=M(pI,p),this._createEntries(e,u)):j(o,"bpmn:AdHocSubProcess")&&zt(e)?(u=M(dI,p),this._createEntries(e,u)):j(o,"bpmn:SubProcess")&&zt(e)?(u=M(fI,p),this._createEntries(e,u)):j(o,"bpmn:SubProcess")&&!zt(e)?(u=M(RC,(function(m){return m.target.type===e.type==(m.target.isExpanded===!0)})),this._createEntries(e,u)):j(o,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(e,yI):j(o,"bpmn:FlowNode")?(u=M(RC,p),this._createEntries(e,u)):{})},Ki.prototype.getPopupMenuHeaderEntries=function(e){var n={};return j(e,"bpmn:Activity")&&!Nr(e)&&(n={...n,...this._getLoopCharacteristicsHeaderEntries(e)}),j(e,"bpmn:DataObjectReference")&&(n={...n,...this._getCollectionHeaderEntries(e)}),j(e,"bpmn:Participant")&&(n={...n,...this._getParticipantMultiplicityHeaderEntries(e)}),XS(e)&&(n={...n,...this._getNonInterruptingHeaderEntries(e)}),n},Ki.prototype._createEntries=function(e,n){var o={},a=this;return A(n,(function(l){o[l.actionName]=a._createEntry(l,e)})),o},Ki.prototype._createSequenceFlowEntries=function(e,n){var o=je(e),a={},l=this._modeling,u=this._moddle,h=this;return A(n,(function(p){switch(p.actionName){case"replace-with-default-flow":o.sourceRef.default!==o&&(j(o.sourceRef,"bpmn:ExclusiveGateway")||j(o.sourceRef,"bpmn:InclusiveGateway")||j(o.sourceRef,"bpmn:ComplexGateway")||j(o.sourceRef,"bpmn:Activity"))&&(a={...a,[p.actionName]:h._createEntry(p,e,(function(){l.updateProperties(e.source,{default:o})}))});break;case"replace-with-conditional-flow":!o.conditionExpression&&j(o.sourceRef,"bpmn:Activity")&&(a={...a,[p.actionName]:h._createEntry(p,e,(function(){var m=u.create("bpmn:FormalExpression",{body:""});l.updateProperties(e,{conditionExpression:m})}))});break;default:j(o.sourceRef,"bpmn:Activity")&&o.conditionExpression&&(a={...a,[p.actionName]:h._createEntry(p,e,(function(){l.updateProperties(e,{conditionExpression:void 0})}))}),(j(o.sourceRef,"bpmn:ExclusiveGateway")||j(o.sourceRef,"bpmn:InclusiveGateway")||j(o.sourceRef,"bpmn:ComplexGateway")||j(o.sourceRef,"bpmn:Activity"))&&o.sourceRef.default===o&&(a={...a,[p.actionName]:h._createEntry(p,e,(function(){l.updateProperties(e.source,{default:void 0})}))})}})),a},Ki.prototype._createEntry=function(e,n,o){var a=this._translate,l=this._bpmnReplace.replaceElement,u=e.label;return u&&typeof u=="function"&&(u=u(n)),o=o||function(){return l(n,e.target)},{label:a(u),className:e.className,action:o}},Ki.prototype._getLoopCharacteristicsHeaderEntries=function(e){var n=this,o=this._translate;function a(m,v){if(v.active)n._modeling.updateProperties(e,{loopCharacteristics:void 0});else{var x=e.businessObject.get("loopCharacteristics");x&&j(x,v.options.loopCharacteristics)?n._modeling.updateModdleProperties(e,x,{isSequential:v.options.isSequential}):(x=n._moddle.create(v.options.loopCharacteristics,{isSequential:v.options.isSequential}),n._modeling.updateProperties(e,{loopCharacteristics:x}))}}var l,u,h,p=je(e).loopCharacteristics;return p&&(l=p.isSequential,u=p.isSequential===void 0,h=p.isSequential!==void 0&&!p.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:o("Parallel multi-instance"),active:h,action:a,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:o("Sequential multi-instance"),active:l,action:a,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:o("Loop"),active:u,action:a,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},Ki.prototype._getCollectionHeaderEntries=function(e){var n=this,o=this._translate,a=e.businessObject.dataObjectRef;if(!a)return{};var l=a.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:o("Collection"),active:l,action:function(u,h){n._modeling.updateModdleProperties(e,a,{isCollection:!h.active})}}}},Ki.prototype._getParticipantMultiplicityHeaderEntries=function(e){var n=this,o=this._bpmnFactory,a=this._translate,l=e.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:a("Participant multiplicity"),active:!!l,action:function(u,h){var p;h.active||(p=o.create("bpmn:ParticipantMultiplicity")),n._modeling.updateProperties(e,{participantMultiplicity:p})}}}},Ki.prototype._getNonInterruptingHeaderEntries=function(e){const n=this._translate,o=je(e),a=this,l=YS(e),u=j(e,"bpmn:BoundaryEvent")?PC["intermediate-event-non-interrupting"]:PC["start-event-non-interrupting"],h=!o[l];return{"toggle-non-interrupting":{imageHtml:u,title:n("Toggle non-interrupting"),active:h,action:function(){a._modeling.updateProperties(e,{[l]:!!h})}}}};var _I={__depends__:[ry,B2,sy],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Ki]};function mf(e,n,o,a,l,u,h,p,m,v,x,_,S){e=e||{},a.registerProvider(this),this._contextPad=a,this._modeling=l,this._elementFactory=u,this._connect=h,this._create=p,this._popupMenu=m,this._canvas=v,this._rules=x,this._translate=_,this._eventBus=o,this._appendPreview=S,e.autoPlace!==!1&&(this._autoPlace=n.get("autoPlace",!1)),o.on("create.end",250,(function(k){var R=k.context.shape;if(Mu(k)&&a.isOpen(R)){var O=a.getEntries(R);O.replace&&O.replace.action.click(k,R)}})),o.on("contextPad.close",(function(){S.cleanUp()}))}function NC(e,n,o){var a=e.$instanceOf(n),l=!1;return A(e.eventDefinitions||[],(function(u){u.$type===o&&(l=!0)})),a&&l}mf.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"],mf.prototype.getMultiElementContextPadEntries=function(e){var n=this._modeling,o={};return this._isDeleteAllowed(e)&&ie(o,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Delete"),action:{click:function(a,l){n.removeElements(l.slice())}}}}),o},mf.prototype._isDeleteAllowed=function(e){var n=this._rules.allowed("elements.delete",{elements:e});return w(n)?te(e,(o=>n.includes(o))):n},mf.prototype.getContextPadEntries=function(e){var n=this._contextPad,o=this._modeling,a=this._elementFactory,l=this._connect,u=this._create,h=this._popupMenu,p=this._autoPlace,m=this._translate,v=this._appendPreview,x={};if(e.type==="label")return this._isDeleteAllowed([e])&&ie(x,R()),x;var _=e.businessObject;function S(P,U){l.start(P,U)}function k(P,U){o.removeElements([U])}function R(){return{delete:{group:"edit",className:"bpmn-icon-trash",title:m("Delete"),action:{click:k}}}}function O(P,U,K,Y){function se(ye,st){var Oe=a.createShape(ie({type:P},Y));u.start(ye,Oe,{source:st})}var Ee=p?function(ye,st){var Oe=a.createShape(ie({type:P},Y));p.append(st,Oe)}:se,_e=p?function(ye,st){return v.create(st,P,Y),()=>{v.cleanUp()}}:null;return{group:"model",className:U,title:K,action:{dragstart:se,click:Ee,hover:_e}}}function F(P){return function(U,K){o.splitLane(K,P),n.open(K,!0)}}if(Ot(_,["bpmn:Lane","bpmn:Participant"])&&zt(e)){var I=Ja(e);ie(x,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:m("Add lane above"),action:{click:function(P,U){o.addLane(U,"top")}}}}),I.length<2&&((fr(e)?e.height>=120:e.width>=120)&&ie(x,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:m("Divide into two lanes"),action:{click:F(2)}}}),(fr(e)?e.height>=180:e.width>=180)&&ie(x,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:m("Divide into three lanes"),action:{click:F(3)}}})),ie(x,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:m("Add lane below"),action:{click:function(P,U){o.addLane(U,"bottom")}}}})}return j(_,"bpmn:FlowNode")&&(j(_,"bpmn:EventBasedGateway")?ie(x,{"append.receive-task":O("bpmn:ReceiveTask","bpmn-icon-receive-task",m("Append receive task")),"append.message-intermediate-event":O("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",m("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":O("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",m("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":O("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",m("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":O("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",m("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):NC(_,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?ie(x,{"append.compensation-activity":O("bpmn:Task","bpmn-icon-task",m("Append compensation activity"),{isForCompensation:!0})}):j(_,"bpmn:EndEvent")||_.isForCompensation||NC(_,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Nr(_)||ie(x,{"append.end-event":O("bpmn:EndEvent","bpmn-icon-end-event-none",m("Append end event")),"append.gateway":O("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",m("Append gateway")),"append.append-task":O("bpmn:Task","bpmn-icon-task",m("Append task")),"append.intermediate-event":O("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",m("Append intermediate/boundary event"))})),h.isEmpty(e,"bpmn-replace")||ie(x,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:m("Change element"),action:{click:function(P,U){var K=ie((function(Y){var se=n.getPad(Y).html.getBoundingClientRect();return{x:se.left,y:se.bottom+5}})(U),{cursor:{x:P.x,y:P.y}});h.open(U,"bpmn-replace",K,{title:m("Change element"),width:300,search:!0})}}}}),j(_,"bpmn:SequenceFlow")&&ie(x,{"append.text-annotation":O("bpmn:TextAnnotation","bpmn-icon-text-annotation",m("Add text annotation"))}),j(_,"bpmn:MessageFlow")&&ie(x,{"append.text-annotation":O("bpmn:TextAnnotation","bpmn-icon-text-annotation",m("Add text annotation"))}),Ot(_,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&ie(x,{"append.text-annotation":O("bpmn:TextAnnotation","bpmn-icon-text-annotation",m("Add text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:m("Connect to other element"),action:{click:S,dragstart:S}}}),j(_,"bpmn:TextAnnotation")&&ie(x,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:m("Connect using association"),action:{click:S,dragstart:S}}}),Ot(_,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&ie(x,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:m("Connect using data input association"),action:{click:S,dragstart:S}}}),j(_,"bpmn:Group")&&ie(x,{"append.text-annotation":O("bpmn:TextAnnotation","bpmn-icon-text-annotation",m("Add text annotation"))}),this._isDeleteAllowed([e])&&ie(x,R()),x};var EI={__depends__:[oI,kC,qE,Bi,gy,vh,_I],__init__:["contextPadProvider"],contextPadProvider:["type",mf]},wI={horizontal:["x","width"],vertical:["y","height"]};function ia(e,n){this._modeling=e,this._filters=[],this.registerFilter((function(o){var a=n.allowed("elements.distribute",{elements:o});return w(a)?a:a?o:[]}))}ia.$inject=["modeling","rules"],ia.prototype.registerFilter=function(e){if(typeof e!="function")throw new Error("the filter has to be a function");this._filters.push(e)},ia.prototype.trigger=function(e,n){var o,a,l=this._modeling;if(!(e.length<3||(this._setOrientation(n),a=this._filterElements(e),(o=this._createGroups(a)).length<=2)))return l.distributeElements(o,this._axis,this._dimension),o},ia.prototype._filterElements=function(e){var n=this._filters,o=this._axis,a=this._dimension,l=[].concat(e);return n.length?(A(n,(function(u){l=u(l,o,a)})),l):e},ia.prototype._createGroups=function(e){var n=[],o=this,a=this._axis,l=this._dimension;if(!a)throw new Error('must have a defined "axis" and "dimension"');return A(ue(e,a),(function(u,h){var p,m=o._findRange(u,a,l),v=n[n.length-1];v&&o._hasIntersection(v.range,m)?n[n.length-1].elements.push(u):(p={range:m,elements:[u]},n.push(p))})),n},ia.prototype._setOrientation=function(e){var n=wI[e];this._axis=n[0],this._dimension=n[1]},ia.prototype._hasIntersection=function(e,n){return Math.max(e.min,e.max)>=Math.min(n.min,n.max)&&Math.min(e.min,e.max)<=Math.max(n.min,n.max)},ia.prototype._findRange=function(e){var n=e[this._axis];return{min:n+5,max:n+e[this._dimension]-5}};var SI={__init__:["distributeElements"],distributeElements:["type",ia]};function $h(e){ji.call(this,e)}$h.$inject=["eventBus"],i($h,ji),$h.prototype.init=function(){this.addRule("elements.distribute",(function(e){var n=e.elements;return!((n=ip(n=M(n,(function(o){var a=Ot(o,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(o.labelTarget||a)})))).length<3)&&n}))};var OC={horizontal:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
              </svg>`,vertical:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
            </svg>`};function gf(e,n,o,a){this._distributeElements=n,this._translate=o,this._popupMenu=e,this._rules=a,e.registerProvider("align-elements",900,this)}gf.$inject=["popupMenu","distributeElements","translate","rules"],gf.prototype.getPopupMenuEntries=function(e){var n={};return this._isAllowed(e)&&ie(n,this._getEntries(e)),n},gf.prototype._isAllowed=function(e){return this._rules.allowed("elements.distribute",{elements:e})},gf.prototype._getEntries=function(e){var n=this._distributeElements,o=this._translate,a=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:o("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:OC.horizontal,action:function(l,u){n.trigger(e,"horizontal"),a.close()}},"distribute-elements-vertical":{group:"distribute",title:o("Distribute elements vertically"),imageHtml:OC.vertical,action:function(l,u){n.trigger(e,"vertical"),a.close()}}}};var CI={__depends__:[ry,SI],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",$h],distributeElementsMenuProvider:["type",gf]},MC="is not a registered action";function Xi(e,n){this._actions={};var o=this;e.on("diagram.init",(function(){o._registerDefaultActions(n),e.fire("editorActions.init",{editorActions:o})}))}function M0(e,n){return new Error(e+" "+n)}Xi.$inject=["eventBus","injector"],Xi.prototype._registerDefaultActions=function(e){var n=e.get("commandStack",!1),o=e.get("modeling",!1),a=e.get("selection",!1),l=e.get("zoomScroll",!1),u=e.get("copyPaste",!1),h=e.get("canvas",!1),p=e.get("rules",!1),m=e.get("keyboardMove",!1),v=e.get("keyboardMoveSelection",!1);n&&(this.register("undo",(function(){n.undo()})),this.register("redo",(function(){n.redo()}))),u&&a&&this.register("copy",(function(){var x=a.get();if(x.length)return u.copy(x)})),u&&this.register("paste",(function(){u.paste()})),l&&this.register("stepZoom",(function(x){l.stepZoom(x.value)})),h&&this.register("zoom",(function(x){h.zoom(x.value)})),o&&a&&p&&this.register("removeSelection",(function(){var x=a.get();if(x.length){var _,S=p.allowed("elements.delete",{elements:x});S!==!1&&(_=w(S)?S:x).length&&o.removeElements(_.slice())}})),m&&this.register("moveCanvas",(function(x){m.moveCanvas(x)})),v&&this.register("moveSelection",(function(x){v.moveSelection(x.direction,x.accelerated)}))},Xi.prototype.trigger=function(e,n){if(!this._actions[e])throw M0(e,MC);return this._actions[e](n)},Xi.prototype.register=function(e,n){var o=this;if(typeof e=="string")return this._registerAction(e,n);A(e,(function(a,l){o._registerAction(l,a)}))},Xi.prototype._registerAction=function(e,n){if(this.isRegistered(e))throw M0(e,"is already registered");this._actions[e]=n},Xi.prototype.unregister=function(e){if(!this.isRegistered(e))throw M0(e,MC);this._actions[e]=void 0},Xi.prototype.getActions=function(){return Object.keys(this._actions)},Xi.prototype.isRegistered=function(e){return!!this._actions[e]};var TI={__init__:["editorActions"],editorActions:["type",Xi]};function Bh(e){e.invoke(Xi,this)}i(Bh,Xi),Bh.$inject=["injector"],Bh.prototype._registerDefaultActions=function(e){Xi.prototype._registerDefaultActions.call(this,e);var n=e.get("canvas",!1),o=e.get("elementRegistry",!1),a=e.get("selection",!1),l=e.get("spaceTool",!1),u=e.get("lassoTool",!1),h=e.get("handTool",!1),p=e.get("globalConnect",!1),m=e.get("distributeElements",!1),v=e.get("alignElements",!1),x=e.get("directEditing",!1),_=e.get("searchPad",!1),S=e.get("modeling",!1),k=e.get("contextPad",!1);n&&o&&a&&this._registerAction("selectElements",(function(){var R=n.getRootElement(),O=o.filter((function(F){return F!==R}));return a.select(O),O})),l&&this._registerAction("spaceTool",(function(){l.toggle()})),u&&this._registerAction("lassoTool",(function(){u.toggle()})),h&&this._registerAction("handTool",(function(){h.toggle()})),p&&this._registerAction("globalConnectTool",(function(){p.toggle()})),a&&m&&this._registerAction("distributeElements",(function(R){var O=a.get(),F=R.type;O.length&&m.trigger(O,F)})),a&&v&&this._registerAction("alignElements",(function(R){var O=a.get(),F=[],I=R.type;O.length&&(F=M(O,(function(P){return!j(P,"bpmn:Lane")})),v.trigger(F,I))})),a&&S&&this._registerAction("setColor",(function(R){var O=a.get();O.length&&S.setColor(O,R)})),a&&x&&this._registerAction("directEditing",(function(){var R=a.get();R.length&&x.activate(R[0])})),_&&this._registerAction("find",(function(){_.toggle()})),n&&S&&this._registerAction("moveToOrigin",(function(){var R,O,F=n.getRootElement();R=ir(O=j(F,"bpmn:Collaboration")?o.filter((function(I){return j(I.parent,"bpmn:Collaboration")})):o.filter((function(I){return I!==F&&!j(I.parent,"bpmn:SubProcess")}))),S.moveElements(O,{x:-R.x,y:-R.y},F)})),a&&k&&this._registerAction("replaceElement",(function(R){k.triggerEntry("replace","click",R)}))};var kI={__depends__:[TI],editorActions:["type",Bh]};function DC(e){e.on(["create.init","shape.move.init"],(function(n){var o=n.context;Ot(n.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(o.gridSnappingContext||(o.gridSnappingContext={}),o.gridSnappingContext.snapLocation="top-left")}))}DC.$inject=["eventBus"];function D0(e,n,o){return o||(o="round"),Math[o](e/n)*n}function ss(e,n,o){var a=!o||o.active!==!1;this._eventBus=n;var l=this;n.on("diagram.init",800,(function(){l.setActive(a)})),n.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,(function(u){var h=u.originalEvent;if(!(!l.active||h&&Fi(h))){var p=u.context,m=p.gridSnappingContext;m||(m=p.gridSnappingContext={}),["x","y"].forEach((function(v){var x={},_=(function(k,R,O){var F=k.context,I=k.shape,P=F.gridSnappingContext,U=P.snapLocation,K=P.snapOffset;return K&&T(K[R])||(K||(K=P.snapOffset={}),T(K[R])||(K[R]=0),!I)||(O.get(I.id)||(Fh(R)?K[R]+=I[R]+I.width/2:K[R]+=I[R]+I.height/2),!U)||(R==="x"?/left/.test(U)?K[R]-=I.width/2:/right/.test(U)&&(K[R]+=I.width/2):/top/.test(U)?K[R]-=I.height/2:/bottom/.test(U)&&(K[R]+=I.height/2)),K[R]})(u,v,e);_&&(x.offset=_);var S=(function(k,R){var O=k.context,F=O.createConstraints,I=O.resizeConstraints||{},P=O.gridSnappingContext,U=P.snapConstraints;if(U&&U[R])return U[R];U||(U=P.snapConstraints={}),U[R]||(U[R]={});var K=O.direction;F&&(Fh(R)?(U.x.min=F.left,U.x.max=F.right):(U.y.min=F.top,U.y.max=F.bottom));var Y=I.min,se=I.max;return Y&&(Fh(R)?LC(K)?U.x.max=Y.left:U.x.min=Y.right:IC(K)?U.y.max=Y.top:U.y.min=Y.bottom),se&&(Fh(R)?LC(K)?U.x.min=se.left:U.x.max=se.right:IC(K)?U.y.min=se.top:U.y.max=se.bottom),U[R]})(u,v);S&&ie(x,S),uc(u,v)||l.snapEvent(u,v,x)}))}}))}function Fh(e){return e==="x"}function IC(e){return e.indexOf("n")!==-1}function LC(e){return e.indexOf("w")!==-1}function rl(e,n){Fe.call(this,e),this._gridSnapping=n;var o=this;this.preExecute("shape.resize",(function(a){var l=a.context,u=(l.hints||{}).autoResize;if(u){var h=l.shape,p=l.newBounds;$(u)?l.newBounds=o.snapComplex(p,u):l.newBounds=o.snapSimple(h,p)}}))}ss.prototype.snapEvent=function(e,n,o){Jn(e,n,this.snapValue(e[n],o))},ss.prototype.getGridSpacing=function(){return 10},ss.prototype.snapValue=function(e,n){var o,a,l=0;return n&&n.offset&&(l=n.offset),e=D0(e+=l,10),n&&n.min&&T(o=n.min)&&(o=D0(o+l,10,"ceil"),e=Math.max(e,o)),n&&n.max&&T(a=n.max)&&(a=D0(a+l,10,"floor"),e=Math.min(e,a)),e-=l},ss.prototype.isActive=function(){return this.active},ss.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})},ss.prototype.toggleActive=function(){this.setActive(!this.active)},ss.$inject=["elementRegistry","eventBus","config.gridSnapping"],rl.$inject=["eventBus","gridSnapping","modeling"],i(rl,Fe),rl.prototype.snapSimple=function(e,n){var o=this._gridSnapping;return n.width=o.snapValue(n.width,{min:n.width}),n.height=o.snapValue(n.height,{min:n.height}),n.x=e.x+e.width/2-n.width/2,n.y=e.y+e.height/2-n.height/2,n},rl.prototype.snapComplex=function(e,n){return/w|e/.test(n)&&(e=this.snapHorizontally(e,n)),/n|s/.test(n)&&(e=this.snapVertically(e,n)),e},rl.prototype.snapHorizontally=function(e,n){var o=this._gridSnapping,a=/w/.test(n),l=/e/.test(n),u={};return u.width=o.snapValue(e.width,{min:e.width}),l&&(a?(u.x=o.snapValue(e.x,{max:e.x}),u.width+=o.snapValue(e.x-u.x,{min:e.x-u.x})):e.x=e.x+e.width-u.width),ie(e,u),e},rl.prototype.snapVertically=function(e,n){var o=this._gridSnapping,a=/n/.test(n),l=/s/.test(n),u={};return u.height=o.snapValue(e.height,{min:e.height}),a&&(l?(u.y=o.snapValue(e.y,{max:e.y}),u.height+=o.snapValue(e.y-u.y,{min:e.y-u.y})):e.y=e.y+e.height-u.height),ie(e,u),e};function $C(e,n){e.on(["spaceTool.move","spaceTool.end"],2e3,(function(o){var a,l=o.context;l.initialized&&(l.axis==="x"?(a=n.snapValue(o.dx),o.x=o.x+a-o.dx,o.dx=a):(a=n.snapValue(o.dy),o.y=o.y+a-o.dy,o.dy=a))}))}$C.$inject=["eventBus","gridSnapping"];var AI={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",rl],gridSnappingSpaceToolBehavior:["type",$C]}],__init__:["gridSnapping"],gridSnapping:["type",ss]};function BC(e,n,o){e.on("autoPlace",2e3,(function(a){var l=a.source,u=vt(l),h=a.shape,p=$w(l,h,o);return["x","y"].forEach((function(m){var v={};p[m]!==u[m]&&(p[m]>u[m]?v.min=p[m]:v.max=p[m],j(h,"bpmn:TextAnnotation")&&((function(x){return x==="x"})(m)?v.offset=-h.width/2:v.offset=-h.height/2),p[m]=n.snapValue(p[m],v))})),p}))}BC.$inject=["eventBus","gridSnapping","elementRegistry"];function FC(e,n,o){n.on(["create.start","shape.move.start"],1750,(function(a){var l=a.context,u=l.shape,h=e.getRootElement();j(u,"bpmn:Participant")&&j(h,"bpmn:Process")&&h.children.length&&l.createConstraints&&(u.width=o.snapValue(u.width,{min:u.width}),u.height=o.snapValue(u.height,{min:u.height}))}))}FC.$inject=["canvas","eventBus","gridSnapping"];function jh(e,n,o){Fe.call(this,e),this._gridSnapping=n;var a=this;this.postExecuted(["connection.create","connection.layout"],3e3,(function(l){var u=l.context,h=u.connection,p=u.hints||{},m=h.waypoints;p.connectionStart||p.connectionEnd||p.createElementsBehavior===!1||(function(v){return v.length>3})(m)&&o.updateWaypoints(h,a.snapMiddleSegments(m))}))}function RI(e,n,o){var a=Go(n,o),l={};return(function(u){return u==="h"})(a)&&(l.y=e.snapValue(n.y)),(function(u){return u==="v"})(a)&&(l.x=e.snapValue(n.x)),("x"in l||"y"in l)&&(n=ie({},n,l),o=ie({},o,l)),[n,o]}jh.$inject=["eventBus","gridSnapping","modeling"],i(jh,Fe),jh.prototype.snapMiddleSegments=function(e){var n,o=this._gridSnapping;e=e.slice();for(var a=1;a<e.length-2;a++)n=RI(o,e[a],e[a+1]),e[a]=n[0],e[a+1]=n[1];return e};var PI={__depends__:[AI,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",BC],gridSnappingParticipantBehavior:["type",FC],gridSnappingLayoutConnectionBehavior:["type",jh]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",DC]};function vf(e,n){this._interactionEvents=n;var o=this;e.on(["interactionEvents.createHit","interactionEvents.updateHit"],(function(a){var l=a.element,u=a.gfx;return j(l,"bpmn:Lane")?o._createParticipantHit(l,u):j(l,"bpmn:Participant")?zt(l)?o._createParticipantHit(l,u):o._createDefaultHit(l,u):j(l,"bpmn:SubProcess")?zt(l)?o._createSubProcessHit(l,u):o._createDefaultHit(l,u):void 0}))}vf.$inject=["eventBus","interactionEvents"],vf.prototype._createDefaultHit=function(e,n){return this._interactionEvents.removeHits(n),this._interactionEvents.createDefaultHit(e,n),!0},vf.prototype._createParticipantHit=function(e,n){this._interactionEvents.removeHits(n),this._interactionEvents.createBoxHit(n,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(n,"click-stroke",{width:e.width,height:e.height});var o=fr(e)?{width:30,height:e.height}:{width:e.width,height:30};return this._interactionEvents.createBoxHit(n,"all",o),!0},vf.prototype._createSubProcessHit=function(e,n){return this._interactionEvents.removeHits(n),this._interactionEvents.createBoxHit(n,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(n,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(n,"all",{width:e.width,height:30}),!0};var NI={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",vf]};function Vh(e){e.invoke(ec,this)}i(Vh,ec),Vh.$inject=["injector"],Vh.prototype.registerBindings=function(e,n){function o(a,l){n.isRegistered(a)&&e.addListener(l)}ec.prototype.registerBindings.call(this,e,n),o("selectElements",(function(a){var l=a.keyEvent;if(e.isKey(["a","A"],l)&&e.isCmd(l))return n.trigger("selectElements"),!0})),o("find",(function(a){var l=a.keyEvent;if(e.isKey(["f","F"],l)&&e.isCmd(l))return n.trigger("find"),!0})),o("spaceTool",(function(a){var l=a.keyEvent;if(!e.hasModifier(l))return e.isKey(["s","S"],l)?(n.trigger("spaceTool"),!0):void 0})),o("lassoTool",(function(a){var l=a.keyEvent;if(!e.hasModifier(l))return e.isKey(["l","L"],l)?(n.trigger("lassoTool"),!0):void 0})),o("handTool",(function(a){var l=a.keyEvent;if(!e.hasModifier(l))return e.isKey(["h","H"],l)?(n.trigger("handTool"),!0):void 0})),o("globalConnectTool",(function(a){var l=a.keyEvent;if(!e.hasModifier(l))return e.isKey(["c","C"],l)?(n.trigger("globalConnectTool"),!0):void 0})),o("directEditing",(function(a){var l=a.keyEvent;if(!e.hasModifier(l))return e.isKey(["e","E"],l)?(n.trigger("directEditing"),!0):void 0})),o("replaceElement",(function(a){var l=a.keyEvent;if(!e.hasModifier(l))return e.isKey(["r","R"],l)?(n.trigger("replaceElement",l),!0):void 0}))};var OI={__depends__:[Hv],__init__:["keyboardBindings"],keyboardBindings:["type",Vh]},MI={moveSpeed:1,moveSpeedAccelerated:10},jC="left",VC="right",HC="down",DI={ArrowLeft:jC,Left:jC,ArrowUp:"up",Up:"up",ArrowRight:VC,Right:VC,ArrowDown:HC,Down:HC},II={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function UC(e,n,o,a,l){var u=this;this._config=ie({},MI,e||{}),n.addListener(1500,(function(h){var p=h.keyEvent,m=DI[p.key];if(m&&!n.isCmd(p)){var v=n.isShift(p);return u.moveSelection(m,v),!0}})),this.moveSelection=function(h,p){var m=l.get();if(m.length){var v=this._config[p?"moveSpeedAccelerated":"moveSpeed"],x=II[h](v);a.allowed("elements.move",{shapes:m})&&o.moveElements(m,x)}}}UC.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var LI={__depends__:[Hv,Bi],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",UC]};function yf(e,n,o,a){this._dragging=a,this._rules=n;var l=this;function u(h,p){var m,v=h.shape,x=h.direction,_=h.resizeConstraints;h.delta=p,m=(function(S,k,R){var O=R.x,F=R.y,I={x:S.x,y:S.y,width:S.width,height:S.height};return k.indexOf("n")!==-1?(I.y=S.y+F,I.height=S.height-F):k.indexOf("s")!==-1&&(I.height=S.height+F),k.indexOf("e")!==-1?I.width=S.width+O:k.indexOf("w")!==-1&&(I.x=S.x+O,I.width=S.width-O),I})(v,x,p),h.newBounds=(function(S,k){if(!k)return S;var R=mt(S);return cp({top:nh("top",R,k),right:nh("right",R,k),bottom:nh("bottom",R,k),left:nh("left",R,k)})})(m,_),h.canExecute=l.canResize(h)}e.on("resize.start",(function(h){var p,m,v;p=h.context,m=p.resizeConstraints,v=p.minBounds,m===void 0&&(v===void 0&&(v=l.computeMinResizeBox(p)),p.resizeConstraints={min:mt(v)})})),e.on("resize.move",(function(h){var p={x:h.dx,y:h.dy};u(h.context,p)})),e.on("resize.end",(function(h){(function(p){var m=p.shape,v=p.canExecute,x=p.newBounds;if(v){if(!(function(_,S){return _.x!==S.x||_.y!==S.y||_.width!==S.width||_.height!==S.height})(m,x=O_(x)))return;o.resizeShape(m,x)}})(h.context)}))}function zC(e,n){var o=vt(e),a=mt(e),l={x:o.x,y:o.y};return n.indexOf("n")!==-1?l.y=a.top:n.indexOf("s")!==-1&&(l.y=a.bottom),n.indexOf("e")!==-1?l.x=a.right:n.indexOf("w")!==-1&&(l.x=a.left),l}function $I(e){var n="resize-";return e==="n"||e==="s"?n+"ns":e==="e"||e==="w"?n+"ew":e==="nw"||e==="se"?n+"nwse":n+"nesw"}yf.prototype.canResize=function(e){var n=this._rules,o=Xt(e,["newBounds","shape","delta","direction"]);return n.allowed("shape.resize",o)},yf.prototype.activate=function(e,n,o){var a,l,u=this._dragging;if(typeof o=="string"&&(o={direction:o}),!(l=(a=ie({shape:n},o)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");u.init(e,zC(n,l),"resize",{autoActivate:!0,cursor:$I(l),data:{shape:n,context:a}})},yf.prototype.computeMinResizeBox=function(e){var n=e.shape;return(function(o,a,l,u){var h=mt(a),p={top:/n/.test(o)?h.bottom-l.height:h.top,left:/w/.test(o)?h.right-l.width:h.left,bottom:/s/.test(o)?h.top+l.height:h.bottom,right:/e/.test(o)?h.left+l.width:h.right},m=u?mt(u):p;return cp({top:th(p.top,m.top),left:th(p.left,m.left),bottom:eh(p.bottom,m.bottom),right:eh(p.right,m.right)})})(e.direction,n,e.minDimensions||{width:10,height:10},kS(n,e.childrenBoxPadding))},yf.$inject=["eventBus","rules","modeling","dragging"];var GC="djs-resizing",WC="resize-not-ok";function KC(e,n,o){e.on("resize.move",500,(function(a){var l,u,h,p;l=a.context,u=l.shape,h=l.newBounds,(p=l.frame)||(p=l.frame=o.addFrame(u,n.getActiveLayer()),n.addMarker(u,GC)),h.width>5&&Ne(p,{x:h.x,width:h.width}),h.height>5&&Ne(p,{y:h.y,height:h.height}),l.canExecute?rt(p).remove(WC):rt(p).add(WC)})),e.on("resize.cleanup",(function(a){var l,u;l=a.context,u=l.shape,l.frame&&Wn(l.frame),n.removeMarker(u,GC)}))}KC.$inject=["eventBus","canvas","previewSupport"];var bf="djs-resizer",BI=["n","w","s","e","nw","ne","se","sw"];function ls(e,n,o,a){this._resize=a,this._canvas=n;var l=this;e.on("selection.changed",(function(u){var h=u.newSelection;l.removeResizers(),h.length===1&&A(h,Ye(l.addResizer,l))})),e.on("shape.changed",(function(u){var h=u.element;o.isSelected(h)&&(l.removeResizers(),l.addResizer(h))}))}ls.prototype.makeDraggable=function(e,n,o){var a=this._resize;function l(u){Wa(u)&&a.activate(u,e,o)}Ie.bind(n,"mousedown",l),Ie.bind(n,"touchstart",l)},ls.prototype._createResizer=function(e,n,o,a){var l=this._getResizersParent(),u=(function(v){var x={x:0,y:0};return v.indexOf("e")!==-1?x.x=6:v.indexOf("w")!==-1&&(x.x=-6),v.indexOf("s")!==-1?x.y=6:v.indexOf("n")!==-1&&(x.y=-6),x})(a),h=ut("g");rt(h).add(bf),rt(h).add(bf+"-"+e.id),rt(h).add(bf+"-"+a),We(l,h);var p=ut("rect");Ne(p,{x:-4+u.x,y:-4+u.y,width:8,height:8}),rt(p).add(bf+"-visual"),We(h,p);var m=ut("rect");return Ne(m,{x:-10+u.x,y:-10+u.y,width:20,height:20}),rt(m).add(bf+"-hit"),We(h,m),dp(h,n,o),h},ls.prototype.createResizer=function(e,n){var o=zC(e,n),a=this._createResizer(e,o.x,o.y,n);this.makeDraggable(e,a,n)},ls.prototype.addResizer=function(e){var n=this;!mn(e)&&this._resize.canResize({shape:e})&&A(BI,(function(o){n.createResizer(e,o)}))},ls.prototype.removeResizers=function(){Da(this._getResizersParent())},ls.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},ls.$inject=["eventBus","canvas","selection","resize"];var XC={__depends__:[To,qo,fc],__init__:["resize","resizePreview","resizeHandles"],resize:["type",yf],resizePreview:["type",KC],resizeHandles:["type",ls]};function xf(e,n,o,a,l,u,h){function p(m,v){(v||Ot(m,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||I0(m))&&a.activate(m)}this._bpmnFactory=n,this._canvas=o,this._modeling=l,this._textRenderer=h,a.registerProvider(this),e.on("element.dblclick",(function(m){p(m.element,!0)})),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],(function(){a.isActive()&&a.complete()})),e.on(["shape.remove","connection.remove"],2e3,(function(m){a.isActive(m.element)&&a.cancel()})),e.on(["commandStack.changed"],(function(m){a.isActive()&&a.cancel()})),e.on("directEditing.activate",(function(m){u.removeResizers()})),e.on("create.end",500,(function(m){var v=m.context,x=v.shape,_=m.context.canExecute;m.isTouch||_&&(v.hints&&v.hints.createElementsBehavior===!1||p(x))})),e.on("autoPlace.end",500,(function(m){p(m.shape)}))}function I0(e){return j(e,"bpmn:SubProcess")&&!zt(e)}xf.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],xf.prototype.activate=function(e){var n=ro(e);if(n!==void 0){var o={text:n};ie(o,this.getEditingBBox(e));var a={},l=o.style||{};return ie(l,{backgroundColor:null,border:null}),(Ot(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||I0(e))&&ie(a,{centerVertically:!0}),za(e)&&(ie(a,{autoResize:!0}),ie(l,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),j(e,"bpmn:TextAnnotation")&&(ie(a,{resizable:!0,autoResize:!0}),ie(l,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),ie(o,{options:a,style:l}),o}},xf.prototype.getEditingBBox=function(e){var n=this._canvas,o=e.label||e,a=n.getAbsoluteBBox(o),l=a.x+a.width/2,u=a.y+a.height/2,h={x:a.x,y:a.y},p=n.zoom(),m=this._textRenderer.getDefaultStyle(),v=this._textRenderer.getExternalStyle(),x=v.fontSize*p,_=v.lineHeight,S=m.fontSize*p,k=m.lineHeight,R={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(j(e,"bpmn:Lane")||(function(Ee){return j(Ee,"bpmn:Participant")&&zt(Ee)})(e)){var O=fr(e);ie(h,O?{width:a.height,height:30*p,x:a.x-a.height/2+15*p,y:u-30*p/2}:{width:a.width,height:30*p}),ie(R,{fontSize:S+"px",lineHeight:k,paddingTop:7*p+"px",paddingBottom:7*p+"px",paddingLeft:5*p+"px",paddingRight:5*p+"px",transform:O?"rotate(-90deg)":null})}if((function(Ee){return j(Ee,"bpmn:Participant")&&!zt(Ee)})(e)){var F=fr(e);ie(h,F?{width:a.width,height:a.height}:{width:a.height,height:a.width,x:l-a.height/2,y:u-a.width/2}),ie(R,{fontSize:S+"px",lineHeight:k,paddingTop:7*p+"px",paddingBottom:7*p+"px",paddingLeft:5*p+"px",paddingRight:5*p+"px",transform:F?null:"rotate(-90deg)"})}(Ot(e,["bpmn:Task","bpmn:CallActivity"])||I0(e))&&(ie(h,{width:a.width,height:a.height}),ie(R,{fontSize:S+"px",lineHeight:k,paddingTop:7*p+"px",paddingBottom:7*p+"px",paddingLeft:5*p+"px",paddingRight:5*p+"px"})),(function(Ee){return j(Ee,"bpmn:SubProcess")&&zt(Ee)})(e)&&(ie(h,{width:a.width,x:a.x}),ie(R,{fontSize:S+"px",lineHeight:k,paddingTop:7*p+"px",paddingBottom:7*p+"px",paddingLeft:5*p+"px",paddingRight:5*p+"px"}));var I=90*p,P=7*p,U=4*p;if(o.labelTarget&&(ie(h,{width:I,height:a.height+P+U,x:l-I/2,y:a.y-P}),ie(R,{fontSize:x+"px",lineHeight:_,paddingTop:P+"px",paddingBottom:U+"px"})),za(o)&&!yp(o)&&!Bt(o)){var K=Iv(e),Y=n.getAbsoluteBBox({x:K.x,y:K.y,width:0,height:0}),se=x+P+U;ie(h,{width:I,height:se,x:Y.x-I/2,y:Y.y-se/2}),ie(R,{fontSize:x+"px",lineHeight:_,paddingTop:P+"px",paddingBottom:U+"px"})}return j(e,"bpmn:TextAnnotation")&&(ie(h,{width:a.width,height:a.height,minWidth:30*p,minHeight:10*p}),ie(R,{textAlign:"left",paddingTop:5*p+"px",paddingBottom:7*p+"px",paddingLeft:7*p+"px",paddingRight:5*p+"px",fontSize:S+"px",lineHeight:k})),{bounds:h,style:R}},xf.prototype.update=function(e,n,o,a){var l,u,h;j(e,"bpmn:TextAnnotation")&&(u=this._canvas.getAbsoluteBBox(e),l={x:e.x,y:e.y,width:e.width/u.width*a.width,height:e.height/u.height*a.height}),(h=n)&&h.trim()||(n=null),this._modeling.updateLabel(e,n,l)};var YC="djs-element-hidden",ZC="djs-label-hidden";function JC(e,n,o){var a,l,u,h=this,p=n.getDefaultLayer();e.on("directEditing.activate",(function(m){var v=m.active;if(j(a=v.element.label||v.element,"bpmn:TextAnnotation")){l=n.getAbsoluteBBox(a),u=ut("g");var x=o.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:a.width,containerHeight:a.height,position:{mx:0,my:0}}),_=h.path=ut("path");Ne(_,{d:x,strokeWidth:2,stroke:FI(a)}),We(u,_),We(p,u),Er(u,a.x,a.y)}j(a,"bpmn:TextAnnotation")||a.labelTarget?n.addMarker(a,YC):(j(a,"bpmn:Task")||j(a,"bpmn:CallActivity")||j(a,"bpmn:SubProcess")||j(a,"bpmn:Participant")||j(a,"bpmn:Lane"))&&n.addMarker(a,ZC)})),e.on("directEditing.resize",(function(m){if(j(a,"bpmn:TextAnnotation")){var v=m.height,x=m.dy,_=Math.max(a.height/l.height*(v+x),0),S=o.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:a.width,containerHeight:_,position:{mx:0,my:0}});Ne(h.path,{d:S})}})),e.on(["directEditing.complete","directEditing.cancel"],(function(m){var v=m.active;v&&(n.removeMarker(v.element.label||v.element,YC),n.removeMarker(a,ZC)),a=void 0,l=void 0,u&&(Wn(u),u=void 0)}))}function FI(e,n){return Yt(e).get("stroke")||n||"black"}JC.$inject=["eventBus","canvas","pathMap"];var jI={__depends__:[Bv,XC,kC],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",xf],labelEditingPreview:["type",JC]};function il(e,n){this._eventBus=e,this.offset=5;var o=n.cls("djs-outline",["no-fill"]),a=this;function l(u){var h=ut("rect");return Ne(h,ie({x:0,y:0,rx:4,width:100,height:100},o)),h}e.on(["shape.added","shape.changed"],500,(function(u){var h=u.element,p=u.gfx,m=Ke(".djs-outline",p);m||We(p,m=a.getOutline(h)||l()),a.updateShapeOutline(m,h)})),e.on(["connection.added","connection.changed"],(function(u){var h=u.element,p=u.gfx,m=Ke(".djs-outline",p);m||We(p,m=l()),a.updateConnectionOutline(m,h)}))}il.prototype.updateShapeOutline=function(e,n){var o=!1,a=this._getProviders();a.length&&A(a,(function(l){o=o||l.updateOutline(n,e)})),o||Ne(e,{x:-this.offset,y:-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},il.prototype.updateConnectionOutline=function(e,n){var o=ir(n);Ne(e,{x:o.x-this.offset,y:o.y-this.offset,width:o.width+2*this.offset,height:o.height+2*this.offset})},il.prototype.registerProvider=function(e,n){n||(n=e,e=1e3),this._eventBus.on("outline.getProviders",e,(function(o){o.providers.push(n)}))},il.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},il.prototype.getOutline=function(e){var n;return A(this._getProviders(),(function(o){D(o.getOutline)&&(n=n||o.getOutline(e))})),n},il.$inject=["eventBus","styles","elementRegistry"];function L0(e,n,o){this._canvas=n;var a=this;e.on("element.changed",(function(l){o.isSelected(l.element)&&a._updateMultiSelectionOutline(o.get())})),e.on("selection.changed",(function(l){var u=l.newSelection;a._updateMultiSelectionOutline(u)}))}L0.prototype._updateMultiSelectionOutline=function(e){var n=this._canvas.getLayer("selectionOutline");Da(n);var o=e.length>1;if(rt(this._canvas.getContainer())[o?"add":"remove"]("djs-multi-select"),o){var a=(function(u){return{x:u.x-6,y:u.y-6,width:u.width+12,height:u.height+12}})(ir(e)),l=ut("rect");Ne(l,ie({rx:3},a)),rt(l).add("djs-selection-outline"),We(n,l)}},L0.$inject=["eventBus","canvas","selection"];var $0={__depends__:[Bi],__init__:["outline","multiSelectionOutline"],outline:["type",il],multiSelectionOutline:["type",L0]};const QC=["bpmn:Event","bpmn:SequenceFlow","bpmn:Gateway"],qC={class:"bjs-label-link",stroke:"var(--element-selected-outline-secondary-stroke-color)",strokeDasharray:"5, 5"};function eT(e,n,o,a,l){const u=n.getLayer("overlays");function h(v,x,_=[]){const S=gu([vt(x),vt(v)],qC),k=S.getAttribute("d"),R=_u(_.includes(v)?p(v):m(v),k);if(!R)return;const O=_u(_.includes(x)?p(x):m(x),k)||vt(x);Vu(O,R)<15||(gv(S,[O,R]),We(u,S))}function p(v){const x=a.getOutline(v),_=a.offset;if(!x)return m(v);if(x.x)return $v({x:v.x+ol(x,"x")-2,y:v.y+ol(x,"y")-2,width:ol(x,"width")+4,height:ol(x,"height")+4},ol(x,"rx"));if(x.cx)return gE({x:v.x-_,y:v.y-_,width:2*ol(x,"r"),height:2*ol(x,"r")})}function m(v){return o.getShapePath(v)}e.on(["selection.changed","shape.changed"],(function(){kt(`.${qC.class}`,u).forEach(Wn)})),e.on("selection.changed",(function({newSelection:v}){const x=v.filter((_=>Ot(_,QC)));if(x.length===1){const _=x[0];Bt(_)?h(_,_.labelTarget,v):_.labels?.length&&h(_.labels[0],_,v)}if(x.length===2){const _=x.find(Bt),S=x.find((k=>k.labels?.includes(_)));_&&S&&h(_,S,v)}})),e.on("shape.changed",(function({element:v}){Ot(v,QC)&&(function(x){return l.get().includes(x)})(v)&&(Bt(v)?h(v,v.labelTarget,l.get()):v.labels?.length&&h(v.labels[0],v,l.get()))}))}function ol(e,n){return parseFloat(Ne(e,n)||0)}eT.$inject=["eventBus","canvas","graphicsFactory","outline","selection"];var VI={__depends__:[Bi,$0],__init__:["labelLink"],labelLink:["type",eT]},HI=new Nu("tt");function B0(e,n){e.style.display=n===!1?"none":""}var tT="djs-tooltip",F0="."+tT;function Qr(e,n){var o,a;this._eventBus=e,this._canvas=n,this._ids=HI,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(o=n.getContainer(),X(a=Re('<div class="djs-tooltip-container" />'),{position:"absolute",width:"0",height:"0"}),o.insertBefore(a,o.firstChild),a);var l=this;Nt.bind(this._tooltipRoot,F0,"mousedown",(function(u){u.stopPropagation()})),Nt.bind(this._tooltipRoot,F0,"mouseover",(function(u){l.trigger("mouseover",u)})),Nt.bind(this._tooltipRoot,F0,"mouseout",(function(u){l.trigger("mouseout",u)})),this._init()}Qr.$inject=["eventBus","canvas"],Qr.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var n=this._ids.next();return e=ie({},this._tooltipDefaults,e,{id:n}),this._addTooltip(e),e.timeout&&this.setTimeout(e),n},Qr.prototype.trigger=function(e,n){var o=n.delegateTarget||n.target,a=this.get(q(o,"data-tooltip-id"));a&&(e==="mouseover"&&a.timeout&&this.clearTimeout(a),e==="mouseout"&&a.timeout&&(a.timeout=1e3,this.setTimeout(a)))},Qr.prototype.get=function(e){return typeof e!="string"&&(e=e.id),this._tooltips[e]},Qr.prototype.clearTimeout=function(e){if(e=this.get(e)){var n=e.removeTimer;n&&(clearTimeout(n),e.removeTimer=null)}},Qr.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e);var n=this;e.removeTimer=setTimeout((function(){n.remove(e)}),e.timeout)}},Qr.prototype.remove=function(e){var n=this.get(e);n&&(gt(n.html),gt(n.htmlContainer),delete n.htmlContainer,delete this._tooltips[n.id])},Qr.prototype.show=function(){B0(this._tooltipRoot)},Qr.prototype.hide=function(){B0(this._tooltipRoot,!1)},Qr.prototype._updateRoot=function(e){var n=e.scale||1,o=e.scale||1,a="matrix("+n+",0,0,"+o+","+-1*e.x*n+","+-1*e.y*o+")";this._tooltipRoot.style.transform=a,this._tooltipRoot.style["-ms-transform"]=a},Qr.prototype._addTooltip=function(e){var n,o=e.id,a=e.html,l=this._tooltipRoot;a.get&&a.constructor.prototype.jquery&&(a=a.get(0)),$(a)&&(a=Re(a)),X(n=Re('<div data-tooltip-id="'+o+'" class="'+tT+'">'),{position:"absolute"}),n.appendChild(a),e.type&&Ce(n).add("djs-tooltip-"+e.type),e.className&&Ce(n).add(e.className),e.htmlContainer=n,l.appendChild(n),this._tooltips[o]=e,this._updateTooltip(e)},Qr.prototype._updateTooltip=function(e){var n=e.position;(function(o,a,l){X(o,{left:a+"px",top:l+"px"})})(e.htmlContainer,n.x,n.y)},Qr.prototype._updateTooltipVisibilty=function(e){A(this._tooltips,(function(n){var o=n.show,a=n.htmlContainer,l=!0;o&&((o.minZoom>e.scale||o.maxZoom<e.scale)&&(l=!1),B0(a,l))}))},Qr.prototype._init=function(){var e=this;this._eventBus.on("canvas.viewbox.changing",(function(n){e.hide()})),this._eventBus.on("canvas.viewbox.changed",(function(n){var o;o=n.viewbox,e._updateRoot(o),e._updateTooltipVisibilty(o),e.show()}))};var UI={__init__:["tooltips"],tooltips:["type",Qr]};function nT(e,n,o){function a(l,u,h){n.add({position:{x:l.x+5,y:l.y+5},type:"error",timeout:2e3,html:"<div>"+u+"</div>"})}e.on(["shape.move.rejected","create.rejected"],(function(l){var u=l.context,h=u.shape;j(u.target,"bpmn:Collaboration")&&(j(h,"bpmn:FlowNode")?a(l,o("flow elements must be children of pools/participants")):j(h,"bpmn:DataObjectReference")&&a(l,o("Data object must be placed within a pool/participant.")))}))}nT.$inject=["eventBus","tooltips","translate"];var zI={__depends__:[UI],__init__:["modelingFeedback"],modelingFeedback:["type",nT]},Hh=Math.round;function rT(e,n,o,a,l){function u(p,m,v,x){return l.allowed("elements.move",{shapes:p,delta:m,position:v,target:x})}function h(p,m,v,x){if(C(v)&&(x=v,v=!1),!m.waypoints&&m.parent&&!rt(p.target).has("djs-hit-no-move")){var _=(function(S){return{x:S.x+Hh(S.width/2),y:S.y+Hh(S.height/2)}})(m);return n.init(p,_,"shape.move",{cursor:"grabbing",autoActivate:v,data:{shape:m,context:x||{}}}),!0}}e.on("shape.move.start",1500,(function(p){var m=p.context,v=p.shape,x=a.get().slice();x.indexOf(v)===-1&&(x=[v]),x=(function(_){var S=re(_,"id");return M(_,(function(k){for(;k=k.parent;)if(S[k.id])return!1;return!0}))})(x),ie(m,{shapes:x,validatedShapes:x,shape:v})})),e.on("shape.move.start",1250,(function(p){var m=p.context,v=m.validatedShapes;if(!(m.canExecute=u(v)))return!1})),e.on("shape.move.move",500,(function(p){var m,v=p.context,x=v.validatedShapes,_=p.hover,S={x:p.dx,y:p.dy};m=u(x,S,{x:p.x,y:p.y},_),v.delta=S,v.canExecute=m,v.target=m!==null?_:null})),e.on("shape.move.end",(function(p){var m=p.context,v=m.delta,x=m.canExecute,_=x==="attach",S=m.shapes;if(x===!1)return!1;v.x=Hh(v.x),v.y=Hh(v.y),v.x===0&&v.y===0||o.moveElements(S,v,m.target,{primaryShape:m.shape,attach:_})})),e.on("element.mousedown",(function(p){if(Wa(p)){var m=Ql(p);if(!m)throw new Error("must supply DOM mousedown event");return h(m,p.element)}})),this.start=h}rT.$inject=["eventBus","dragging","modeling","selection","rules"];var j0="djs-dragging",iT="drop-ok",oT="drop-not-ok",aT="new-parent",sT="attach-ok";function lT(e,n,o,a){function l(p){var m=(function(v){var x=M(v,(function(_){return!mn(_)||N(v,le({id:_.source.id}))&&N(v,le({id:_.target.id}))}));return x})(u(p));return m}function u(p){var m=vu(p,!0),v=m.flatMap((_=>(_.incoming||[]).concat(_.outgoing||[]))),x=m.concat(v);return[...new Set(x)]}function h(p,m){[sT,iT,oT,aT].forEach((function(v){v===m?n.addMarker(p,v):n.removeMarker(p,v)}))}e.on("shape.move.start",499,(function(p){var m,v=p.context,x=v.shapes,_=v.allDraggedElements,S=l(x);if(!v.dragGroup){var k=ut("g");Ne(k,o.cls("djs-drag-group",["no-events"])),We(n.getActiveLayer(),k),v.dragGroup=k}S.forEach((function(R){a.addDragger(R,v.dragGroup)})),A(_=_?d([_,u(x)]):u(x),(function(R){n.addMarker(R,j0)})),v.allDraggedElements=_,v.differentParents=(m=re(x,(function(R){return R.parent&&R.parent.id})),Q(m).length!==1)})),e.on("shape.move.move",499,(function(p){var m=p.context,v=m.dragGroup,x=m.target,_=m.shape.parent,S=m.canExecute;x&&(S==="attach"?h(x,sT):m.canExecute&&_&&x.id!==_.id?h(x,aT):h(x,m.canExecute?iT:oT)),Er(v,p.dx,p.dy)})),e.on(["shape.move.out","shape.move.cleanup"],(function(p){var m=p.context.target;m&&h(m,null)})),e.on("shape.move.cleanup",(function(p){var m=p.context,v=m.allDraggedElements,x=m.dragGroup;A(v,(function(_){n.removeMarker(_,j0)})),x&&Wn(x)})),this.makeDraggable=function(p,m,v){a.addDragger(m,p.dragGroup),v&&n.addMarker(m,j0),p.allDraggedElements?p.allDraggedElements.push(m):p.allDraggedElements=[m]}}lT.$inject=["eventBus","canvas","styles","previewSupport"];var GI={__depends__:[Ap,Bi,$0,To,qo,fc],__init__:["move","movePreview"],move:["type",rT],movePreview:["type",lT]},cT=".djs-palette-toggle",uT=".entry",WI=cT+", "+uT,V0="djs-palette-",H0="open",fT="two-column";function Qn(e,n){this._eventBus=e,this._canvas=n;var o=this;e.on("tool-manager.update",(function(a){var l=a.tool;o.updateToolHighlight(l)})),e.on("i18n.changed",(function(){o._update()})),e.on("diagram.init",(function(){o._diagramInitialized=!0,o._rebuild()}))}function KI(e,n){var o=n.getPaletteEntries();return D(o)?o(e):(A(o,(function(a,l){e[l]=a})),e)}Qn.$inject=["eventBus","canvas"],Qn.prototype.registerProvider=function(e,n){n||(n=e,e=1e3),this._eventBus.on("palette.getProviders",e,(function(o){o.providers.push(n)})),this._rebuild()},Qn.prototype.getEntries=function(){return this._getProviders().reduce(KI,{})},Qn.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},Qn.prototype._init=function(){var e=this,n=this._eventBus,o=this._getParentContainer(),a=this._container=Re(Qn.HTML_MARKUP);o.appendChild(a),Ce(o).add(V0+"shown"),Nt.bind(a,WI,"click",(function(l){if(Je(l.delegateTarget,cT))return e.toggle();e.trigger("click",l)})),Ie.bind(a,"mousedown",(function(l){l.stopPropagation()})),Nt.bind(a,uT,"dragstart",(function(l){e.trigger("dragstart",l)})),n.on("canvas.resized",this._layoutChanged,this),n.fire("palette.create",{container:a})},Qn.prototype._getProviders=function(e){var n=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(n),n.providers},Qn.prototype._toggleState=function(e){e=e||{};var n,o=this._getParentContainer(),a=this._container,l=this._eventBus,u=Ce(a),h=Ce(o);n="twoColumn"in e?e.twoColumn:this._needsCollapse(o.clientHeight,this._entries||{}),u.toggle(fT,n),h.toggle(V0+fT,n),"open"in e&&(u.toggle(H0,e.open),h.toggle(V0+H0,e.open)),l.fire("palette.changed",{twoColumn:n,open:this.isOpen()})},Qn.prototype._update=function(){var e=Ke(".djs-palette-entries",this._container),n=this._entries=this.getEntries();$e(e),A(n,(function(o,a){var l=o.group||"default",u=Ke("[data-group="+Ou(l)+"]",e);u||(q(u=Re('<div class="group"></div>'),"data-group",l),e.appendChild(u));var h=o.html||(o.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),p=Re(h);if(u.appendChild(p),!o.separator&&(q(p,"data-action",a),o.title&&q(p,"title",o.title),o.className&&(function(v,x){var _=Ce(v);(w(x)?x:x.split(/\s+/g)).forEach((function(S){_.add(S)}))})(p,o.className),o.imageUrl)){var m=Re("<img>");q(m,"src",o.imageUrl),p.appendChild(m)}})),this.open()},Qn.prototype.trigger=function(e,n,o){var a,l,u=n.delegateTarget||n.target;return u?(a=q(u,"data-action"),l=n.originalEvent||n,this.triggerEntry(a,e,l,o)):n.preventDefault()},Qn.prototype.triggerEntry=function(e,n,o,a){var l,u;if((l=this._entries[e])&&(u=l.action,this._eventBus.fire("palette.trigger",{entry:l,event:o})!==!1)){if(D(u)){if(n==="click")return u(o,a)}else if(u[n])return u[n](o,a);o.preventDefault()}},Qn.prototype._layoutChanged=function(){this._toggleState({})},Qn.prototype._needsCollapse=function(e,n){return e<46*Object.keys(n).length+50},Qn.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},Qn.prototype.open=function(){this._toggleState({open:!0})},Qn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Qn.prototype.isActiveTool=function(e){return e&&this._activeTool===e},Qn.prototype.updateToolHighlight=function(e){var n;this._toolsContainer||(n=Ke(".djs-palette-entries",this._container),this._toolsContainer=Ke("[data-group=tools]",n)),A(this._toolsContainer.children,(function(o){var a=o.getAttribute("data-action");if(a){var l=Ce(o);a=a.replace("-tool",""),l.contains("entry")&&a===e?l.add("highlighted-entry"):l.remove("highlighted-entry")}}))},Qn.prototype.isOpen=function(){return Ce(this._container).has(H0)},Qn.prototype._getParentContainer=function(){return this._canvas.getContainer()},Qn.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var XI={__init__:["palette"],palette:["type",Qn]},dT="crosshair";function al(e,n,o,a,l,u,h){this._selection=l,this._dragging=o,this._mouse=h;var p=this,m=function(_){var S,k=n.getActiveLayer();Ne(S=_.frame=ut("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),We(k,S)},v=function(_){var S=_.frame,k=_.bbox;Ne(S,{x:k.x,y:k.y,width:k.width,height:k.height})},x=function(_){_.frame&&Wn(_.frame)};u.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",(function(_){var S=_.originalEvent.target;(_.hover||S instanceof SVGElement)&&e.once("lasso.selection.ended",(function(){p.activateLasso(_.originalEvent,!0)}))})),e.on("lasso.end",0,(function(_){var S=_.context,k=U0(_),R=a.filter((function(F){return F})),O=Tp(_);p.select(R,k,O?S.selection:[])})),e.on("lasso.start",(function(_){var S=_.context;S.bbox=U0(_),m(S),S.selection=l.get()})),e.on("lasso.move",(function(_){var S=_.context;S.bbox=U0(_),v(S)})),e.on("lasso.cleanup",(function(_){var S=_.context;x(S)})),e.on("element.mousedown",1500,(function(_){if(Tp(_))return p.activateLasso(_.originalEvent),!0}))}function U0(e){var n={x:e.x-e.dx,y:e.y-e.dy},o={x:e.x,y:e.y};return n.x<=o.x&&n.y<o.y||n.x<o.x&&n.y<=o.y?{x:n.x,y:n.y,width:o.x-n.x,height:o.y-n.y}:n.x>=o.x&&n.y<o.y||n.x>o.x&&n.y<=o.y?{x:o.x,y:n.y,width:n.x-o.x,height:o.y-n.y}:n.x<=o.x&&n.y>o.y||n.x<o.x&&n.y>=o.y?{x:n.x,y:o.y,width:o.x-n.x,height:n.y-o.y}:n.x>=o.x&&n.y>o.y||n.x>o.x&&n.y>=o.y?{x:o.x,y:o.y,width:n.x-o.x,height:n.y-o.y}:{x:o.x,y:o.y,width:0,height:0}}al.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],al.prototype.activateLasso=function(e,n){this._dragging.init(e,"lasso",{autoActivate:n,cursor:dT,data:{context:{}}})},al.prototype.activateSelection=function(e,n){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:n,cursor:dT,data:{context:{}},keepSelection:!0})},al.prototype.select=function(e,n,o=[]){var a=g_(e,n);this._selection.select([...o,...oe(a)])},al.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},al.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};var YI={__depends__:[bh,Zu],__init__:["lassoTool"],lassoTool:["type",al]},z0=1500,pT="grab";function xc(e,n,o,a,l,u){this._dragging=o,this._mouse=u;var h=this,p=a.get("keyboard",!1);l.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",z0,(function(m){if(Mu(m))return h.activateMove(m.originalEvent,!0),!1})),p&&p.addListener(z0,(function(m){if(hT(m.keyEvent)&&!h.isActive()){var v=h._mouse.getLastMoveEvent();h.activateMove(v,!!v)}}),"keyboard.keydown"),p&&p.addListener(z0,(function(m){hT(m.keyEvent)&&h.isActive()&&h.toggle()}),"keyboard.keyup"),e.on("hand.end",(function(m){var v=m.originalEvent.target;if(!(m.hover||v instanceof SVGElement))return!1;e.once("hand.ended",(function(){h.activateMove(m.originalEvent,{reactivate:!0})}))})),e.on("hand.move.move",(function(m){var v=n.viewbox().scale;n.scroll({dx:m.dx*v,dy:m.dy*v})})),e.on("hand.move.end",(function(m){var v=m.context.reactivate;return!Mu(m)&&v&&e.once("hand.move.ended",(function(x){h.activateHand(x.originalEvent,!0,!0)})),!1}))}function hT(e){return vr("Space",e)}xc.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],xc.prototype.activateMove=function(e,n,o){typeof n=="object"&&(o=n,n=!1),this._dragging.init(e,"hand.move",{autoActivate:n,cursor:pT,data:{context:o||{}}})},xc.prototype.activateHand=function(e,n,o){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:n,cursor:pT,data:{context:{reactivate:o}}})},xc.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)},xc.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^(hand|hand\.move)$/.test(e.prefix)};var ZI={__depends__:[bh,Zu],__init__:["handTool"],handTool:["type",xc]},mT="connect-ok",gT="connect-not-ok";function _c(e,n,o,a,l,u,h){var p=this;this._dragging=n,this._rules=u,this._mouse=h,l.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",(function(m){var v=m.context,x=m.hover,_=v.canStartConnect=p.canStartConnect(x);_!==null&&(v.startTarget=x,a.addMarker(x,_?mT:gT))})),e.on(["global-connect.out","global-connect.cleanup"],(function(m){var v=m.context.startTarget,x=m.context.canStartConnect;v&&a.removeMarker(v,x?mT:gT)})),e.on(["global-connect.ended"],(function(m){var v=m.context.startTarget,x={x:m.x,y:m.y};if(p.canStartConnect(v))return e.once("element.out",(function(){e.once(["connect.ended","connect.canceled"],(function(){e.fire("global-connect.drag.ended")})),o.start(null,v,x)})),!1}))}_c.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],_c.prototype.start=function(e,n){this._dragging.init(e,"global-connect",{autoActivate:n,trapClick:!1,data:{context:{}}})},_c.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();return this.start(e,!!e)},_c.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)},_c.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};var JI={__depends__:[gy,To,qo,bh,Zu],globalConnect:["type",_c]};function G0(e,n,o,a,l,u,h,p){this._palette=e,this._create=n,this._elementFactory=o,this._spaceTool=a,this._lassoTool=l,this._handTool=u,this._globalConnect=h,this._translate=p,e.registerProvider(this)}G0.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],G0.prototype.getPaletteEntries=function(){var e={},n=this._create,o=this._elementFactory,a=this._spaceTool,l=this._lassoTool,u=this._handTool,h=this._globalConnect,p=this._translate;function m(_,S,k,R,O){function F(I){var P=o.createShape(ie({type:_},O));n.start(I,P)}return{group:S,className:k,title:R,action:{dragstart:F,click:F}}}function v(_){var S=o.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),k=o.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:S});n.start(_,[S,k],{hints:{autoSelect:[S]}})}function x(_){n.start(_,o.createParticipantShape())}return ie(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:p("Activate hand tool"),action:{click:function(_){u.activateHand(_)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:p("Activate lasso tool"),action:{click:function(_){l.activateSelection(_)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:p("Activate create/remove space tool"),action:{click:function(_){a.activateSelection(_)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:p("Activate global connect tool"),action:{click:function(_){h.start(_)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":m("bpmn:StartEvent","event","bpmn-icon-start-event-none",p("Create start event")),"create.intermediate-event":m("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",p("Create intermediate/boundary event")),"create.end-event":m("bpmn:EndEvent","event","bpmn-icon-end-event-none",p("Create end event")),"create.exclusive-gateway":m("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",p("Create gateway")),"create.task":m("bpmn:Task","activity","bpmn-icon-task",p("Create task")),"create.data-object":m("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",p("Create data object reference")),"create.data-store":m("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",p("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:p("Create expanded sub-process"),action:{dragstart:v,click:v}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:p("Create pool/participant"),action:{dragstart:x,click:x}},"create.group":m("bpmn:Group","artifact","bpmn-icon-group",p("Create group"))}),e};var QI={__depends__:[XI,vh,z2,YI,ZI,JI,xp],__init__:["paletteProvider"],paletteProvider:["type",G0]};function W0(e,n,o,a,l){Fe.call(this,e),e.on("shape.move.move",250,(function(u){var h=u.context,p=h.canExecute;h.visualReplacements||(h.visualReplacements={}),p&&p.replacements?(function(m){A(m.canExecute.replacements,(function(v){var x=v.oldElementId,_={type:v.newElementType};if(!m.visualReplacements[x]){var S=n.get(x);ie(_,{x:S.x,y:S.y});var k=o.createShape(_);a.addShape(k,S.parent);var R=Ke('[data-element-id="'+Ou(S.id)+'"]',m.dragGroup);R&&Ne(R,{display:"none"});var O=l.addDragger(k,m.dragGroup);m.visualReplacements[x]=O,a.removeShape(k)}}))})(h):(function(m){var v=m.visualReplacements;A(v,(function(x,_){var S=Ke('[data-element-id="'+Ou(_)+'"]',m.dragGroup);S&&Ne(S,{display:"inline"}),x.remove(),v[_]&&delete v[_]}))})(h)}))}W0.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],i(W0,Fe);var qI={__depends__:[fc],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",W0]},K0=40,vT=["x","y"],e4=Math.abs;function yT(e){e.on(["connect.hover","connect.move","connect.end"],1250,(function(n){var o=n.context,a=o.canExecute,l=o.start,u=o.hover,h=o.source,p=o.target;n.originalEvent&&Fi(n.originalEvent)||(o.initialConnectionStart||(o.initialConnectionStart=o.connectionStart),a&&u&&(function(m,v,x){vT.forEach((function(_){var S=_T(_,v);m[_]<v[_]+x?Jn(m,_,v[_]+x):m[_]>v[_]+S-x&&Jn(m,_,v[_]+S-x)}))})(n,u,(function(m){return j(m,"bpmn:Task")?10:20})(u)),u&&(function(m,v){return ee(v,(function(x){return xT(m,x)}))})(a,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(o.connectionStart=Vi(l),Ot(u,["bpmn:Event","bpmn:Gateway"])&&bT(n,Vi(u)),Ot(u,["bpmn:Task","bpmn:SubProcess"])&&(function(m,v){var x=Vi(v);vT.forEach((function(_){(function(S,k,R){return S[R]>k[R]+20&&S[R]<k[R]+_T(R,k)-20})(m,v,_)&&Jn(m,_,x[_])}))})(n,u),j(h,"bpmn:BoundaryEvent")&&p===h.host&&(function(m){var v=m.context,x=v.source,_=v.target;if(!(function(O){var F=O.hover,I=O.source;return F&&I&&F===I})(v)){var S=Vi(x),k=Ar(S,_,-10),R=[];/top|bottom/.test(k)&&R.push("x"),/left|right/.test(k)&&R.push("y"),R.forEach((function(O){var F,I=m[O];e4(I-S[O])<K0&&(F=I>S[O]?S[O]+K0:S[O]-K0,Jn(m,O,F))}))}})(n)):xT(a,"bpmn:MessageFlow")?(j(l,"bpmn:Event")&&(o.connectionStart=Vi(l)),j(u,"bpmn:Event")&&bT(n,Vi(u))):o.connectionStart=o.initialConnectionStart)}))}function bT(e,n){Jn(e,"x",n.x),Jn(e,"y",n.y)}function xT(e,n){return e&&e.type===n}function _T(e,n){return e==="x"?n.width:n.height}function cs(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function Uh(){this._snapValues={}}yT.$inject=["eventBus"],cs.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},cs.prototype.setSnapOrigin=function(e,n){this._snapOrigins[e]=n,this._snapLocations.indexOf(e)===-1&&this._snapLocations.push(e)},cs.prototype.addDefaultSnap=function(e,n){var o=this._defaultSnaps[e];o||(o=this._defaultSnaps[e]=[]),o.push(n)},cs.prototype.getSnapLocations=function(){return this._snapLocations},cs.prototype.setSnapLocations=function(e){this._snapLocations=e},cs.prototype.pointsForTarget=function(e){var n=e.id||e,o=this._targets[n];return o||(o=this._targets[n]=new Uh).initDefaults(this._defaultSnaps),o},Uh.prototype.add=function(e,n){var o=this._snapValues[e];o||(o=this._snapValues[e]={x:[],y:[]}),o.x.indexOf(n.x)===-1&&o.x.push(n.x),o.y.indexOf(n.y)===-1&&o.y.push(n.y)},Uh.prototype.snap=function(e,n,o,a){var l=this._snapValues[n];return l&&(function(u,h,p){var m,v;for(p=p===void 0?10:p,m=0;m<h.length;m++)if(v=h[m],QM(v-u)<=p)return v})(e[o],l[o],a)},Uh.prototype.initDefaults=function(e){var n=this;A(e||{},(function(o,a){A(o,(function(l){n.add(a,l)}))}))};function Ao(e,n,o){var a=this;this._elementRegistry=e,n.on(["create.start","shape.move.start"],(function(l){a.initSnap(l)})),n.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,(function(l){var u=l.context,h=u.shape,p=u.snapContext,m=u.target;if((!l.originalEvent||!Fi(l.originalEvent))&&!uc(l)&&m){var v=p.pointsForTarget(m);v.initialized||((v=a.addSnapTargetPoints(v,h,m)).initialized=!0),o.snap(l,v)}})),n.on(["create.cleanup","shape.move.cleanup"],(function(){o.hide()}))}Ao.$inject=["elementRegistry","eventBus","snapping"],Ao.prototype.initSnap=function(e){var n,o=this._elementRegistry,a=e.context,l=a.shape,u=a.snapContext;u||(u=a.snapContext=new cs);var h=(n=o.get(l.id)?Vi(l,e):{x:e.x+Vi(l).x,y:e.y+Vi(l).y}).x-l.width/2,p=n.y-l.height/2,m=n.x+l.width/2,v=n.y+l.height/2;return u.setSnapOrigin("mid",{x:n.x-e.x,y:n.y-e.y}),Bt(l)||(u.setSnapOrigin("top-left",{x:h-e.x,y:p-e.y}),u.setSnapOrigin("bottom-right",{x:m-e.x,y:v-e.y})),u},Ao.prototype.addSnapTargetPoints=function(e,n,o){return A(this.getSnapTargets(n,o),(function(a){if(Bt(a))Bt(n)&&e.add("mid",Vi(a));else if(mn(a)){if(a.waypoints.length<3)return;A(a.waypoints.slice(1,-1),(function(l){e.add("mid",l)}))}else e.add("mid",Vi(a))})),T(n.x)&&T(n.y)&&this._elementRegistry.get(n.id)&&e.add("mid",Vi(n)),e},Ao.prototype.getSnapTargets=function(e,n){return dS(n).filter((function(o){return!o.hidden}))};function Ec(e,n){n.invoke(Ao,this),e.on(["create.move","create.end"],1500,t4),e.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,(function(o){var a=o.context,l=a.canExecute,u=a.target;l&&(l==="attach"||l.attach)&&!uc(o)&&(function(h,p){var m,v=mt(p),x=r2(h,p),_=h.context,S=_.shape;m=S.parent?{x:0,y:0}:vt(S),/top/.test(x)?Jn(h,"y",v.top-m.y):/bottom/.test(x)&&Jn(h,"y",v.bottom-m.y),/left/.test(x)?Jn(h,"x",v.left-m.x):/right/.test(x)&&Jn(h,"x",v.right-m.x)})(o,u)}))}function t4(e){var n=e.context.createConstraints;if(n){var o=n.top,a=n.right,l=n.bottom,u=n.left;(u&&u>=e.x||a&&a<=e.x)&&Jn(e,"x",e.x),(o&&o>=e.y||l&&l<=e.y)&&Jn(e,"y",e.y)}}function ET(e,n){return e.indexOf(n)!==-1}function wT(e,n,o){return n?{x:e.x-o.x,y:e.y-o.y}:{x:e.x,y:e.y}}i(Ec,Ao),Ec.$inject=["eventBus","injector"],Ec.prototype.initSnap=function(e){var n=Ao.prototype.initSnap.call(this,e),o=e.shape,a=!!this._elementRegistry.get(o.id);return A(o.outgoing,(function(l){var u=l.waypoints[0];u=u.original||u,n.setSnapOrigin(l.id+"-docking",wT(u,a,e))})),A(o.incoming,(function(l){var u=l.waypoints[l.waypoints.length-1];u=u.original||u,n.setSnapOrigin(l.id+"-docking",wT(u,a,e))})),j(o,"bpmn:Participant")&&n.setSnapLocations(["top-left","bottom-right","mid"]),n},Ec.prototype.addSnapTargetPoints=function(e,n,o){Ao.prototype.addSnapTargetPoints.call(this,e,n,o);var a=this.getSnapTargets(n,o);A(a,(function(u){var h;((function(p){return j(p,"bpmn:SubProcess")&&zt(p)?!0:j(p,"bpmn:Participant")})(u)||(h="bpmn:TextAnnotation",[n,u].every((function(p){return j(p,h)}))))&&(e.add("top-left",uS(u)),e.add("bottom-right",fS(u)))}));var l=this._elementRegistry;return A(n.incoming,(function(u){if(l.get(n.id)){ET(a,u.source)||e.add("mid",vt(u.source));var h=u.waypoints[0];e.add(u.id+"-docking",h.original||h)}})),A(n.outgoing,(function(u){if(l.get(n.id)){ET(a,u.target)||e.add("mid",vt(u.target));var h=u.waypoints[u.waypoints.length-1];e.add(u.id+"-docking",h.original||h)}})),j(o,"bpmn:SequenceFlow")&&(e=this.addSnapTargetPoints(e,n,o.parent)),e},Ec.prototype.getSnapTargets=function(e,n){return Ao.prototype.getSnapTargets.call(this,e,n).filter((function(o){return!j(o,"bpmn:Lane")}))};function _f(e,n){var o=this;e.on(["resize.start"],(function(a){o.initSnap(a)})),e.on(["resize.move","resize.end"],1250,(function(a){var l=a.context,u=l.shape,h=u.parent,p=l.direction,m=l.snapContext;if(!(a.originalEvent&&Fi(a.originalEvent)||uc(a))){var v=m.pointsForTarget(h);v.initialized||((v=o.addSnapTargetPoints(v,u,h,p)).initialized=!0),(function(x){return x==="n"||x==="s"})(p)&&Jn(a,"x",a.x),(function(x){return x==="e"||x==="w"})(p)&&Jn(a,"y",a.y),n.snap(a,v)}})),e.on(["resize.cleanup"],(function(){n.hide()}))}function ST(e,n){var o=vt(e),a=mt(e),l={x:o.x,y:o.y};return n.indexOf("n")!==-1?l.y=a.top:n.indexOf("s")!==-1&&(l.y=a.bottom),n.indexOf("e")!==-1?l.x=a.right:n.indexOf("w")!==-1&&(l.x=a.left),l}_f.prototype.initSnap=function(e){var n=e.context,o=n.shape,a=n.direction,l=n.snapContext;l||(l=n.snapContext=new cs);var u=ST(o,a);return l.setSnapOrigin("corner",{x:u.x-e.x,y:u.y-e.y}),l},_f.prototype.addSnapTargetPoints=function(e,n,o,a){return A(this.getSnapTargets(n,o),(function(l){e.add("corner",fS(l)),e.add("corner",uS(l))})),e.add("corner",ST(n,a)),e},_f.$inject=["eventBus","snapping"],_f.prototype.getSnapTargets=function(e,n){return dS(n).filter((function(o){return a=o,l=e,!(a.host===l||mn(o)||(function(u){return!!u.hidden})(o)||Bt(o));var a,l}))};function us(e){this._canvas=e,this._asyncHide=ot(Ye(this.hide,this),1e3)}us.$inject=["canvas"],us.prototype.snap=function(e,n){var o=e.context.snapContext,a=o.getSnapLocations(),l={x:uc(e,"x"),y:uc(e,"y")};A(a,(function(u){var h=o.getSnapOrigin(u),p={x:e.x+h.x,y:e.y+h.y};if(A(["x","y"],(function(m){var v;l[m]||(v=n.snap(p,u,m,7))!==void 0&&(l[m]={value:v,originValue:v-h[m]})})),l.x&&l.y)return!1})),this.showSnapLine("vertical",l.x&&l.x.value),this.showSnapLine("horizontal",l.y&&l.y.value),A(["x","y"],(function(u){var h=l[u];C(h)&&Jn(e,u,h.originValue)}))},us.prototype._createLine=function(e){var n=this._canvas.getLayer("snap"),o=ut("path");return Ne(o,{d:"M0,0 L0,0"}),rt(o).add("djs-snap-line"),We(n,o),{update:function(a){T(a)?Ne(o,e==="horizontal"?{d:"M-100000,"+a+" L+100000,"+a,display:""}:{d:"M "+a+",-100000 L "+a+", +100000",display:""}):Ne(o,{display:"none"})}}},us.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},us.prototype.showSnapLine=function(e,n){var o=this.getSnapLine(e);o&&o.update(n),this._asyncHide()},us.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},us.prototype.hide=function(){A(this._snapLines,(function(e){e.update()}))};var n4={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Ao],resizeSnapping:["type",_f],snapping:["type",us]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",yT],createMoveSnapping:["type",Ec]};function Et(e,n,o,a){this._open=!1,this._results={},this._eventMaps=[],this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._canvas=e,this._eventBus=n,this._selection=o,this._translate=a,this._container=this._getBoxHtml(),this._searchInput=Ke(Et.INPUT_SELECTOR,this._container),this._resultsContainer=Ke(Et.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),n.on(["canvas.destroy","diagram.destroy","drag.init","elements.changed"],this.close,this)}function CT(e,n,o){var a=(function(u){var h="";return u.forEach((function(p){var m=wE(p.value||p.matched||p.normal),v=p.match||p.matched;h+=v?'<b class="'+Et.RESULT_HIGHLIGHT_CLASS+'">'+m+"</b>":m})),h!==""?h:null})(n),l=Re(o);l.innerHTML=a,e.appendChild(l)}Et.$inject=["canvas","eventBus","selection","translate"],Et.prototype._bindEvents=function(){var e=this;function n(o,a,l,u){e._eventMaps.push({el:o,type:l,listener:Nt.bind(o,a,l,u)})}n(document,"html","click",(function(o){e.close(!1)})),n(this._container,Et.INPUT_SELECTOR,"click",(function(o){o.stopPropagation(),o.delegateTarget.focus()})),n(this._container,Et.RESULT_SELECTOR,"mouseover",(function(o){o.stopPropagation(),e._scrollToNode(o.delegateTarget),e._preselect(o.delegateTarget)})),n(this._container,Et.RESULT_SELECTOR,"click",(function(o){o.stopPropagation(),e._select(o.delegateTarget)})),n(this._container,Et.INPUT_SELECTOR,"keydown",(function(o){vr("ArrowUp",o)&&o.preventDefault(),vr("ArrowDown",o)&&o.preventDefault()})),n(this._container,Et.INPUT_SELECTOR,"keyup",(function(o){if(vr("Escape",o))return e.close();if(vr("Enter",o)){var a=e._getCurrentResult();return a?e._select(a):e.close(!1)}return vr("ArrowUp",o)?e._scrollToDirection(!0):vr("ArrowDown",o)?e._scrollToDirection():void(vr(["ArrowLeft","ArrowRight"],o)||e._search(o.delegateTarget.value))}))},Et.prototype._unbindEvents=function(){this._eventMaps.forEach((function(e){Nt.unbind(e.el,e.type,e.listener)}))},Et.prototype._search=function(e){var n=this;if(this._clearResults(),e.trim()){var o=this._searchProvider.find(e);if((o=o.filter((function(l){return!n._canvas.getRootElements().includes(l.element)}))).length){o.forEach((function(l){var u=l.element.id,h=n._createResultNode(l,u);n._results[u]={element:l.element,node:h}}));var a=Ke(Et.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(a),this._preselect(a)}else this._selection.select(null)}},Et.prototype._scrollToDirection=function(e){var n=this._getCurrentResult();if(n){var o=e?n.previousElementSibling:n.nextElementSibling;o&&(this._scrollToNode(o),this._preselect(o))}},Et.prototype._scrollToNode=function(e){if(e&&e!==this._getCurrentResult()){var n=e.offsetTop,o=this._resultsContainer.scrollTop,a=n-this._resultsContainer.clientHeight+e.clientHeight;n<o?this._resultsContainer.scrollTop=n:o<a&&(this._resultsContainer.scrollTop=a)}},Et.prototype._clearResults=function(){$e(this._resultsContainer),this._results={},this._eventBus.fire("searchPad.cleared")},Et.prototype._getCurrentResult=function(){return Ke(Et.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Et.prototype._createResultNode=function(e,n){var o=Re(Et.RESULT_HTML);return e.primaryTokens.length>0&&CT(o,e.primaryTokens,Et.RESULT_PRIMARY_HTML),CT(o,e.secondaryTokens,Et.RESULT_SECONDARY_HTML),q(o,Et.RESULT_ID_ATTRIBUTE,n),this._resultsContainer.appendChild(o),o},Et.prototype.registerProvider=function(e){this._searchProvider=e},Et.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._cachedRootElement=this._canvas.getRootElement(),this._cachedSelection=this._selection.get(),this._cachedViewbox=this._canvas.viewbox(),this._selection.select(null),this._bindEvents(),this._open=!0,Ce(this._canvas.getContainer()).add("djs-search-open"),Ce(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Et.prototype.close=function(e=!0){this.isOpen()&&(e&&(this._cachedRootElement&&this._canvas.setRootElement(this._cachedRootElement),this._cachedSelection&&this._selection.select(this._cachedSelection),this._cachedViewbox&&this._canvas.viewbox(this._cachedViewbox),this._eventBus.fire("searchPad.restored")),this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._unbindEvents(),this._open=!1,Ce(this._canvas.getContainer()).remove("djs-search-open"),Ce(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._eventBus.fire("searchPad.closed"),this._canvas.restoreFocus())},Et.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Et.prototype.isOpen=function(){return this._open},Et.prototype._preselect=function(e){var n=this._getCurrentResult();if(e!==n){n&&Ce(n).remove(Et.RESULT_SELECTED_CLASS);var o=q(e,Et.RESULT_ID_ATTRIBUTE),a=this._results[o].element;Ce(e).add(Et.RESULT_SELECTED_CLASS),this._canvas.scrollToElement(a,{top:300}),this._selection.select(a),this._eventBus.fire("searchPad.preselected",a)}},Et.prototype._select=function(e){var n=q(e,Et.RESULT_ID_ATTRIBUTE),o=this._results[n].element;this._cachedSelection=null,this._cachedViewbox=null,this.close(!1),this._canvas.scrollToElement(o,{top:300}),this._selection.select(o),this._eventBus.fire("searchPad.selected",o)},Et.prototype._getBoxHtml=function(){const e=Re(Et.BOX_HTML),n=Ke(Et.INPUT_SELECTOR,e);return n&&n.setAttribute("aria-label",this._translate("Search in diagram")),e},Et.CONTAINER_SELECTOR=".djs-search-container",Et.INPUT_SELECTOR=".djs-search-input input",Et.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Et.RESULT_SELECTOR=".djs-search-result",Et.RESULT_SELECTED_CLASS="djs-search-result-selected",Et.RESULT_SELECTED_SELECTOR="."+Et.RESULT_SELECTED_CLASS,Et.RESULT_ID_ATTRIBUTE="data-result-id",Et.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Et.BOX_HTML=`<div class="djs-search-container djs-scrollable">
  <div class="djs-search-input">
    <svg class="djs-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
    </svg>
    <input type="text" spellcheck="false" />
  </div>
  <div class="djs-search-results" />
</div>`,Et.RESULT_HTML='<div class="djs-search-result"></div>',Et.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Et.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var r4={__depends__:[xp,wp,Bi],searchPad:["type",Et]};function X0(e,n,o,a){this._elementRegistry=e,this._canvas=o,this._search=a,n.registerProvider(this)}function i4(e){const{item:{element:n},tokens:o}=e;return{element:n,primaryTokens:o.label,secondaryTokens:o.id}}X0.$inject=["elementRegistry","searchPad","canvas","search"],X0.prototype.find=function(e){var n=this._canvas.getRootElements(),o=this._elementRegistry.filter((function(a){return!Bt(a)&&!n.includes(a)}));return this._search(o.map((a=>({element:a,label:ro(a),id:a.id}))),e,{keys:["label","id"]}).map(i4)};var o4={__depends__:[r4,Ow],__init__:["bpmnSearch"],bpmnSearch:["type",X0]};const a4={width:36,height:50},s4={width:50,height:50};function TT(e,n,o){return ut("path",{d:e,strokeWidth:2,transform:`translate(${n.x}, ${n.y})`,...o})}function zh(e,n){this._styles=n,e.registerProvider(this)}function kT(e,n){var o;return n==="bpmn:DataObjectReference"?o=a4:n==="bpmn:DataStoreReference"&&(o=s4),e.width===o.width&&e.height===o.height}zh.$inject=["outline","styles"],zh.prototype.getOutline=function(e){const n=this._styles.cls("djs-outline",["no-fill"]);var o;return(function(a){return Bt(a)&&za(a.labelTarget)})(e)?(Ne(o=ut("rect"),ie({x:-5,y:-5,rx:4,width:e.width+10,height:e.height+10},n)),o):Bt(e)?void 0:(j(e,"bpmn:Gateway")?(ie((o=ut("rect")).style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),Ne(o,ie({x:2,y:2,rx:4,width:e.width-4,height:e.height-4},n))):Ot(e,["bpmn:Task","bpmn:SubProcess","bpmn:Group","bpmn:CallActivity"])?Ne(o=ut("rect"),ie({x:-5,y:-5,rx:14,width:e.width+10,height:e.height+10},n)):j(e,"bpmn:EndEvent")?Ne(o=ut("circle"),ie({cx:e.width/2,cy:e.height/2,r:e.width/2+5+1},n)):j(e,"bpmn:Event")?Ne(o=ut("circle"),ie({cx:e.width/2,cy:e.height/2,r:e.width/2+5},n)):j(e,"bpmn:DataObjectReference")&&kT(e,"bpmn:DataObjectReference")?o=TT("M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",{x:-6,y:-6},n):j(e,"bpmn:DataStoreReference")&&kT(e,"bpmn:DataStoreReference")&&(o=TT("M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",{x:-6,y:-6},n)),o)},zh.prototype.updateOutline=function(e,n){if(!Bt(e))return Ot(e,["bpmn:SubProcess","bpmn:Group"])?(Ne(n,{width:e.width+10,height:e.height+10}),!0):!!Ot(e,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};var l4={__depends__:[$0],__init__:["outlineProvider"],outlineProvider:["type",zh]};function Ro(e){ku.call(this,e)}return i(Ro,ku),Ro.Viewer=Ka,Ro.NavigatedViewer=Iu,Ro.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},Ro.prototype._interactionModules=[VE,GE,KE],Ro.prototype._modelingModules=[VM,sy,XM,GM,eD,gy,tD,EI,M2,vh,CI,kI,PI,NI,OI,LI,jI,VI,wC,zI,GI,QI,qI,XC,n4,o4,l4],Ro.prototype._modules=[].concat(Ka.prototype._modules,Ro.prototype._interactionModules,Ro.prototype._modelingModules),Ro}))})(_m)),_m.exports}var hF=pF();const mF=J5(hF);function gF(t,r){return gg()?(Hx(t,r),!0):!1}const m1=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const vF=Object.prototype.toString,yF=t=>vF.call(t)==="[object Object]";function bF(t){let r;function i(){return r||(r=t()),r}return i.reset=async()=>{const s=r;r=void 0,s&&await s},i}function gb(t){return Array.isArray(t)?t:[t]}function xF(t,r,i={}){const{immediate:s=!0,immediateCallback:c=!1}=i,d=bo(!1);let f;function g(){f&&(clearTimeout(f),f=void 0)}function y(){d.value=!1,g()}function b(...E){c&&t(),g(),d.value=!0,f=setTimeout(()=>{d.value=!1,f=void 0,t(...E)},Sl(r))}return s&&(d.value=!0,m1&&b()),gF(y),{isPending:BR(d),start:b,stop:y}}function _F(t,r,i){return Ei(t,r,{...i,immediate:!0})}const EF=m1?window:void 0,Q5=m1?window.navigator:void 0;function wF(t){var r;const i=Sl(t);return(r=i?.$el)!==null&&r!==void 0?r:i}function q5(...t){const r=(s,c,d,f)=>(s.addEventListener(c,d,f),()=>s.removeEventListener(c,d,f)),i=Mn(()=>{const s=gb(Sl(t[0])).filter(c=>c!=null);return s.every(c=>typeof c!="string")?s:void 0});return _F(()=>{var s,c;return[(s=(c=i.value)===null||c===void 0?void 0:c.map(d=>wF(d)))!==null&&s!==void 0?s:[EF].filter(d=>d!=null),gb(Sl(i.value?t[1]:t[0])),gb(He(i.value?t[2]:t[1])),Sl(i.value?t[3]:t[2])]},([s,c,d,f],g,y)=>{if(!s?.length||!c?.length||!d?.length)return;const b=yF(f)?{...f}:f,E=s.flatMap(w=>c.flatMap(C=>d.map(T=>r(w,C,T,b))));y(()=>{E.forEach(w=>w())})},{flush:"post"})}function SF(){const t=bo(!1),r=ci();return r&&Uo(()=>{t.value=!0},r),t}function eN(t){const r=SF();return Mn(()=>(r.value,!!t()))}function Bk(t,r={}){const{controls:i=!1,navigator:s=Q5}=r,c=eN(()=>s&&"permissions"in s),d=bo(),f=typeof t=="string"?{name:t}:t,g=bo(),y=()=>{var E,w;g.value=(E=(w=d.value)===null||w===void 0?void 0:w.state)!==null&&E!==void 0?E:"prompt"};q5(d,"change",y,{passive:!0});const b=bF(async()=>{if(c.value){if(!d.value)try{d.value=await s.permissions.query(f)}catch{d.value=void 0}finally{y()}if(i)return sn(d.value)}});return b(),i?{state:g,isSupported:c,query:b}:g}function CF(t={}){const{navigator:r=Q5,read:i=!1,source:s,copiedDuring:c=1500,legacy:d=!1}=t,f=eN(()=>r&&"clipboard"in r),g=Bk("clipboard-read"),y=Bk("clipboard-write"),b=Mn(()=>f.value||d),E=bo(""),w=bo(!1),C=xF(()=>w.value=!1,c,{immediate:!1});async function T(){let L=!(f.value&&N(g.value));if(!L)try{E.value=await r.clipboard.readText()}catch{L=!0}L&&(E.value=H())}b.value&&i&&q5(["copy","cut"],T,{passive:!0});async function D(L=Sl(s)){if(b.value&&L!=null){let M=!(f.value&&N(y.value));if(!M)try{await r.clipboard.writeText(L)}catch{M=!0}M&&$(L),E.value=L,w.value=!0,C.start()}}function $(L){const M=document.createElement("textarea");M.value=L,M.style.position="absolute",M.style.opacity="0",M.setAttribute("readonly",""),document.body.appendChild(M),M.select(),document.execCommand("copy"),M.remove()}function H(){var L,M,A;return(L=(M=document)===null||M===void 0||(A=M.getSelection)===null||A===void 0||(A=A.call(M))===null||A===void 0?void 0:A.toString())!==null&&L!==void 0?L:""}function N(L){return L==="granted"||L==="prompt"}return{isSupported:b,text:Uc(E),copied:Uc(w),copy:D}}function tN(){const{copy:t,isSupported:r}=CF(),{add:i}=lu();async function s(c,d="Content"){if(r.value)return await t(c),i(`${d} copied to clipboard`,"success"),!0;try{const f=document.createElement("textarea");return f.value=c,f.style.position="fixed",f.style.left="-9999px",document.body.appendChild(f),f.select(),document.execCommand("copy"),document.body.removeChild(f),i(`${d} copied to clipboard`,"success"),!0}catch(f){return i(`Failed to copy ${d}`,"error"),console.error(f),!1}}return{copy:s}}const TF={class:"flex flex-col h-full bg-slate-100 dark:bg-slate-950/50 border-l border-slate-200 dark:border-slate-800"},kF={class:"px-6 py-4 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center shrink-0"},AF={class:"flex items-center gap-2"},RF={class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},PF={class:"flex items-center gap-4"},NF={class:"flex-1 relative min-h-0"},OF=["value","readonly"],MF=Vn({__name:"CodeOutputPanel",props:{title:{},code:{},language:{},editable:{type:Boolean,default:!1}},emits:["update:code"],setup(t,{emit:r}){const i=t,s=r,{copy:c}=tN(),d=()=>{c(i.code,i.title||"Code")},f=g=>{i.editable&&s("update:code",g.target.value)};return(g,y)=>(Le(),Ge("div",TF,[G("div",kF,[G("div",AF,[wa(g.$slots,"icon",{},()=>[we(He(P5),{class:"w-4 h-4 text-slate-400"})],!0),G("span",RF,pn(t.title||"Generated Code"),1)]),G("div",PF,[wa(g.$slots,"actions",{},void 0,!0),G("button",{onClick:d,class:"text-indigo-500 hover:text-indigo-400 text-xs font-bold flex items-center gap-1 transition-colors"},[we(He(y$),{class:"w-3 h-3"}),y[0]||(y[0]=Ut(" Copy ",-1))])])]),G("div",NF,[G("textarea",{value:t.code,onInput:f,readonly:!t.editable,class:Tt(["w-full h-full bg-slate-50 dark:bg-[#0d1117] p-4 font-mono text-[10px] text-emerald-600 dark:text-emerald-400 resize-none outline-none leading-relaxed custom-scroll",{"focus:ring-1 focus:ring-indigo-500/50":t.editable}]),spellcheck:"false"},null,42,OF)])]))}}),Hd=Vd(MF,[["__scopeId","data-v-9611c67a"]]);const DF=4,Fk=0,jk=1,IF=2;function cu(t){let r=t.length;for(;--r>=0;)t[r]=0}const LF=0,nN=1,$F=2,BF=3,FF=258,g1=29,Ud=256,yd=Ud+1+g1,Vc=30,v1=19,rN=2*yd+1,ml=15,vb=16,jF=7,y1=256,iN=16,oN=17,aN=18,mx=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Em=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),VF=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),sN=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HF=512,ma=new Array((yd+2)*2);cu(ma);const Jf=new Array(Vc*2);cu(Jf);const bd=new Array(HF);cu(bd);const xd=new Array(FF-BF+1);cu(xd);const b1=new Array(g1);cu(b1);const Zm=new Array(Vc);cu(Zm);function yb(t,r,i,s,c){this.static_tree=t,this.extra_bits=r,this.extra_base=i,this.elems=s,this.max_length=c,this.has_stree=t&&t.length}let lN,cN,uN;function bb(t,r){this.dyn_tree=t,this.max_code=0,this.stat_desc=r}const fN=t=>t<256?bd[t]:bd[256+(t>>>7)],_d=(t,r)=>{t.pending_buf[t.pending++]=r&255,t.pending_buf[t.pending++]=r>>>8&255},bi=(t,r,i)=>{t.bi_valid>vb-i?(t.bi_buf|=r<<t.bi_valid&65535,_d(t,t.bi_buf),t.bi_buf=r>>vb-t.bi_valid,t.bi_valid+=i-vb):(t.bi_buf|=r<<t.bi_valid&65535,t.bi_valid+=i)},Io=(t,r,i)=>{bi(t,i[r*2],i[r*2+1])},dN=(t,r)=>{let i=0;do i|=t&1,t>>>=1,i<<=1;while(--r>0);return i>>>1},UF=t=>{t.bi_valid===16?(_d(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},zF=(t,r)=>{const i=r.dyn_tree,s=r.max_code,c=r.stat_desc.static_tree,d=r.stat_desc.has_stree,f=r.stat_desc.extra_bits,g=r.stat_desc.extra_base,y=r.stat_desc.max_length;let b,E,w,C,T,D,$=0;for(C=0;C<=ml;C++)t.bl_count[C]=0;for(i[t.heap[t.heap_max]*2+1]=0,b=t.heap_max+1;b<rN;b++)E=t.heap[b],C=i[i[E*2+1]*2+1]+1,C>y&&(C=y,$++),i[E*2+1]=C,!(E>s)&&(t.bl_count[C]++,T=0,E>=g&&(T=f[E-g]),D=i[E*2],t.opt_len+=D*(C+T),d&&(t.static_len+=D*(c[E*2+1]+T)));if($!==0){do{for(C=y-1;t.bl_count[C]===0;)C--;t.bl_count[C]--,t.bl_count[C+1]+=2,t.bl_count[y]--,$-=2}while($>0);for(C=y;C!==0;C--)for(E=t.bl_count[C];E!==0;)w=t.heap[--b],!(w>s)&&(i[w*2+1]!==C&&(t.opt_len+=(C-i[w*2+1])*i[w*2],i[w*2+1]=C),E--)}},pN=(t,r,i)=>{const s=new Array(ml+1);let c=0,d,f;for(d=1;d<=ml;d++)c=c+i[d-1]<<1,s[d]=c;for(f=0;f<=r;f++){let g=t[f*2+1];g!==0&&(t[f*2]=dN(s[g]++,g))}},GF=()=>{let t,r,i,s,c;const d=new Array(ml+1);for(i=0,s=0;s<g1-1;s++)for(b1[s]=i,t=0;t<1<<mx[s];t++)xd[i++]=s;for(xd[i-1]=s,c=0,s=0;s<16;s++)for(Zm[s]=c,t=0;t<1<<Em[s];t++)bd[c++]=s;for(c>>=7;s<Vc;s++)for(Zm[s]=c<<7,t=0;t<1<<Em[s]-7;t++)bd[256+c++]=s;for(r=0;r<=ml;r++)d[r]=0;for(t=0;t<=143;)ma[t*2+1]=8,t++,d[8]++;for(;t<=255;)ma[t*2+1]=9,t++,d[9]++;for(;t<=279;)ma[t*2+1]=7,t++,d[7]++;for(;t<=287;)ma[t*2+1]=8,t++,d[8]++;for(pN(ma,yd+1,d),t=0;t<Vc;t++)Jf[t*2+1]=5,Jf[t*2]=dN(t,5);lN=new yb(ma,mx,Ud+1,yd,ml),cN=new yb(Jf,Em,0,Vc,ml),uN=new yb(new Array(0),VF,0,v1,jF)},hN=t=>{let r;for(r=0;r<yd;r++)t.dyn_ltree[r*2]=0;for(r=0;r<Vc;r++)t.dyn_dtree[r*2]=0;for(r=0;r<v1;r++)t.bl_tree[r*2]=0;t.dyn_ltree[y1*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},mN=t=>{t.bi_valid>8?_d(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Vk=(t,r,i,s)=>{const c=r*2,d=i*2;return t[c]<t[d]||t[c]===t[d]&&s[r]<=s[i]},xb=(t,r,i)=>{const s=t.heap[i];let c=i<<1;for(;c<=t.heap_len&&(c<t.heap_len&&Vk(r,t.heap[c+1],t.heap[c],t.depth)&&c++,!Vk(r,s,t.heap[c],t.depth));)t.heap[i]=t.heap[c],i=c,c<<=1;t.heap[i]=s},Hk=(t,r,i)=>{let s,c,d=0,f,g;if(t.sym_next!==0)do s=t.pending_buf[t.sym_buf+d++]&255,s+=(t.pending_buf[t.sym_buf+d++]&255)<<8,c=t.pending_buf[t.sym_buf+d++],s===0?Io(t,c,r):(f=xd[c],Io(t,f+Ud+1,r),g=mx[f],g!==0&&(c-=b1[f],bi(t,c,g)),s--,f=fN(s),Io(t,f,i),g=Em[f],g!==0&&(s-=Zm[f],bi(t,s,g)));while(d<t.sym_next);Io(t,y1,r)},gx=(t,r)=>{const i=r.dyn_tree,s=r.stat_desc.static_tree,c=r.stat_desc.has_stree,d=r.stat_desc.elems;let f,g,y=-1,b;for(t.heap_len=0,t.heap_max=rN,f=0;f<d;f++)i[f*2]!==0?(t.heap[++t.heap_len]=y=f,t.depth[f]=0):i[f*2+1]=0;for(;t.heap_len<2;)b=t.heap[++t.heap_len]=y<2?++y:0,i[b*2]=1,t.depth[b]=0,t.opt_len--,c&&(t.static_len-=s[b*2+1]);for(r.max_code=y,f=t.heap_len>>1;f>=1;f--)xb(t,i,f);b=d;do f=t.heap[1],t.heap[1]=t.heap[t.heap_len--],xb(t,i,1),g=t.heap[1],t.heap[--t.heap_max]=f,t.heap[--t.heap_max]=g,i[b*2]=i[f*2]+i[g*2],t.depth[b]=(t.depth[f]>=t.depth[g]?t.depth[f]:t.depth[g])+1,i[f*2+1]=i[g*2+1]=b,t.heap[1]=b++,xb(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],zF(t,r),pN(i,y,t.bl_count)},Uk=(t,r,i)=>{let s,c=-1,d,f=r[1],g=0,y=7,b=4;for(f===0&&(y=138,b=3),r[(i+1)*2+1]=65535,s=0;s<=i;s++)d=f,f=r[(s+1)*2+1],!(++g<y&&d===f)&&(g<b?t.bl_tree[d*2]+=g:d!==0?(d!==c&&t.bl_tree[d*2]++,t.bl_tree[iN*2]++):g<=10?t.bl_tree[oN*2]++:t.bl_tree[aN*2]++,g=0,c=d,f===0?(y=138,b=3):d===f?(y=6,b=3):(y=7,b=4))},zk=(t,r,i)=>{let s,c=-1,d,f=r[1],g=0,y=7,b=4;for(f===0&&(y=138,b=3),s=0;s<=i;s++)if(d=f,f=r[(s+1)*2+1],!(++g<y&&d===f)){if(g<b)do Io(t,d,t.bl_tree);while(--g!==0);else d!==0?(d!==c&&(Io(t,d,t.bl_tree),g--),Io(t,iN,t.bl_tree),bi(t,g-3,2)):g<=10?(Io(t,oN,t.bl_tree),bi(t,g-3,3)):(Io(t,aN,t.bl_tree),bi(t,g-11,7));g=0,c=d,f===0?(y=138,b=3):d===f?(y=6,b=3):(y=7,b=4)}},WF=t=>{let r;for(Uk(t,t.dyn_ltree,t.l_desc.max_code),Uk(t,t.dyn_dtree,t.d_desc.max_code),gx(t,t.bl_desc),r=v1-1;r>=3&&t.bl_tree[sN[r]*2+1]===0;r--);return t.opt_len+=3*(r+1)+5+5+4,r},KF=(t,r,i,s)=>{let c;for(bi(t,r-257,5),bi(t,i-1,5),bi(t,s-4,4),c=0;c<s;c++)bi(t,t.bl_tree[sN[c]*2+1],3);zk(t,t.dyn_ltree,r-1),zk(t,t.dyn_dtree,i-1)},XF=t=>{let r=4093624447,i;for(i=0;i<=31;i++,r>>>=1)if(r&1&&t.dyn_ltree[i*2]!==0)return Fk;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return jk;for(i=32;i<Ud;i++)if(t.dyn_ltree[i*2]!==0)return jk;return Fk};let Gk=!1;const YF=t=>{Gk||(GF(),Gk=!0),t.l_desc=new bb(t.dyn_ltree,lN),t.d_desc=new bb(t.dyn_dtree,cN),t.bl_desc=new bb(t.bl_tree,uN),t.bi_buf=0,t.bi_valid=0,hN(t)},gN=(t,r,i,s)=>{bi(t,(LF<<1)+(s?1:0),3),mN(t),_d(t,i),_d(t,~i),i&&t.pending_buf.set(t.window.subarray(r,r+i),t.pending),t.pending+=i},ZF=t=>{bi(t,nN<<1,3),Io(t,y1,ma),UF(t)},JF=(t,r,i,s)=>{let c,d,f=0;t.level>0?(t.strm.data_type===IF&&(t.strm.data_type=XF(t)),gx(t,t.l_desc),gx(t,t.d_desc),f=WF(t),c=t.opt_len+3+7>>>3,d=t.static_len+3+7>>>3,d<=c&&(c=d)):c=d=i+5,i+4<=c&&r!==-1?gN(t,r,i,s):t.strategy===DF||d===c?(bi(t,(nN<<1)+(s?1:0),3),Hk(t,ma,Jf)):(bi(t,($F<<1)+(s?1:0),3),KF(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),Hk(t,t.dyn_ltree,t.dyn_dtree)),hN(t),s&&mN(t)},QF=(t,r,i)=>(t.pending_buf[t.sym_buf+t.sym_next++]=r,t.pending_buf[t.sym_buf+t.sym_next++]=r>>8,t.pending_buf[t.sym_buf+t.sym_next++]=i,r===0?t.dyn_ltree[i*2]++:(t.matches++,r--,t.dyn_ltree[(xd[i]+Ud+1)*2]++,t.dyn_dtree[fN(r)*2]++),t.sym_next===t.sym_end);var qF=YF,ej=gN,tj=JF,nj=QF,rj=ZF,ij={_tr_init:qF,_tr_stored_block:ej,_tr_flush_block:tj,_tr_tally:nj,_tr_align:rj};const oj=(t,r,i,s)=>{let c=t&65535|0,d=t>>>16&65535|0,f=0;for(;i!==0;){f=i>2e3?2e3:i,i-=f;do c=c+r[s++]|0,d=d+c|0;while(--f);c%=65521,d%=65521}return c|d<<16|0};var Ed=oj;const aj=()=>{let t,r=[];for(var i=0;i<256;i++){t=i;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;r[i]=t}return r},sj=new Uint32Array(aj()),lj=(t,r,i,s)=>{const c=sj,d=s+i;t^=-1;for(let f=s;f<d;f++)t=t>>>8^c[(t^r[f])&255];return t^-1};var Sr=lj,Dl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:cj,_tr_stored_block:vx,_tr_flush_block:uj,_tr_tally:Ps,_tr_align:fj}=ij,{Z_NO_FLUSH:Ns,Z_PARTIAL_FLUSH:dj,Z_FULL_FLUSH:pj,Z_FINISH:Ji,Z_BLOCK:Wk,Z_OK:Lr,Z_STREAM_END:Kk,Z_STREAM_ERROR:$o,Z_DATA_ERROR:hj,Z_BUF_ERROR:_b,Z_DEFAULT_COMPRESSION:mj,Z_FILTERED:gj,Z_HUFFMAN_ONLY:rm,Z_RLE:vj,Z_FIXED:yj,Z_DEFAULT_STRATEGY:bj,Z_UNKNOWN:xj,Z_DEFLATED:Fg}=zd,_j=9,Ej=15,wj=8,Sj=29,Cj=256,yx=Cj+1+Sj,Tj=30,kj=19,Aj=2*yx+1,Rj=15,un=3,Cs=258,Bo=Cs+un+1,Pj=32,Jc=42,x1=57,bx=69,xx=73,_x=91,Ex=103,gl=113,If=666,ai=1,uu=2,Il=3,fu=4,Nj=3,vl=(t,r)=>(t.msg=Dl[r],r),Xk=t=>t*2-(t>4?9:0),ws=t=>{let r=t.length;for(;--r>=0;)t[r]=0},Oj=t=>{let r,i,s,c=t.w_size;r=t.hash_size,s=r;do i=t.head[--s],t.head[s]=i>=c?i-c:0;while(--r);r=c,s=r;do i=t.prev[--s],t.prev[s]=i>=c?i-c:0;while(--r)};let Mj=(t,r,i)=>(r<<t.hash_shift^i)&t.hash_mask,Os=Mj;const Ri=t=>{const r=t.state;let i=r.pending;i>t.avail_out&&(i=t.avail_out),i!==0&&(t.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+i),t.next_out),t.next_out+=i,r.pending_out+=i,t.total_out+=i,t.avail_out-=i,r.pending-=i,r.pending===0&&(r.pending_out=0))},Oi=(t,r)=>{uj(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,r),t.block_start=t.strstart,Ri(t.strm)},vn=(t,r)=>{t.pending_buf[t.pending++]=r},Af=(t,r)=>{t.pending_buf[t.pending++]=r>>>8&255,t.pending_buf[t.pending++]=r&255},wx=(t,r,i,s)=>{let c=t.avail_in;return c>s&&(c=s),c===0?0:(t.avail_in-=c,r.set(t.input.subarray(t.next_in,t.next_in+c),i),t.state.wrap===1?t.adler=Ed(t.adler,r,c,i):t.state.wrap===2&&(t.adler=Sr(t.adler,r,c,i)),t.next_in+=c,t.total_in+=c,c)},vN=(t,r)=>{let i=t.max_chain_length,s=t.strstart,c,d,f=t.prev_length,g=t.nice_match;const y=t.strstart>t.w_size-Bo?t.strstart-(t.w_size-Bo):0,b=t.window,E=t.w_mask,w=t.prev,C=t.strstart+Cs;let T=b[s+f-1],D=b[s+f];t.prev_length>=t.good_match&&(i>>=2),g>t.lookahead&&(g=t.lookahead);do if(c=r,!(b[c+f]!==D||b[c+f-1]!==T||b[c]!==b[s]||b[++c]!==b[s+1])){s+=2,c++;do;while(b[++s]===b[++c]&&b[++s]===b[++c]&&b[++s]===b[++c]&&b[++s]===b[++c]&&b[++s]===b[++c]&&b[++s]===b[++c]&&b[++s]===b[++c]&&b[++s]===b[++c]&&s<C);if(d=Cs-(C-s),s=C-Cs,d>f){if(t.match_start=r,f=d,d>=g)break;T=b[s+f-1],D=b[s+f]}}while((r=w[r&E])>y&&--i!==0);return f<=t.lookahead?f:t.lookahead},Qc=t=>{const r=t.w_size;let i,s,c;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-Bo)&&(t.window.set(t.window.subarray(r,r+r-s),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,t.insert>t.strstart&&(t.insert=t.strstart),Oj(t),s+=r),t.strm.avail_in===0)break;if(i=wx(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=i,t.lookahead+t.insert>=un)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=Os(t,t.ins_h,t.window[c+1]);t.insert&&(t.ins_h=Os(t,t.ins_h,t.window[c+un-1]),t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<un)););}while(t.lookahead<Bo&&t.strm.avail_in!==0)},yN=(t,r)=>{let i=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s,c,d,f=0,g=t.strm.avail_in;do{if(s=65535,d=t.bi_valid+42>>3,t.strm.avail_out<d||(d=t.strm.avail_out-d,c=t.strstart-t.block_start,s>c+t.strm.avail_in&&(s=c+t.strm.avail_in),s>d&&(s=d),s<i&&(s===0&&r!==Ji||r===Ns||s!==c+t.strm.avail_in)))break;f=r===Ji&&s===c+t.strm.avail_in?1:0,vx(t,0,0,f),t.pending_buf[t.pending-4]=s,t.pending_buf[t.pending-3]=s>>8,t.pending_buf[t.pending-2]=~s,t.pending_buf[t.pending-1]=~s>>8,Ri(t.strm),c&&(c>s&&(c=s),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+c),t.strm.next_out),t.strm.next_out+=c,t.strm.avail_out-=c,t.strm.total_out+=c,t.block_start+=c,s-=c),s&&(wx(t.strm,t.strm.output,t.strm.next_out,s),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s)}while(f===0);return g-=t.strm.avail_in,g&&(g>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=g&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-g,t.strm.next_in),t.strstart),t.strstart+=g,t.insert+=g>t.w_size-t.insert?t.w_size-t.insert:g),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),f?fu:r!==Ns&&r!==Ji&&t.strm.avail_in===0&&t.strstart===t.block_start?uu:(d=t.window_size-t.strstart,t.strm.avail_in>d&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,d+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),d>t.strm.avail_in&&(d=t.strm.avail_in),d&&(wx(t.strm,t.window,t.strstart,d),t.strstart+=d,t.insert+=d>t.w_size-t.insert?t.w_size-t.insert:d),t.high_water<t.strstart&&(t.high_water=t.strstart),d=t.bi_valid+42>>3,d=t.pending_buf_size-d>65535?65535:t.pending_buf_size-d,i=d>t.w_size?t.w_size:d,c=t.strstart-t.block_start,(c>=i||(c||r===Ji)&&r!==Ns&&t.strm.avail_in===0&&c<=d)&&(s=c>d?d:c,f=r===Ji&&t.strm.avail_in===0&&s===c?1:0,vx(t,t.block_start,s,f),t.block_start+=s,Ri(t.strm)),f?Il:ai)},Eb=(t,r)=>{let i,s;for(;;){if(t.lookahead<Bo){if(Qc(t),t.lookahead<Bo&&r===Ns)return ai;if(t.lookahead===0)break}if(i=0,t.lookahead>=un&&(t.ins_h=Os(t,t.ins_h,t.window[t.strstart+un-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),i!==0&&t.strstart-i<=t.w_size-Bo&&(t.match_length=vN(t,i)),t.match_length>=un)if(s=Ps(t,t.strstart-t.match_start,t.match_length-un),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=un){t.match_length--;do t.strstart++,t.ins_h=Os(t,t.ins_h,t.window[t.strstart+un-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Os(t,t.ins_h,t.window[t.strstart+1]);else s=Ps(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(Oi(t,!1),t.strm.avail_out===0))return ai}return t.insert=t.strstart<un-1?t.strstart:un-1,r===Ji?(Oi(t,!0),t.strm.avail_out===0?Il:fu):t.sym_next&&(Oi(t,!1),t.strm.avail_out===0)?ai:uu},Tc=(t,r)=>{let i,s,c;for(;;){if(t.lookahead<Bo){if(Qc(t),t.lookahead<Bo&&r===Ns)return ai;if(t.lookahead===0)break}if(i=0,t.lookahead>=un&&(t.ins_h=Os(t,t.ins_h,t.window[t.strstart+un-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=un-1,i!==0&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Bo&&(t.match_length=vN(t,i),t.match_length<=5&&(t.strategy===gj||t.match_length===un&&t.strstart-t.match_start>4096)&&(t.match_length=un-1)),t.prev_length>=un&&t.match_length<=t.prev_length){c=t.strstart+t.lookahead-un,s=Ps(t,t.strstart-1-t.prev_match,t.prev_length-un),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=c&&(t.ins_h=Os(t,t.ins_h,t.window[t.strstart+un-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=un-1,t.strstart++,s&&(Oi(t,!1),t.strm.avail_out===0))return ai}else if(t.match_available){if(s=Ps(t,0,t.window[t.strstart-1]),s&&Oi(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return ai}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(s=Ps(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<un-1?t.strstart:un-1,r===Ji?(Oi(t,!0),t.strm.avail_out===0?Il:fu):t.sym_next&&(Oi(t,!1),t.strm.avail_out===0)?ai:uu},Dj=(t,r)=>{let i,s,c,d;const f=t.window;for(;;){if(t.lookahead<=Cs){if(Qc(t),t.lookahead<=Cs&&r===Ns)return ai;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=un&&t.strstart>0&&(c=t.strstart-1,s=f[c],s===f[++c]&&s===f[++c]&&s===f[++c])){d=t.strstart+Cs;do;while(s===f[++c]&&s===f[++c]&&s===f[++c]&&s===f[++c]&&s===f[++c]&&s===f[++c]&&s===f[++c]&&s===f[++c]&&c<d);t.match_length=Cs-(d-c),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=un?(i=Ps(t,1,t.match_length-un),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=Ps(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Oi(t,!1),t.strm.avail_out===0))return ai}return t.insert=0,r===Ji?(Oi(t,!0),t.strm.avail_out===0?Il:fu):t.sym_next&&(Oi(t,!1),t.strm.avail_out===0)?ai:uu},Ij=(t,r)=>{let i;for(;;){if(t.lookahead===0&&(Qc(t),t.lookahead===0)){if(r===Ns)return ai;break}if(t.match_length=0,i=Ps(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Oi(t,!1),t.strm.avail_out===0))return ai}return t.insert=0,r===Ji?(Oi(t,!0),t.strm.avail_out===0?Il:fu):t.sym_next&&(Oi(t,!1),t.strm.avail_out===0)?ai:uu};function No(t,r,i,s,c){this.good_length=t,this.max_lazy=r,this.nice_length=i,this.max_chain=s,this.func=c}const Lf=[new No(0,0,0,0,yN),new No(4,4,8,4,Eb),new No(4,5,16,8,Eb),new No(4,6,32,32,Eb),new No(4,4,16,16,Tc),new No(8,16,32,32,Tc),new No(8,16,128,128,Tc),new No(8,32,128,256,Tc),new No(32,128,258,1024,Tc),new No(32,258,258,4096,Tc)],Lj=t=>{t.window_size=2*t.w_size,ws(t.head),t.max_lazy_match=Lf[t.level].max_lazy,t.good_match=Lf[t.level].good_length,t.nice_match=Lf[t.level].nice_length,t.max_chain_length=Lf[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=un-1,t.match_available=0,t.ins_h=0};function $j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Fg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Aj*2),this.dyn_dtree=new Uint16Array((2*Tj+1)*2),this.bl_tree=new Uint16Array((2*kj+1)*2),ws(this.dyn_ltree),ws(this.dyn_dtree),ws(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Rj+1),this.heap=new Uint16Array(2*yx+1),ws(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*yx+1),ws(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Gd=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.status!==Jc&&r.status!==x1&&r.status!==bx&&r.status!==xx&&r.status!==_x&&r.status!==Ex&&r.status!==gl&&r.status!==If?1:0},bN=t=>{if(Gd(t))return vl(t,$o);t.total_in=t.total_out=0,t.data_type=xj;const r=t.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?x1:r.wrap?Jc:gl,t.adler=r.wrap===2?0:1,r.last_flush=-2,cj(r),Lr},xN=t=>{const r=bN(t);return r===Lr&&Lj(t.state),r},Bj=(t,r)=>Gd(t)||t.state.wrap!==2?$o:(t.state.gzhead=r,Lr),_N=(t,r,i,s,c,d)=>{if(!t)return $o;let f=1;if(r===mj&&(r=6),s<0?(f=0,s=-s):s>15&&(f=2,s-=16),c<1||c>_j||i!==Fg||s<8||s>15||r<0||r>9||d<0||d>yj||s===8&&f!==1)return vl(t,$o);s===8&&(s=9);const g=new $j;return t.state=g,g.strm=t,g.status=Jc,g.wrap=f,g.gzhead=null,g.w_bits=s,g.w_size=1<<g.w_bits,g.w_mask=g.w_size-1,g.hash_bits=c+7,g.hash_size=1<<g.hash_bits,g.hash_mask=g.hash_size-1,g.hash_shift=~~((g.hash_bits+un-1)/un),g.window=new Uint8Array(g.w_size*2),g.head=new Uint16Array(g.hash_size),g.prev=new Uint16Array(g.w_size),g.lit_bufsize=1<<c+6,g.pending_buf_size=g.lit_bufsize*4,g.pending_buf=new Uint8Array(g.pending_buf_size),g.sym_buf=g.lit_bufsize,g.sym_end=(g.lit_bufsize-1)*3,g.level=r,g.strategy=d,g.method=i,xN(t)},Fj=(t,r)=>_N(t,r,Fg,Ej,wj,bj),jj=(t,r)=>{if(Gd(t)||r>Wk||r<0)return t?vl(t,$o):$o;const i=t.state;if(!t.output||t.avail_in!==0&&!t.input||i.status===If&&r!==Ji)return vl(t,t.avail_out===0?_b:$o);const s=i.last_flush;if(i.last_flush=r,i.pending!==0){if(Ri(t),t.avail_out===0)return i.last_flush=-1,Lr}else if(t.avail_in===0&&Xk(r)<=Xk(s)&&r!==Ji)return vl(t,_b);if(i.status===If&&t.avail_in!==0)return vl(t,_b);if(i.status===Jc&&i.wrap===0&&(i.status=gl),i.status===Jc){let c=Fg+(i.w_bits-8<<4)<<8,d=-1;if(i.strategy>=rm||i.level<2?d=0:i.level<6?d=1:i.level===6?d=2:d=3,c|=d<<6,i.strstart!==0&&(c|=Pj),c+=31-c%31,Af(i,c),i.strstart!==0&&(Af(i,t.adler>>>16),Af(i,t.adler&65535)),t.adler=1,i.status=gl,Ri(t),i.pending!==0)return i.last_flush=-1,Lr}if(i.status===x1){if(t.adler=0,vn(i,31),vn(i,139),vn(i,8),i.gzhead)vn(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),vn(i,i.gzhead.time&255),vn(i,i.gzhead.time>>8&255),vn(i,i.gzhead.time>>16&255),vn(i,i.gzhead.time>>24&255),vn(i,i.level===9?2:i.strategy>=rm||i.level<2?4:0),vn(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(vn(i,i.gzhead.extra.length&255),vn(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=Sr(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=bx;else if(vn(i,0),vn(i,0),vn(i,0),vn(i,0),vn(i,0),vn(i,i.level===9?2:i.strategy>=rm||i.level<2?4:0),vn(i,Nj),i.status=gl,Ri(t),i.pending!==0)return i.last_flush=-1,Lr}if(i.status===bx){if(i.gzhead.extra){let c=i.pending,d=(i.gzhead.extra.length&65535)-i.gzindex;for(;i.pending+d>i.pending_buf_size;){let g=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+g),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>c&&(t.adler=Sr(t.adler,i.pending_buf,i.pending-c,c)),i.gzindex+=g,Ri(t),i.pending!==0)return i.last_flush=-1,Lr;c=0,d-=g}let f=new Uint8Array(i.gzhead.extra);i.pending_buf.set(f.subarray(i.gzindex,i.gzindex+d),i.pending),i.pending+=d,i.gzhead.hcrc&&i.pending>c&&(t.adler=Sr(t.adler,i.pending_buf,i.pending-c,c)),i.gzindex=0}i.status=xx}if(i.status===xx){if(i.gzhead.name){let c=i.pending,d;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>c&&(t.adler=Sr(t.adler,i.pending_buf,i.pending-c,c)),Ri(t),i.pending!==0)return i.last_flush=-1,Lr;c=0}i.gzindex<i.gzhead.name.length?d=i.gzhead.name.charCodeAt(i.gzindex++)&255:d=0,vn(i,d)}while(d!==0);i.gzhead.hcrc&&i.pending>c&&(t.adler=Sr(t.adler,i.pending_buf,i.pending-c,c)),i.gzindex=0}i.status=_x}if(i.status===_x){if(i.gzhead.comment){let c=i.pending,d;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>c&&(t.adler=Sr(t.adler,i.pending_buf,i.pending-c,c)),Ri(t),i.pending!==0)return i.last_flush=-1,Lr;c=0}i.gzindex<i.gzhead.comment.length?d=i.gzhead.comment.charCodeAt(i.gzindex++)&255:d=0,vn(i,d)}while(d!==0);i.gzhead.hcrc&&i.pending>c&&(t.adler=Sr(t.adler,i.pending_buf,i.pending-c,c))}i.status=Ex}if(i.status===Ex){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Ri(t),i.pending!==0))return i.last_flush=-1,Lr;vn(i,t.adler&255),vn(i,t.adler>>8&255),t.adler=0}if(i.status=gl,Ri(t),i.pending!==0)return i.last_flush=-1,Lr}if(t.avail_in!==0||i.lookahead!==0||r!==Ns&&i.status!==If){let c=i.level===0?yN(i,r):i.strategy===rm?Ij(i,r):i.strategy===vj?Dj(i,r):Lf[i.level].func(i,r);if((c===Il||c===fu)&&(i.status=If),c===ai||c===Il)return t.avail_out===0&&(i.last_flush=-1),Lr;if(c===uu&&(r===dj?fj(i):r!==Wk&&(vx(i,0,0,!1),r===pj&&(ws(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Ri(t),t.avail_out===0))return i.last_flush=-1,Lr}return r!==Ji?Lr:i.wrap<=0?Kk:(i.wrap===2?(vn(i,t.adler&255),vn(i,t.adler>>8&255),vn(i,t.adler>>16&255),vn(i,t.adler>>24&255),vn(i,t.total_in&255),vn(i,t.total_in>>8&255),vn(i,t.total_in>>16&255),vn(i,t.total_in>>24&255)):(Af(i,t.adler>>>16),Af(i,t.adler&65535)),Ri(t),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Lr:Kk)},Vj=t=>{if(Gd(t))return $o;const r=t.state.status;return t.state=null,r===gl?vl(t,hj):Lr},Hj=(t,r)=>{let i=r.length;if(Gd(t))return $o;const s=t.state,c=s.wrap;if(c===2||c===1&&s.status!==Jc||s.lookahead)return $o;if(c===1&&(t.adler=Ed(t.adler,r,i,0)),s.wrap=0,i>=s.w_size){c===0&&(ws(s.head),s.strstart=0,s.block_start=0,s.insert=0);let y=new Uint8Array(s.w_size);y.set(r.subarray(i-s.w_size,i),0),r=y,i=s.w_size}const d=t.avail_in,f=t.next_in,g=t.input;for(t.avail_in=i,t.next_in=0,t.input=r,Qc(s);s.lookahead>=un;){let y=s.strstart,b=s.lookahead-(un-1);do s.ins_h=Os(s,s.ins_h,s.window[y+un-1]),s.prev[y&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=y,y++;while(--b);s.strstart=y,s.lookahead=un-1,Qc(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=un-1,s.match_available=0,t.next_in=f,t.input=g,t.avail_in=d,s.wrap=c,Lr};var Uj=Fj,zj=_N,Gj=xN,Wj=bN,Kj=Bj,Xj=jj,Yj=Vj,Zj=Hj,Jj="pako deflate (from Nodeca project)",Qf={deflateInit:Uj,deflateInit2:zj,deflateReset:Gj,deflateResetKeep:Wj,deflateSetHeader:Kj,deflate:Xj,deflateEnd:Yj,deflateSetDictionary:Zj,deflateInfo:Jj};const Qj=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var qj=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const i=r.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const s in i)Qj(i,s)&&(t[s]=i[s])}}return t},e7=t=>{let r=0;for(let s=0,c=t.length;s<c;s++)r+=t[s].length;const i=new Uint8Array(r);for(let s=0,c=0,d=t.length;s<d;s++){let f=t[s];i.set(f,c),c+=f.length}return i},jg={assign:qj,flattenChunks:e7};let EN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{EN=!1}const wd=new Uint8Array(256);for(let t=0;t<256;t++)wd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;wd[254]=wd[254]=1;var t7=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,i,s,c,d,f=t.length,g=0;for(c=0;c<f;c++)i=t.charCodeAt(c),(i&64512)===55296&&c+1<f&&(s=t.charCodeAt(c+1),(s&64512)===56320&&(i=65536+(i-55296<<10)+(s-56320),c++)),g+=i<128?1:i<2048?2:i<65536?3:4;for(r=new Uint8Array(g),d=0,c=0;d<g;c++)i=t.charCodeAt(c),(i&64512)===55296&&c+1<f&&(s=t.charCodeAt(c+1),(s&64512)===56320&&(i=65536+(i-55296<<10)+(s-56320),c++)),i<128?r[d++]=i:i<2048?(r[d++]=192|i>>>6,r[d++]=128|i&63):i<65536?(r[d++]=224|i>>>12,r[d++]=128|i>>>6&63,r[d++]=128|i&63):(r[d++]=240|i>>>18,r[d++]=128|i>>>12&63,r[d++]=128|i>>>6&63,r[d++]=128|i&63);return r};const n7=(t,r)=>{if(r<65534&&t.subarray&&EN)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let i="";for(let s=0;s<r;s++)i+=String.fromCharCode(t[s]);return i};var r7=(t,r)=>{const i=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let s,c;const d=new Array(i*2);for(c=0,s=0;s<i;){let f=t[s++];if(f<128){d[c++]=f;continue}let g=wd[f];if(g>4){d[c++]=65533,s+=g-1;continue}for(f&=g===2?31:g===3?15:7;g>1&&s<i;)f=f<<6|t[s++]&63,g--;if(g>1){d[c++]=65533;continue}f<65536?d[c++]=f:(f-=65536,d[c++]=55296|f>>10&1023,d[c++]=56320|f&1023)}return n7(d,c)},i7=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let i=r-1;for(;i>=0&&(t[i]&192)===128;)i--;return i<0||i===0?r:i+wd[t[i]]>r?i:r},Sd={string2buf:t7,buf2string:r7,utf8border:i7};function o7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wN=o7;const SN=Object.prototype.toString,{Z_NO_FLUSH:a7,Z_SYNC_FLUSH:s7,Z_FULL_FLUSH:l7,Z_FINISH:c7,Z_OK:Jm,Z_STREAM_END:u7,Z_DEFAULT_COMPRESSION:f7,Z_DEFAULT_STRATEGY:d7,Z_DEFLATED:p7}=zd;function Wd(t){this.options=jg.assign({level:f7,method:p7,chunkSize:16384,windowBits:15,memLevel:8,strategy:d7},t||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wN,this.strm.avail_out=0;let i=Qf.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(i!==Jm)throw new Error(Dl[i]);if(r.header&&Qf.deflateSetHeader(this.strm,r.header),r.dictionary){let s;if(typeof r.dictionary=="string"?s=Sd.string2buf(r.dictionary):SN.call(r.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(r.dictionary):s=r.dictionary,i=Qf.deflateSetDictionary(this.strm,s),i!==Jm)throw new Error(Dl[i]);this._dict_set=!0}}Wd.prototype.push=function(t,r){const i=this.strm,s=this.options.chunkSize;let c,d;if(this.ended)return!1;for(r===~~r?d=r:d=r===!0?c7:a7,typeof t=="string"?i.input=Sd.string2buf(t):SN.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(d===s7||d===l7)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(c=Qf.deflate(i,d),c===u7)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),c=Qf.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===Jm;if(i.avail_out===0){this.onData(i.output);continue}if(d>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};Wd.prototype.onData=function(t){this.chunks.push(t)};Wd.prototype.onEnd=function(t){t===Jm&&(this.result=jg.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function _1(t,r){const i=new Wd(r);if(i.push(t,!0),i.err)throw i.msg||Dl[i.err];return i.result}function h7(t,r){return r=r||{},r.raw=!0,_1(t,r)}function m7(t,r){return r=r||{},r.gzip=!0,_1(t,r)}var g7=Wd,v7=_1,y7=h7,b7=m7,x7={Deflate:g7,deflate:v7,deflateRaw:y7,gzip:b7};const im=16209,_7=16191;var E7=function(r,i){let s,c,d,f,g,y,b,E,w,C,T,D,$,H,N,L,M,A,z,Z,te,ee,W,Q;const oe=r.state;s=r.next_in,W=r.input,c=s+(r.avail_in-5),d=r.next_out,Q=r.output,f=d-(i-r.avail_out),g=d+(r.avail_out-257),y=oe.dmax,b=oe.wsize,E=oe.whave,w=oe.wnext,C=oe.window,T=oe.hold,D=oe.bits,$=oe.lencode,H=oe.distcode,N=(1<<oe.lenbits)-1,L=(1<<oe.distbits)-1;e:do{D<15&&(T+=W[s++]<<D,D+=8,T+=W[s++]<<D,D+=8),M=$[T&N];t:for(;;){if(A=M>>>24,T>>>=A,D-=A,A=M>>>16&255,A===0)Q[d++]=M&65535;else if(A&16){z=M&65535,A&=15,A&&(D<A&&(T+=W[s++]<<D,D+=8),z+=T&(1<<A)-1,T>>>=A,D-=A),D<15&&(T+=W[s++]<<D,D+=8,T+=W[s++]<<D,D+=8),M=H[T&L];n:for(;;){if(A=M>>>24,T>>>=A,D-=A,A=M>>>16&255,A&16){if(Z=M&65535,A&=15,D<A&&(T+=W[s++]<<D,D+=8,D<A&&(T+=W[s++]<<D,D+=8)),Z+=T&(1<<A)-1,Z>y){r.msg="invalid distance too far back",oe.mode=im;break e}if(T>>>=A,D-=A,A=d-f,Z>A){if(A=Z-A,A>E&&oe.sane){r.msg="invalid distance too far back",oe.mode=im;break e}if(te=0,ee=C,w===0){if(te+=b-A,A<z){z-=A;do Q[d++]=C[te++];while(--A);te=d-Z,ee=Q}}else if(w<A){if(te+=b+w-A,A-=w,A<z){z-=A;do Q[d++]=C[te++];while(--A);if(te=0,w<z){A=w,z-=A;do Q[d++]=C[te++];while(--A);te=d-Z,ee=Q}}}else if(te+=w-A,A<z){z-=A;do Q[d++]=C[te++];while(--A);te=d-Z,ee=Q}for(;z>2;)Q[d++]=ee[te++],Q[d++]=ee[te++],Q[d++]=ee[te++],z-=3;z&&(Q[d++]=ee[te++],z>1&&(Q[d++]=ee[te++]))}else{te=d-Z;do Q[d++]=Q[te++],Q[d++]=Q[te++],Q[d++]=Q[te++],z-=3;while(z>2);z&&(Q[d++]=Q[te++],z>1&&(Q[d++]=Q[te++]))}}else if((A&64)===0){M=H[(M&65535)+(T&(1<<A)-1)];continue n}else{r.msg="invalid distance code",oe.mode=im;break e}break}}else if((A&64)===0){M=$[(M&65535)+(T&(1<<A)-1)];continue t}else if(A&32){oe.mode=_7;break e}else{r.msg="invalid literal/length code",oe.mode=im;break e}break}}while(s<c&&d<g);z=D>>3,s-=z,D-=z<<3,T&=(1<<D)-1,r.next_in=s,r.next_out=d,r.avail_in=s<c?5+(c-s):5-(s-c),r.avail_out=d<g?257+(g-d):257-(d-g),oe.hold=T,oe.bits=D};const kc=15,Yk=852,Zk=592,Jk=0,wb=1,Qk=2,w7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),S7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),C7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),T7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),k7=(t,r,i,s,c,d,f,g)=>{const y=g.bits;let b=0,E=0,w=0,C=0,T=0,D=0,$=0,H=0,N=0,L=0,M,A,z,Z,te,ee=null,W;const Q=new Uint16Array(kc+1),oe=new Uint16Array(kc+1);let re=null,J,ce,ue;for(b=0;b<=kc;b++)Q[b]=0;for(E=0;E<s;E++)Q[r[i+E]]++;for(T=y,C=kc;C>=1&&Q[C]===0;C--);if(T>C&&(T=C),C===0)return c[d++]=1<<24|64<<16|0,c[d++]=1<<24|64<<16|0,g.bits=1,0;for(w=1;w<C&&Q[w]===0;w++);for(T<w&&(T=w),H=1,b=1;b<=kc;b++)if(H<<=1,H-=Q[b],H<0)return-1;if(H>0&&(t===Jk||C!==1))return-1;for(oe[1]=0,b=1;b<kc;b++)oe[b+1]=oe[b]+Q[b];for(E=0;E<s;E++)r[i+E]!==0&&(f[oe[r[i+E]]++]=E);if(t===Jk?(ee=re=f,W=20):t===wb?(ee=w7,re=S7,W=257):(ee=C7,re=T7,W=0),L=0,E=0,b=w,te=d,D=T,$=0,z=-1,N=1<<T,Z=N-1,t===wb&&N>Yk||t===Qk&&N>Zk)return 1;for(;;){J=b-$,f[E]+1<W?(ce=0,ue=f[E]):f[E]>=W?(ce=re[f[E]-W],ue=ee[f[E]-W]):(ce=96,ue=0),M=1<<b-$,A=1<<D,w=A;do A-=M,c[te+(L>>$)+A]=J<<24|ce<<16|ue|0;while(A!==0);for(M=1<<b-1;L&M;)M>>=1;if(M!==0?(L&=M-1,L+=M):L=0,E++,--Q[b]===0){if(b===C)break;b=r[i+f[E]]}if(b>T&&(L&Z)!==z){for($===0&&($=T),te+=w,D=b-$,H=1<<D;D+$<C&&(H-=Q[D+$],!(H<=0));)D++,H<<=1;if(N+=1<<D,t===wb&&N>Yk||t===Qk&&N>Zk)return 1;z=L&Z,c[z]=T<<24|D<<16|te-d|0}}return L!==0&&(c[te+L]=b-$<<24|64<<16|0),g.bits=T,0};var qf=k7;const A7=0,CN=1,TN=2,{Z_FINISH:qk,Z_BLOCK:R7,Z_TREES:om,Z_OK:Ll,Z_STREAM_END:P7,Z_NEED_DICT:N7,Z_STREAM_ERROR:to,Z_DATA_ERROR:kN,Z_MEM_ERROR:AN,Z_BUF_ERROR:O7,Z_DEFLATED:eA}=zd,Vg=16180,tA=16181,nA=16182,rA=16183,iA=16184,oA=16185,aA=16186,sA=16187,lA=16188,cA=16189,Qm=16190,ca=16191,Sb=16192,uA=16193,Cb=16194,fA=16195,dA=16196,pA=16197,hA=16198,am=16199,sm=16200,mA=16201,gA=16202,vA=16203,yA=16204,bA=16205,Tb=16206,xA=16207,_A=16208,In=16209,RN=16210,PN=16211,M7=852,D7=592,I7=15,L7=I7,EA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function $7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ul=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<Vg||r.mode>PN?1:0},NN=t=>{if(Ul(t))return to;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=Vg,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(M7),r.distcode=r.distdyn=new Int32Array(D7),r.sane=1,r.back=-1,Ll},ON=t=>{if(Ul(t))return to;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,NN(t)},MN=(t,r)=>{let i;if(Ul(t))return to;const s=t.state;return r<0?(i=0,r=-r):(i=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?to:(s.window!==null&&s.wbits!==r&&(s.window=null),s.wrap=i,s.wbits=r,ON(t))},DN=(t,r)=>{if(!t)return to;const i=new $7;t.state=i,i.strm=t,i.window=null,i.mode=Vg;const s=MN(t,r);return s!==Ll&&(t.state=null),s},B7=t=>DN(t,L7);let wA=!0,kb,Ab;const F7=t=>{if(wA){kb=new Int32Array(512),Ab=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(qf(CN,t.lens,0,288,kb,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;qf(TN,t.lens,0,32,Ab,0,t.work,{bits:5}),wA=!1}t.lencode=kb,t.lenbits=9,t.distcode=Ab,t.distbits=5},IN=(t,r,i,s)=>{let c;const d=t.state;return d.window===null&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new Uint8Array(d.wsize)),s>=d.wsize?(d.window.set(r.subarray(i-d.wsize,i),0),d.wnext=0,d.whave=d.wsize):(c=d.wsize-d.wnext,c>s&&(c=s),d.window.set(r.subarray(i-s,i-s+c),d.wnext),s-=c,s?(d.window.set(r.subarray(i-s,i),0),d.wnext=s,d.whave=d.wsize):(d.wnext+=c,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=c))),0},j7=(t,r)=>{let i,s,c,d,f,g,y,b,E,w,C,T,D,$,H=0,N,L,M,A,z,Z,te,ee;const W=new Uint8Array(4);let Q,oe;const re=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ul(t)||!t.output||!t.input&&t.avail_in!==0)return to;i=t.state,i.mode===ca&&(i.mode=Sb),f=t.next_out,c=t.output,y=t.avail_out,d=t.next_in,s=t.input,g=t.avail_in,b=i.hold,E=i.bits,w=g,C=y,ee=Ll;e:for(;;)switch(i.mode){case Vg:if(i.wrap===0){i.mode=Sb;break}for(;E<16;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if(i.wrap&2&&b===35615){i.wbits===0&&(i.wbits=15),i.check=0,W[0]=b&255,W[1]=b>>>8&255,i.check=Sr(i.check,W,2,0),b=0,E=0,i.mode=tA;break}if(i.head&&(i.head.done=!1),!(i.wrap&1)||(((b&255)<<8)+(b>>8))%31){t.msg="incorrect header check",i.mode=In;break}if((b&15)!==eA){t.msg="unknown compression method",i.mode=In;break}if(b>>>=4,E-=4,te=(b&15)+8,i.wbits===0&&(i.wbits=te),te>15||te>i.wbits){t.msg="invalid window size",i.mode=In;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=b&512?cA:ca,b=0,E=0;break;case tA:for(;E<16;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if(i.flags=b,(i.flags&255)!==eA){t.msg="unknown compression method",i.mode=In;break}if(i.flags&57344){t.msg="unknown header flags set",i.mode=In;break}i.head&&(i.head.text=b>>8&1),i.flags&512&&i.wrap&4&&(W[0]=b&255,W[1]=b>>>8&255,i.check=Sr(i.check,W,2,0)),b=0,E=0,i.mode=nA;case nA:for(;E<32;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}i.head&&(i.head.time=b),i.flags&512&&i.wrap&4&&(W[0]=b&255,W[1]=b>>>8&255,W[2]=b>>>16&255,W[3]=b>>>24&255,i.check=Sr(i.check,W,4,0)),b=0,E=0,i.mode=rA;case rA:for(;E<16;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}i.head&&(i.head.xflags=b&255,i.head.os=b>>8),i.flags&512&&i.wrap&4&&(W[0]=b&255,W[1]=b>>>8&255,i.check=Sr(i.check,W,2,0)),b=0,E=0,i.mode=iA;case iA:if(i.flags&1024){for(;E<16;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}i.length=b,i.head&&(i.head.extra_len=b),i.flags&512&&i.wrap&4&&(W[0]=b&255,W[1]=b>>>8&255,i.check=Sr(i.check,W,2,0)),b=0,E=0}else i.head&&(i.head.extra=null);i.mode=oA;case oA:if(i.flags&1024&&(T=i.length,T>g&&(T=g),T&&(i.head&&(te=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(s.subarray(d,d+T),te)),i.flags&512&&i.wrap&4&&(i.check=Sr(i.check,s,T,d)),g-=T,d+=T,i.length-=T),i.length))break e;i.length=0,i.mode=aA;case aA:if(i.flags&2048){if(g===0)break e;T=0;do te=s[d+T++],i.head&&te&&i.length<65536&&(i.head.name+=String.fromCharCode(te));while(te&&T<g);if(i.flags&512&&i.wrap&4&&(i.check=Sr(i.check,s,T,d)),g-=T,d+=T,te)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=sA;case sA:if(i.flags&4096){if(g===0)break e;T=0;do te=s[d+T++],i.head&&te&&i.length<65536&&(i.head.comment+=String.fromCharCode(te));while(te&&T<g);if(i.flags&512&&i.wrap&4&&(i.check=Sr(i.check,s,T,d)),g-=T,d+=T,te)break e}else i.head&&(i.head.comment=null);i.mode=lA;case lA:if(i.flags&512){for(;E<16;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if(i.wrap&4&&b!==(i.check&65535)){t.msg="header crc mismatch",i.mode=In;break}b=0,E=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=ca;break;case cA:for(;E<32;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}t.adler=i.check=EA(b),b=0,E=0,i.mode=Qm;case Qm:if(i.havedict===0)return t.next_out=f,t.avail_out=y,t.next_in=d,t.avail_in=g,i.hold=b,i.bits=E,N7;t.adler=i.check=1,i.mode=ca;case ca:if(r===R7||r===om)break e;case Sb:if(i.last){b>>>=E&7,E-=E&7,i.mode=Tb;break}for(;E<3;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}switch(i.last=b&1,b>>>=1,E-=1,b&3){case 0:i.mode=uA;break;case 1:if(F7(i),i.mode=am,r===om){b>>>=2,E-=2;break e}break;case 2:i.mode=dA;break;case 3:t.msg="invalid block type",i.mode=In}b>>>=2,E-=2;break;case uA:for(b>>>=E&7,E-=E&7;E<32;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if((b&65535)!==(b>>>16^65535)){t.msg="invalid stored block lengths",i.mode=In;break}if(i.length=b&65535,b=0,E=0,i.mode=Cb,r===om)break e;case Cb:i.mode=fA;case fA:if(T=i.length,T){if(T>g&&(T=g),T>y&&(T=y),T===0)break e;c.set(s.subarray(d,d+T),f),g-=T,d+=T,y-=T,f+=T,i.length-=T;break}i.mode=ca;break;case dA:for(;E<14;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if(i.nlen=(b&31)+257,b>>>=5,E-=5,i.ndist=(b&31)+1,b>>>=5,E-=5,i.ncode=(b&15)+4,b>>>=4,E-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=In;break}i.have=0,i.mode=pA;case pA:for(;i.have<i.ncode;){for(;E<3;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}i.lens[re[i.have++]]=b&7,b>>>=3,E-=3}for(;i.have<19;)i.lens[re[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Q={bits:i.lenbits},ee=qf(A7,i.lens,0,19,i.lencode,0,i.work,Q),i.lenbits=Q.bits,ee){t.msg="invalid code lengths set",i.mode=In;break}i.have=0,i.mode=hA;case hA:for(;i.have<i.nlen+i.ndist;){for(;H=i.lencode[b&(1<<i.lenbits)-1],N=H>>>24,L=H>>>16&255,M=H&65535,!(N<=E);){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if(M<16)b>>>=N,E-=N,i.lens[i.have++]=M;else{if(M===16){for(oe=N+2;E<oe;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if(b>>>=N,E-=N,i.have===0){t.msg="invalid bit length repeat",i.mode=In;break}te=i.lens[i.have-1],T=3+(b&3),b>>>=2,E-=2}else if(M===17){for(oe=N+3;E<oe;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}b>>>=N,E-=N,te=0,T=3+(b&7),b>>>=3,E-=3}else{for(oe=N+7;E<oe;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}b>>>=N,E-=N,te=0,T=11+(b&127),b>>>=7,E-=7}if(i.have+T>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=In;break}for(;T--;)i.lens[i.have++]=te}}if(i.mode===In)break;if(i.lens[256]===0){t.msg="invalid code -- missing end-of-block",i.mode=In;break}if(i.lenbits=9,Q={bits:i.lenbits},ee=qf(CN,i.lens,0,i.nlen,i.lencode,0,i.work,Q),i.lenbits=Q.bits,ee){t.msg="invalid literal/lengths set",i.mode=In;break}if(i.distbits=6,i.distcode=i.distdyn,Q={bits:i.distbits},ee=qf(TN,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Q),i.distbits=Q.bits,ee){t.msg="invalid distances set",i.mode=In;break}if(i.mode=am,r===om)break e;case am:i.mode=sm;case sm:if(g>=6&&y>=258){t.next_out=f,t.avail_out=y,t.next_in=d,t.avail_in=g,i.hold=b,i.bits=E,E7(t,C),f=t.next_out,c=t.output,y=t.avail_out,d=t.next_in,s=t.input,g=t.avail_in,b=i.hold,E=i.bits,i.mode===ca&&(i.back=-1);break}for(i.back=0;H=i.lencode[b&(1<<i.lenbits)-1],N=H>>>24,L=H>>>16&255,M=H&65535,!(N<=E);){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if(L&&(L&240)===0){for(A=N,z=L,Z=M;H=i.lencode[Z+((b&(1<<A+z)-1)>>A)],N=H>>>24,L=H>>>16&255,M=H&65535,!(A+N<=E);){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}b>>>=A,E-=A,i.back+=A}if(b>>>=N,E-=N,i.back+=N,i.length=M,L===0){i.mode=bA;break}if(L&32){i.back=-1,i.mode=ca;break}if(L&64){t.msg="invalid literal/length code",i.mode=In;break}i.extra=L&15,i.mode=mA;case mA:if(i.extra){for(oe=i.extra;E<oe;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}i.length+=b&(1<<i.extra)-1,b>>>=i.extra,E-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=gA;case gA:for(;H=i.distcode[b&(1<<i.distbits)-1],N=H>>>24,L=H>>>16&255,M=H&65535,!(N<=E);){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if((L&240)===0){for(A=N,z=L,Z=M;H=i.distcode[Z+((b&(1<<A+z)-1)>>A)],N=H>>>24,L=H>>>16&255,M=H&65535,!(A+N<=E);){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}b>>>=A,E-=A,i.back+=A}if(b>>>=N,E-=N,i.back+=N,L&64){t.msg="invalid distance code",i.mode=In;break}i.offset=M,i.extra=L&15,i.mode=vA;case vA:if(i.extra){for(oe=i.extra;E<oe;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}i.offset+=b&(1<<i.extra)-1,b>>>=i.extra,E-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=In;break}i.mode=yA;case yA:if(y===0)break e;if(T=C-y,i.offset>T){if(T=i.offset-T,T>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=In;break}T>i.wnext?(T-=i.wnext,D=i.wsize-T):D=i.wnext-T,T>i.length&&(T=i.length),$=i.window}else $=c,D=f-i.offset,T=i.length;T>y&&(T=y),y-=T,i.length-=T;do c[f++]=$[D++];while(--T);i.length===0&&(i.mode=sm);break;case bA:if(y===0)break e;c[f++]=i.length,y--,i.mode=sm;break;case Tb:if(i.wrap){for(;E<32;){if(g===0)break e;g--,b|=s[d++]<<E,E+=8}if(C-=y,t.total_out+=C,i.total+=C,i.wrap&4&&C&&(t.adler=i.check=i.flags?Sr(i.check,c,C,f-C):Ed(i.check,c,C,f-C)),C=y,i.wrap&4&&(i.flags?b:EA(b))!==i.check){t.msg="incorrect data check",i.mode=In;break}b=0,E=0}i.mode=xA;case xA:if(i.wrap&&i.flags){for(;E<32;){if(g===0)break e;g--,b+=s[d++]<<E,E+=8}if(i.wrap&4&&b!==(i.total&4294967295)){t.msg="incorrect length check",i.mode=In;break}b=0,E=0}i.mode=_A;case _A:ee=P7;break e;case In:ee=kN;break e;case RN:return AN;case PN:default:return to}return t.next_out=f,t.avail_out=y,t.next_in=d,t.avail_in=g,i.hold=b,i.bits=E,(i.wsize||C!==t.avail_out&&i.mode<In&&(i.mode<Tb||r!==qk))&&IN(t,t.output,t.next_out,C-t.avail_out),w-=t.avail_in,C-=t.avail_out,t.total_in+=w,t.total_out+=C,i.total+=C,i.wrap&4&&C&&(t.adler=i.check=i.flags?Sr(i.check,c,C,t.next_out-C):Ed(i.check,c,C,t.next_out-C)),t.data_type=i.bits+(i.last?64:0)+(i.mode===ca?128:0)+(i.mode===am||i.mode===Cb?256:0),(w===0&&C===0||r===qk)&&ee===Ll&&(ee=O7),ee},V7=t=>{if(Ul(t))return to;let r=t.state;return r.window&&(r.window=null),t.state=null,Ll},H7=(t,r)=>{if(Ul(t))return to;const i=t.state;return(i.wrap&2)===0?to:(i.head=r,r.done=!1,Ll)},U7=(t,r)=>{const i=r.length;let s,c,d;return Ul(t)||(s=t.state,s.wrap!==0&&s.mode!==Qm)?to:s.mode===Qm&&(c=1,c=Ed(c,r,i,0),c!==s.check)?kN:(d=IN(t,r,i,i),d?(s.mode=RN,AN):(s.havedict=1,Ll))};var z7=ON,G7=MN,W7=NN,K7=B7,X7=DN,Y7=j7,Z7=V7,J7=H7,Q7=U7,q7="pako inflate (from Nodeca project)",ga={inflateReset:z7,inflateReset2:G7,inflateResetKeep:W7,inflateInit:K7,inflateInit2:X7,inflate:Y7,inflateEnd:Z7,inflateGetHeader:J7,inflateSetDictionary:Q7,inflateInfo:q7};function eV(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var tV=eV;const LN=Object.prototype.toString,{Z_NO_FLUSH:nV,Z_FINISH:rV,Z_OK:Cd,Z_STREAM_END:Rb,Z_NEED_DICT:Pb,Z_STREAM_ERROR:iV,Z_DATA_ERROR:SA,Z_MEM_ERROR:oV}=zd;function Kd(t){this.options=jg.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wN,this.strm.avail_out=0;let i=ga.inflateInit2(this.strm,r.windowBits);if(i!==Cd)throw new Error(Dl[i]);if(this.header=new tV,ga.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Sd.string2buf(r.dictionary):LN.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(i=ga.inflateSetDictionary(this.strm,r.dictionary),i!==Cd)))throw new Error(Dl[i])}Kd.prototype.push=function(t,r){const i=this.strm,s=this.options.chunkSize,c=this.options.dictionary;let d,f,g;if(this.ended)return!1;for(r===~~r?f=r:f=r===!0?rV:nV,LN.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),d=ga.inflate(i,f),d===Pb&&c&&(d=ga.inflateSetDictionary(i,c),d===Cd?d=ga.inflate(i,f):d===SA&&(d=Pb));i.avail_in>0&&d===Rb&&i.state.wrap>0&&t[i.next_in]!==0;)ga.inflateReset(i),d=ga.inflate(i,f);switch(d){case iV:case SA:case Pb:case oV:return this.onEnd(d),this.ended=!0,!1}if(g=i.avail_out,i.next_out&&(i.avail_out===0||d===Rb))if(this.options.to==="string"){let y=Sd.utf8border(i.output,i.next_out),b=i.next_out-y,E=Sd.buf2string(i.output,y);i.next_out=b,i.avail_out=s-b,b&&i.output.set(i.output.subarray(y,y+b),0),this.onData(E)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(d===Cd&&g===0)){if(d===Rb)return d=ga.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};Kd.prototype.onData=function(t){this.chunks.push(t)};Kd.prototype.onEnd=function(t){t===Cd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jg.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function E1(t,r){const i=new Kd(r);if(i.push(t),i.err)throw i.msg||Dl[i.err];return i.result}function aV(t,r){return r=r||{},r.raw=!0,E1(t,r)}var sV=Kd,lV=E1,cV=aV,uV=E1,fV={Inflate:sV,inflate:lV,inflateRaw:cV,ungzip:uV};const{Deflate:dV,deflate:pV,deflateRaw:hV,gzip:mV}=x7,{Inflate:gV,inflate:vV,inflateRaw:yV,ungzip:bV}=fV;var xV=dV,_V=pV,EV=hV,wV=mV,SV=gV,CV=vV,TV=yV,kV=bV,AV=zd,w1={Deflate:xV,deflate:_V,deflateRaw:EV,gzip:wV,Inflate:SV,inflate:CV,inflateRaw:TV,ungzip:kV,constants:AV};const RV=t=>{const r=w1.gzip(t);let i="";const s=r.byteLength;for(let c=0;c<s;c++){const d=r[c];d!==void 0&&(i+=String.fromCharCode(d))}return btoa(i)},PV=async t=>{const r=w1.gzip(t),i=new Blob([r],{type:"application/gzip"});return new Promise((s,c)=>{const d=new FileReader;d.onloadend=()=>{const f=d.result;s(f.split(",")[1]||"")},d.onerror=c,d.readAsDataURL(i)})},NV=t=>{const i=atob(t).split("").map(c=>c.charCodeAt(0)),s=new Uint8Array(i);return w1.inflate(s,{to:"string"})},$N=(t,r=76)=>t.match(new RegExp(".{1,"+r+"}","g"))?.join(`
`)||t;class OV{value;constructor(r){this.value=r}toString(){return this.value}}class Hg{lines=[];indentLevel=0;INDENT_STR="    ";constructor(r){r&&(this.addComment(r),this.addNewLine())}add(r){return this.lines.push(this.getIndent()+r),this}addNewLine(){return this.lines.push(""),this}addComment(r){return this.lines.push(`${this.getIndent()}// ${r}`),this}indent(){return this.indentLevel++,this}outdent(){return this.indentLevel>0&&this.indentLevel--,this}createObject(r,i,s){const c=this.formatProps(s);return this.add(`${r}.add(${i}${c})`),this}createObjectVar(r,i,s,c){const d=this.formatProps(c);return this.add(`${r} := ${i}.add(${s}${d})`),this}assignAdd(r,i,s,c){const d=this.formatProps(c);return this.add(`${r} := ${i}.add(${s}${d})`),this}assign(r,i){return this.add(`${r} := ${i}`),this}callMethod(r,i,s){const c=this.formatPropsList(s);return this.add(`${r}.${i}(${c})`),this}getIndent(){return this.INDENT_STR.repeat(this.indentLevel)}formatProps(r){const i=this.formatPropsList(r);return i?", "+i:""}formatPropsList(r){const i=Object.entries(r).filter(([,s])=>s!=null&&s!=="");return i.length===0?"":i.map(([s,c])=>c instanceof OV?`${s}:=${c.value}`:typeof c=="string"?`${s}:='${c}'`:`${s}:=${c}`).join(", ")}toString(){return this.lines.join(`
`)}}const MV={class:"h-full flex flex-col lg:flex-row overflow-hidden bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200"},DV={class:"flex-1 flex flex-col relative bg-grid-pattern overflow-hidden h-full"},Ug=Vn({__name:"ToolLayout",props:{sidebarClass:{},sidebarStyle:{},sidebarPosition:{}},setup(t){const r=t,i=Mn(()=>r.sidebarPosition==="left");return(s,c)=>(Le(),Ge("div",MV,[i.value?(Le(),Ge("div",{key:0,class:Tt(["flex flex-col bg-white dark:bg-slate-800 shadow-2xl z-20 relative border-r border-slate-200 dark:border-slate-800",t.sidebarClass]),style:mr(t.sidebarStyle)},[wa(s.$slots,"sidebar")],6)):cn("",!0),G("div",DV,[wa(s.$slots,"main")]),i.value?cn("",!0):(Le(),Ge("div",{key:1,class:Tt(["flex flex-col bg-white dark:bg-slate-800 shadow-2xl z-20 relative border-l border-slate-200 dark:border-slate-800",t.sidebarClass]),style:mr(t.sidebarStyle)},[wa(s.$slots,"sidebar")],6))]))}}),IV={key:0,class:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none"},LV={class:"w-16 h-16 mb-4 rounded-full bg-slate-200 dark:bg-slate-800 flex items-center justify-center"},$V={class:"h-full flex flex-col"},BV={class:"flex border-b border-slate-700"},FV={class:"flex-grow flex flex-col p-4"},jV={class:"relative flex-grow flex flex-col"},VV={key:0,class:"absolute bottom-2 right-2"},HV={class:"flex-grow flex flex-col relative border-t border-slate-700"},UV={key:0,class:"pointer-events-none absolute inset-0 z-50"},zV={class:"space-y-4 p-4 overflow-y-auto flex-1"},GV={key:0,class:"pt-4 border-t border-slate-100 dark:border-slate-800"},WV={class:"flex items-center gap-2 text-indigo-500 mb-2"},KV={className:"grid grid-cols-2 gap-2"},XV={key:1,class:"pt-4 border-t border-slate-100 dark:border-slate-800"},YV={class:"flex items-center gap-2 text-pink-500 mb-2"},ZV={class:"mt-3"},JV={class:"space-y-2"},QV=["onUpdate:modelValue"],qV=["onClick"],eH={key:0,class:"text-[10px] text-slate-400 italic text-center"},tH={class:"p-4 bg-slate-50 dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800"},nH={class:"space-y-2"},rH={class:"flex gap-2"},iH={class:"flex gap-2"},oH=Vn({__name:"ProcessTool",setup(t){const{add:r}=lu(),{copy:i}=tN(),{downloadBlob:s}=Z5(),c=tt("input"),d=tt(""),f=tt(""),g=tt(""),y=tt("info"),b=tt("t.exampleProcess"),E=tt("process_diagram"),w=tt(!1),C=tt(!1),T=tt(""),D=tt(""),$=tt(!1),H=tt(!1),N=tt({id:"",name:"",topic:"",formKey:"",roles:[]}),L=tt({script:"",variable:""}),M=tt(!1),A=tt(320),z=bo(null),Z=bo(null),te=tt(!1);let ee=null;const W={name:"Camunda",uri:"http://camunda.org/schema/1.0/bpmn",prefix:"camunda",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"Topic",isAbstract:!0,extends:["bpmn:ServiceTask"],properties:[{name:"topic",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"}]},{name:"Form",isAbstract:!0,extends:["bpmn:UserTask"],properties:[{name:"formKey",isAttr:!0,type:"String"},{name:"formData",type:"FormData"}]},{name:"FormData",superClass:["Element"],properties:[{name:"fields",isMany:!0,type:"FormField"}]},{name:"FormField",superClass:["Element"],properties:[{name:"id",isAttr:!0,type:"String"},{name:"label",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"validation",type:"Validation"},{name:"values",isMany:!0,type:"Value"}]},{name:"Validation",superClass:["Element"],properties:[{name:"constraints",isMany:!0,type:"Constraint"}]},{name:"Constraint",superClass:["Element"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"config",isAttr:!0,type:"String"}]},{name:"Value",superClass:["Element"],properties:[{name:"id",isAttr:!0,type:"String"},{name:"name",isAttr:!0,type:"String"}]},{name:"Properties",superClass:["Element"],meta:{allowedIn:["bpmn:ExtensionElements"]},properties:[{name:"values",isMany:!0,type:"Property"}]},{name:"Property",superClass:["Element"],properties:[{name:"id",isAttr:!0,type:"String"},{name:"name",isAttr:!0,type:"String"},{name:"value",isAttr:!0,type:"String"}]}]};Uo(()=>{Q()});const Q=()=>{z.value=new mF({container:"#canvas",keyboard:{bindTo:window},moddleExtensions:{camunda:W}}),z.value.on("commandStack.changed",async()=>{try{const{xml:ke}=await z.value.saveXML({format:!0});te.value=!0,f.value=ke,te.value=!1}catch(ke){console.error(ke)}}),z.value.on("selection.changed",ke=>{const he=ke.newSelection;he.length===1?pe(he[0]):(Z.value=null,C.value=!1)})},oe=async()=>{try{await z.value.createDiagram(),w.value=!0,c.value="xml",g.value="Created new diagram",d.value=""}catch(ke){console.error("Error creating diagram",ke),g.value="Error creating diagram",y.value="error"}},re=()=>{z.value.clear(),w.value=!1,C.value=!1,f.value="",d.value="",g.value="Reset complete"},J=()=>{g.value="";let ke=d.value.trim();if(ke)try{if(ke.includes(":=")){const De=ke.match(/content\s*:=\s*'([^']+)'/);De&&De[1]&&(ke=De[1])}if(ke.includes(";")){const De=ke.split(";"),at=De.find(X=>X.trim().startsWith("H4s")),St=De[De.length-1];ke=at?at.trim():(St||"").trim()}ke=ke.replace(/^'|'$/g,"").replace(/,$/,"");const he=NV(ke);f.value=he,ue(he),g.value="Decoded successfully",y.value="info",c.value="xml"}catch{ke.length>20&&(g.value="Invalid format",y.value="error")}},ce=()=>{clearTimeout(ee),ee=setTimeout(()=>{te.value||ue(f.value)},500)},ue=async ke=>{try{await z.value.importXML(ke),w.value=!0,z.value.get("canvas").zoom("fit-viewport")}catch{g.value="Invalid BPMN XML",y.value="error"}},le=async()=>{if(w.value)try{const{xml:ke}=await z.value.saveXML({format:!0}),he=RV(ke);let De=E.value.trim()||"process_diagram";De.toLowerCase().endsWith(".bpmn")||(De+=".bpmn");const at=`${De};application/xml;${he}`,St=$N(at),X=b.value.trim()||"this.object",q=new Hg;q.callMethod(X,"change",{content:St});const be=q.toString();i(be,"Extended Script")}catch(ke){r("Export failed: "+ke.message,"error")}},ve=async()=>{try{const{svg:ke}=await z.value.saveSVG();s(ke,`${E.value||"diagram"}.svg`,"image/svg+xml")}catch(ke){r(ke.message,"error")}},fe=async()=>{try{const{xml:ke}=await z.value.saveXML({format:!0});s(ke,`${E.value||"diagram"}.bpmn`,"text/xml")}catch(ke){r(ke.message,"error")}},pe=ke=>{Z.value=ke;const he=ke.businessObject;if(C.value=!0,T.value=he.name||he.id,D.value=ke.type,$.value=ke.type==="bpmn:ServiceTask",H.value=ke.type==="bpmn:UserTask",N.value.id=he.id,N.value.name=he.name||"",N.value.topic="",N.value.formKey="",N.value.roles=[],L.value={script:"",variable:""},$.value){N.value.topic=he.topic||"";const De=N.value.topic.split(";");De.length>=3&&(L.value.script=De[1]||"",L.value.variable=De[2]||"")}if(H.value&&(N.value.formKey=he.formKey||"",he.extensionElements&&he.extensionElements.values)){const De=he.extensionElements.values.find(at=>at.$type==="camunda:Properties");De&&De.values&&(N.value.roles=De.values.filter(at=>at.name==="role-participant").map(at=>({value:at.value,obj:at})))}},Te=()=>{if(!Z.value)return;const ke=z.value.get("modeling");let he={id:N.value.id,name:N.value.name};$.value&&(he["camunda:topic"]=N.value.topic,he["camunda:type"]="external"),H.value&&(he["camunda:formKey"]=N.value.formKey),ke.updateProperties(Z.value,he),T.value=N.value.name||N.value.id},ot=()=>{if(L.value.script||L.value.variable){const ke=L.value.script||"null",he=L.value.variable||"null";N.value.topic=`Extended;${ke};${he}`,Te()}},Ye=()=>{if(!Z.value)return;const ke=z.value.get("moddle"),he=z.value.get("modeling");let at=Z.value.businessObject.extensionElements;at||(at=ke.create("bpmn:ExtensionElements"),he.updateProperties(Z.value,{extensionElements:at}));let St=at.values.find(q=>q.$type==="camunda:Properties");St||(St=ke.create("camunda:Properties"),at.get("values").push(St));const X=ke.create("camunda:Property",{name:"role-participant",value:"newPropID"});St.get("values").push(X),pe(Z.value)},ie=ke=>{if(!Z.value)return;const he=z.value.get("modeling"),De=Z.value.businessObject,at=N.value.roles[ke]?.obj;if(!at)return;const St=De.extensionElements?.values.find(X=>X.$type==="camunda:Properties");if(St){const X=St.get("values"),q=X.indexOf(at);q>-1&&(X.splice(q,1),he.updateProperties(Z.value,{extensionElements:De.extensionElements}),pe(Z.value))}},Xt=()=>{N.value.roles.forEach(ke=>{ke.obj.value=ke.value})},Wt=()=>{M.value=!0,document.body.style.cursor="col-resize"},Kt=ke=>{if(M.value){const De=document.body.getBoundingClientRect().width-ke.clientX;A.value=Math.max(200,Math.min(De,600))}},Se=()=>{M.value=!1,document.body.style.cursor=""};return(ke,he)=>(Le(),Gn(Ug,{sidebarStyle:{width:A.value+"px"},onMousemove:Kt,onMouseup:Se,class:"select-none"},{main:Qt(()=>[he[14]||(he[14]=G("div",{id:"canvas",class:"w-full h-full"},null,-1)),w.value?cn("",!0):(Le(),Ge("div",IV,[G("div",LV,[we(He(u1),{class:"w-8 h-8 text-slate-400"})]),he[13]||(he[13]=G("p",{class:"text-sm font-medium text-slate-500 mb-4"},"Waiting for BPMN data...",-1)),we(ri,{onClick:oe,class:"pointer-events-auto"},{default:Qt(()=>[we(He(m$),{class:"w-4 h-4 mr-2"}),he[12]||(he[12]=Ut(" Create New Diagram ",-1))]),_:1})]))]),sidebar:Qt(()=>[G("div",{class:"absolute left-0 top-0 bottom-0 w-1 cursor-col-resize z-50 -ml-0.5 hover:bg-indigo-500 transition-colors",onMousedown:Wt},null,32),G("div",$V,[G("div",BV,[G("button",{onClick:he[0]||(he[0]=De=>c.value="input"),class:Tt([c.value==="input"?"text-indigo-400 border-indigo-500":"text-slate-400 border-transparent hover:text-slate-200","flex-1 py-3 text-xs font-semibold uppercase border-b-2 transition-colors"])},"Input",2),G("button",{onClick:he[1]||(he[1]=De=>c.value="xml"),class:Tt([c.value==="xml"?"text-indigo-400 border-indigo-500":"text-slate-400 border-transparent hover:text-slate-200","flex-1 py-3 text-xs font-semibold uppercase border-b-2 transition-colors"])},"XML Editor",2)]),tn(G("div",FV,[G("div",jV,[tn(G("textarea",{"onUpdate:modelValue":he[2]||(he[2]=De=>d.value=De),onInput:J,class:"w-full h-full p-3 text-xs font-mono bg-slate-900 border border-slate-700 rounded text-slate-300 focus:ring-1 focus:ring-indigo-500 outline-none resize-none placeholder-slate-600",placeholder:"Paste extended script or gzip content..."},null,544),[[ln,d.value]]),g.value==="Decoded successfully"?(Le(),Ge("div",VV,[we(He(c1),{class:"w-4 h-4 text-emerald-500"})])):cn("",!0)]),G("div",{class:Tt(["mt-2 text-xs h-4",y.value==="error"?"text-pink-400":"text-emerald-400"])},pn(g.value),3)],512),[[Wm,c.value==="input"]]),tn(G("div",HV,[we(Hd,{title:"XML Editor",code:f.value,editable:!0,"onUpdate:code":he[3]||(he[3]=De=>{f.value=De,ce()})},null,8,["code"])],512),[[Wm,c.value==="xml"]])])]),default:Qt(()=>[C.value?(Le(),Ge("div",UV,[G("div",{class:"pointer-events-auto absolute top-4 bottom-4 w-80 bg-white dark:bg-slate-800 shadow-2xl border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden flex flex-col transition-all duration-300",style:mr({right:A.value+24+"px"})},[we(Y5,{title:T.value,subtitle:D.value},{"header-actions":Qt(()=>[...he[15]||(he[15]=[])]),default:Qt(()=>[G("div",zV,[we(Pi,{label:"ID",modelValue:N.value.id,"onUpdate:modelValue":he[4]||(he[4]=De=>N.value.id=De),onChange:Te},null,8,["modelValue"]),we(Pi,{label:"Name",modelValue:N.value.name,"onUpdate:modelValue":he[5]||(he[5]=De=>N.value.name=De),onChange:Te},null,8,["modelValue"]),$.value?(Le(),Ge("div",GV,[G("div",WV,[we(He(L5),{class:"w-3.5 h-3.5"}),he[16]||(he[16]=Ut()),he[17]||(he[17]=G("span",{class:"text-xs font-bold uppercase"},"Extended Logic",-1))]),we(Pi,{label:"Topic (Raw)",modelValue:N.value.topic,"onUpdate:modelValue":he[6]||(he[6]=De=>N.value.topic=De),onChange:Te,mono:"",class:"mb-2"},null,8,["modelValue"]),G("div",KV,[we(Pi,{label:"Script Name",modelValue:L.value.script,"onUpdate:modelValue":he[7]||(he[7]=De=>L.value.script=De),onInput:ot},null,8,["modelValue"]),we(Pi,{label:"Variable",modelValue:L.value.variable,"onUpdate:modelValue":he[8]||(he[8]=De=>L.value.variable=De),onInput:ot},null,8,["modelValue"])])])):cn("",!0),H.value?(Le(),Ge("div",XV,[G("div",YV,[we(He(G$),{class:"w-3.5 h-3.5"}),he[18]||(he[18]=Ut()),he[19]||(he[19]=G("span",{class:"text-xs font-bold uppercase"},"Form Config",-1))]),we(Pi,{label:"Form Key",modelValue:N.value.formKey,"onUpdate:modelValue":he[9]||(he[9]=De=>N.value.formKey=De),onChange:Te},null,8,["modelValue"]),G("div",ZV,[G("div",{class:"flex justify-between items-center mb-1"},[he[20]||(he[20]=G("label",{class:"text-xs font-bold text-slate-500"},"Roles",-1)),G("button",{onClick:Ye,class:"text-[10px] bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300"},"+ Add")]),G("div",JV,[(Le(!0),Ge(rn,null,Cr(N.value.roles,(De,at)=>(Le(),Ge("div",{key:at,class:"flex gap-1"},[tn(G("input",{type:"text","onUpdate:modelValue":St=>De.value=St,onChange:Xt,class:"flex-1 text-xs p-1 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded"},null,40,QV),[[ln,De.value]]),G("button",{onClick:St=>ie(at),class:"text-slate-400 hover:text-red-500"},[we(He(Ig),{class:"w-4 h-4"})],8,qV)]))),128)),N.value.roles.length===0?(Le(),Ge("p",eH,"No roles assigned")):cn("",!0)])])])):cn("",!0)]),G("div",tH,[he[26]||(he[26]=G("h4",{class:"text-xs font-bold text-slate-500 uppercase mb-2"},"Export / Controls",-1)),G("div",nH,[G("div",rH,[we(Pi,{modelValue:E.value,"onUpdate:modelValue":he[10]||(he[10]=De=>E.value=De),placeholder:"Filename",mono:""},null,8,["modelValue"]),he[21]||(he[21]=G("div",{class:"flex items-center text-xs text-slate-400"},".bpmn",-1))]),G("div",iH,[we(ri,{size:"sm",class:"flex-1",onClick:ve},{default:Qt(()=>[we(He(N5),{class:"w-3 h-3 mr-2"}),he[22]||(he[22]=Ut(" SVG",-1))]),_:1}),we(ri,{size:"sm",variant:"outline",class:"flex-1",onClick:fe},{default:Qt(()=>[we(He(_$),{class:"w-3 h-3 mr-2"}),he[23]||(he[23]=Ut(" XML",-1))]),_:1})]),we(Pi,{modelValue:b.value,"onUpdate:modelValue":he[11]||(he[11]=De=>b.value=De),label:"Target Object",mono:""},null,8,["modelValue"]),we(ri,{size:"sm",class:"w-full bg-emerald-600 hover:bg-emerald-500 text-white border-emerald-600",onClick:le},{default:Qt(()=>[we(He(P5),{class:"w-3 h-3 mr-2"}),he[24]||(he[24]=Ut(" Copy Script ",-1))]),_:1}),we(ri,{size:"sm",variant:"ghost",class:"w-full text-slate-400",onClick:re},{default:Qt(()=>[we(He(D5),{class:"w-3 h-3 mr-2"}),he[25]||(he[25]=Ut(" Reset All ",-1))]),_:1})])])]),_:1},8,["title","subtitle"])],4)])):cn("",!0)]),_:1},8,["sidebarStyle"]))}}),aH=Vd(oH,[["__scopeId","data-v-4f2acb6a"]]),sH={class:"p-3 bg-slate-100 dark:bg-slate-800 rounded-full mb-3"},lH=Vn({__name:"FileDropZone",emits:["drop"],setup(t,{emit:r}){const i=r,s=tt(!1);function c(g){g.preventDefault(),s.value=!1,g.dataTransfer?.files&&i("drop",g.dataTransfer.files)}function d(g){g.preventDefault(),s.value=!0}function f(g){g.preventDefault(),s.value=!1}return(g,y)=>(Le(),Ge("div",{onDrop:c,onDragover:d,onDragleave:f,class:Tt(["relative border-2 border-dashed rounded-xl flex flex-col items-center justify-center p-8 transition-colors cursor-pointer",[s.value?"border-cora-500 bg-cora-50 dark:bg-cora-500/10":"border-slate-200 dark:border-slate-700 hover:border-cora-400 hover:bg-slate-50 dark:hover:bg-slate-800"]])},[G("div",sH,[we(He(v$),{class:Tt(["w-6 h-6 text-slate-400",{"text-cora-500":s.value}])},null,8,["class"])]),y[1]||(y[1]=G("p",{class:"text-sm font-medium text-slate-700 dark:text-slate-300"}," Drag & Drop files here ",-1)),y[2]||(y[2]=G("p",{class:"text-xs text-slate-500 mt-1"}," or click to browse ",-1)),G("input",{type:"file",multiple:"",class:"absolute inset-0 opacity-0 cursor-pointer",onChange:y[0]||(y[0]=b=>i("drop",b.target.files))},null,32)],34))}}),cH={class:"flex flex-col h-full bg-grid-pattern overflow-hidden"},uH={class:"p-6 overflow-y-auto"},fH={class:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700 mb-6 flex items-center justify-between"},dH={class:"flex items-center gap-4"},pH={class:"space-y-3"},hH={key:0,class:"text-center py-12 text-slate-400 dark:text-slate-600 italic"},mH={class:"w-16 h-16 shrink-0 bg-slate-100 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700 overflow-hidden flex items-center justify-center"},gH=["src"],vH={class:"flex-grow min-w-0 grid grid-cols-2 gap-3"},yH=["onUpdate:modelValue"],bH=["onUpdate:modelValue"],xH={class:"flex flex-col items-end gap-2 shrink-0"},_H={key:0,class:"text-emerald-500 flex items-center text-xs font-bold"},EH={key:1,class:"text-pink-500 flex items-center text-xs font-bold"},wH={key:2,class:"text-indigo-500 text-xs font-bold animate-pulse"},SH={key:3,class:"text-slate-400 text-xs font-medium"},CH=["onClick"],TH={key:0},kH={key:1},AH=Vn({__name:"ImageUpload",setup(t){const{add:r}=lu(),i=tt([]),s=tt("vFolder"),c=tt(!1),d=tt(""),f=E=>{const w=Array.from(E).filter(C=>C.type.startsWith("image/"));w.forEach(C=>{if(!C)return;const $=(C.name.split(".")[0]||"image").replace(/[^a-zA-Z0-9_-]/g,"_");i.value.push({id:crypto.randomUUID(),file:C,name:$,scriptId:`img_${$}`,status:"pending",previewUrl:URL.createObjectURL(C),mimeType:C.type||"image/png",sizeLabel:(C.size/1024).toFixed(1)+" KB"})}),w.length===0&&(E instanceof FileList,E.length>0)&&r("No image files found in selection","info")},g=E=>{const w=i.value.find(C=>C.id===E);if(w){w.previewUrl&&URL.revokeObjectURL(w.previewUrl);const C=i.value.indexOf(w);i.value.splice(C,1)}},y=()=>{i.value.forEach(E=>{E.previewUrl&&URL.revokeObjectURL(E.previewUrl)}),i.value=[],d.value=""},b=async()=>{c.value=!0,d.value="";let E=0;const w=new Hg(`Image Upload Script (${i.value.length} files)`);for(const C of i.value)if(C.status!=="done"){C.status="processing";try{let T;if(C.file){const N=await C.file.arrayBuffer();T=new Uint8Array(N)}else throw new Error("URL processing not yet implemented");const D=await PV(T),$=$N(D),H=`${C.name};${C.mimeType};${$}`;w.callMethod(s.value,"add",{type:"FileResource",id:C.scriptId,name:C.name,content:H}),w.addNewLine(),C.status="done",E++}catch(T){console.error(T),C.status="error",w.addComment(`ERROR processing ${C.name}: ${T}`)}}d.value=w.toString(),c.value=!1,E>0?r(`Generated scripts for ${E} images`,"success"):r("No images successfully processed","error")};return(E,w)=>(Le(),Gn(Ug,{sidebarClass:"w-full md:w-1/3"},{main:Qt(()=>[G("div",cH,[G("div",uH,[w[6]||(w[6]=G("h2",{class:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-600 mb-6"},"Image Upload",-1)),we(lH,{onDrop:f,class:"mb-6 h-48",accept:"image/*",description:"Drag images here"}),G("div",fH,[G("div",dH,[w[1]||(w[1]=G("span",{class:"text-sm font-semibold text-slate-500"},"Target Folder Variable:",-1)),tn(G("input",{"onUpdate:modelValue":w[0]||(w[0]=C=>s.value=C),type:"text",autocomplete:"off",spellcheck:"false",class:"bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded px-3 py-1 text-sm font-mono focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none w-48"},null,512),[[ln,s.value]])]),i.value.length?(Le(),Ge("button",{key:0,onClick:y,class:"text-xs text-red-500 hover:text-red-600 font-medium px-2 py-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded"},"Clear All")):cn("",!0)]),G("div",pH,[i.value.length===0?(Le(),Ge("div",hH," Images to process will appear here... ")):cn("",!0),(Le(!0),Ge(rn,null,Cr(i.value,C=>(Le(),Ge("div",{key:C.id,class:"group flex items-center gap-4 p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm transition-all hover:border-indigo-300 dark:hover:border-indigo-700"},[G("div",mH,[C.previewUrl?(Le(),Ge("img",{key:0,src:C.previewUrl,class:"w-full h-full object-cover"},null,8,gH)):(Le(),Gn(He(Mg),{key:1,class:"w-6 h-6 text-slate-400"}))]),G("div",vH,[G("div",null,[w[2]||(w[2]=G("label",{class:"block text-[10px] font-bold text-slate-400 uppercase mb-0.5"},"Script ID",-1)),tn(G("input",{"onUpdate:modelValue":T=>C.scriptId=T,class:"w-full text-xs font-mono bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded px-2 py-1 focus:border-indigo-500 outline-none"},null,8,yH),[[ln,C.scriptId]])]),G("div",null,[w[3]||(w[3]=G("label",{class:"block text-[10px] font-bold text-slate-400 uppercase mb-0.5"},"Resource Name",-1)),tn(G("input",{"onUpdate:modelValue":T=>C.name=T,class:"w-full text-xs font-mono bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded px-2 py-1 focus:border-indigo-500 outline-none"},null,8,bH),[[ln,C.name]])])]),G("div",xH,[C.status==="done"?(Le(),Ge("div",_H,[we(He(c1),{class:"w-3 h-3 mr-1"}),w[4]||(w[4]=Ut(" DONE",-1))])):C.status==="error"?(Le(),Ge("div",EH,[we(He(A5),{class:"w-3 h-3 mr-1"}),w[5]||(w[5]=Ut(" ERROR",-1))])):C.status==="processing"?(Le(),Ge("div",wH,"PROCESSING...")):(Le(),Ge("div",SH,pn(C.sizeLabel),1)),G("button",{onClick:T=>g(C.id),class:"text-slate-400 hover:text-pink-500 p-1 rounded hover:bg-pink-50 dark:hover:bg-pink-900/20 transition-colors"},[we(He(Al),{class:"w-4 h-4"})],8,CH)])]))),128))]),i.value.length?(Le(),Gn(ri,{key:0,onClick:b,disabled:c.value,class:"mt-6 w-full py-4 text-base shadow-lg shadow-indigo-500/20"},{default:Qt(()=>[c.value?(Le(),Ge("span",TH,"Processing...")):(Le(),Ge("span",kH,"Generate Script Block"))]),_:1},8,["disabled"])):cn("",!0)])])]),sidebar:Qt(()=>[we(Hd,{title:"Output Script",code:d.value},null,8,["code"])]),_:1}))}});function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qm(t)}var RH=/^\s+/,PH=/\s+$/;function ft(t,r){if(t=t||"",r=r||{},t instanceof ft)return t;if(!(this instanceof ft))return new ft(t,r);var i=NH(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}ft.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},getLuminance:function(){var r=this.toRgb(),i,s,c,d,f,g;return i=r.r/255,s=r.g/255,c=r.b/255,i<=.03928?d=i/12.92:d=Math.pow((i+.055)/1.055,2.4),s<=.03928?f=s/12.92:f=Math.pow((s+.055)/1.055,2.4),c<=.03928?g=c/12.92:g=Math.pow((c+.055)/1.055,2.4),.2126*d+.7152*f+.0722*g},setAlpha:function(r){return this._a=BN(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=TA(this._r,this._g,this._b);return{h:r.h*360,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=TA(this._r,this._g,this._b),i=Math.round(r.h*360),s=Math.round(r.s*100),c=Math.round(r.v*100);return this._a==1?"hsv("+i+", "+s+"%, "+c+"%)":"hsva("+i+", "+s+"%, "+c+"%, "+this._roundA+")"},toHsl:function(){var r=CA(this._r,this._g,this._b);return{h:r.h*360,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=CA(this._r,this._g,this._b),i=Math.round(r.h*360),s=Math.round(r.s*100),c=Math.round(r.l*100);return this._a==1?"hsl("+i+", "+s+"%, "+c+"%)":"hsla("+i+", "+s+"%, "+c+"%, "+this._roundA+")"},toHex:function(r){return kA(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return IH(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Bn(this._r,255)*100)+"%",g:Math.round(Bn(this._g,255)*100)+"%",b:Math.round(Bn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Bn(this._r,255)*100)+"%, "+Math.round(Bn(this._g,255)*100)+"%, "+Math.round(Bn(this._b,255)*100)+"%)":"rgba("+Math.round(Bn(this._r,255)*100)+"%, "+Math.round(Bn(this._g,255)*100)+"%, "+Math.round(Bn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:KH[kA(this._r,this._g,this._b,!0)]||!1},toFilter:function(r){var i="#"+AA(this._r,this._g,this._b,this._a),s=i,c=this._gradientType?"GradientType = 1, ":"";if(r){var d=ft(r);s="#"+AA(d._r,d._g,d._b,d._a)}return"progid:DXImageTransform.Microsoft.gradient("+c+"startColorstr="+i+",endColorstr="+s+")"},toString:function(r){var i=!!r;r=r||this._format;var s=!1,c=this._a<1&&this._a>=0,d=!i&&c&&(r==="hex"||r==="hex6"||r==="hex3"||r==="hex4"||r==="hex8"||r==="name");return d?r==="name"&&this._a===0?this.toName():this.toRgbString():(r==="rgb"&&(s=this.toRgbString()),r==="prgb"&&(s=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(s=this.toHexString()),r==="hex3"&&(s=this.toHexString(!0)),r==="hex4"&&(s=this.toHex8String(!0)),r==="hex8"&&(s=this.toHex8String()),r==="name"&&(s=this.toName()),r==="hsl"&&(s=this.toHslString()),r==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},clone:function(){return ft(this.toString())},_applyModification:function(r,i){var s=r.apply(null,[this].concat([].slice.call(i)));return this._r=s._r,this._g=s._g,this._b=s._b,this.setAlpha(s._a),this},lighten:function(){return this._applyModification(FH,arguments)},brighten:function(){return this._applyModification(jH,arguments)},darken:function(){return this._applyModification(VH,arguments)},desaturate:function(){return this._applyModification(LH,arguments)},saturate:function(){return this._applyModification($H,arguments)},greyscale:function(){return this._applyModification(BH,arguments)},spin:function(){return this._applyModification(HH,arguments)},_applyCombination:function(r,i){return r.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(GH,arguments)},complement:function(){return this._applyCombination(UH,arguments)},monochromatic:function(){return this._applyCombination(WH,arguments)},splitcomplement:function(){return this._applyCombination(zH,arguments)},triad:function(){return this._applyCombination(RA,[3])},tetrad:function(){return this._applyCombination(RA,[4])}};ft.fromRatio=function(t,r){if(qm(t)=="object"){var i={};for(var s in t)t.hasOwnProperty(s)&&(s==="a"?i[s]=t[s]:i[s]=$f(t[s]));t=i}return ft(t,r)};function NH(t){var r={r:0,g:0,b:0},i=1,s=null,c=null,d=null,f=!1,g=!1;return typeof t=="string"&&(t=JH(t)),qm(t)=="object"&&(ua(t.r)&&ua(t.g)&&ua(t.b)?(r=OH(t.r,t.g,t.b),f=!0,g=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ua(t.h)&&ua(t.s)&&ua(t.v)?(s=$f(t.s),c=$f(t.v),r=DH(t.h,s,c),f=!0,g="hsv"):ua(t.h)&&ua(t.s)&&ua(t.l)&&(s=$f(t.s),d=$f(t.l),r=MH(t.h,s,d),f=!0,g="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=BN(i),{ok:f,format:t.format||g,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:i}}function OH(t,r,i){return{r:Bn(t,255)*255,g:Bn(r,255)*255,b:Bn(i,255)*255}}function CA(t,r,i){t=Bn(t,255),r=Bn(r,255),i=Bn(i,255);var s=Math.max(t,r,i),c=Math.min(t,r,i),d,f,g=(s+c)/2;if(s==c)d=f=0;else{var y=s-c;switch(f=g>.5?y/(2-s-c):y/(s+c),s){case t:d=(r-i)/y+(r<i?6:0);break;case r:d=(i-t)/y+2;break;case i:d=(t-r)/y+4;break}d/=6}return{h:d,s:f,l:g}}function MH(t,r,i){var s,c,d;t=Bn(t,360),r=Bn(r,100),i=Bn(i,100);function f(b,E,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?b+(E-b)*6*w:w<1/2?E:w<2/3?b+(E-b)*(2/3-w)*6:b}if(r===0)s=c=d=i;else{var g=i<.5?i*(1+r):i+r-i*r,y=2*i-g;s=f(y,g,t+1/3),c=f(y,g,t),d=f(y,g,t-1/3)}return{r:s*255,g:c*255,b:d*255}}function TA(t,r,i){t=Bn(t,255),r=Bn(r,255),i=Bn(i,255);var s=Math.max(t,r,i),c=Math.min(t,r,i),d,f,g=s,y=s-c;if(f=s===0?0:y/s,s==c)d=0;else{switch(s){case t:d=(r-i)/y+(r<i?6:0);break;case r:d=(i-t)/y+2;break;case i:d=(t-r)/y+4;break}d/=6}return{h:d,s:f,v:g}}function DH(t,r,i){t=Bn(t,360)*6,r=Bn(r,100),i=Bn(i,100);var s=Math.floor(t),c=t-s,d=i*(1-r),f=i*(1-c*r),g=i*(1-(1-c)*r),y=s%6,b=[i,f,d,d,g,i][y],E=[g,i,i,f,d,d][y],w=[d,d,g,i,i,f][y];return{r:b*255,g:E*255,b:w*255}}function kA(t,r,i,s){var c=[mo(Math.round(t).toString(16)),mo(Math.round(r).toString(16)),mo(Math.round(i).toString(16))];return s&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0):c.join("")}function IH(t,r,i,s,c){var d=[mo(Math.round(t).toString(16)),mo(Math.round(r).toString(16)),mo(Math.round(i).toString(16)),mo(FN(s))];return c&&d[0].charAt(0)==d[0].charAt(1)&&d[1].charAt(0)==d[1].charAt(1)&&d[2].charAt(0)==d[2].charAt(1)&&d[3].charAt(0)==d[3].charAt(1)?d[0].charAt(0)+d[1].charAt(0)+d[2].charAt(0)+d[3].charAt(0):d.join("")}function AA(t,r,i,s){var c=[mo(FN(s)),mo(Math.round(t).toString(16)),mo(Math.round(r).toString(16)),mo(Math.round(i).toString(16))];return c.join("")}ft.equals=function(t,r){return!t||!r?!1:ft(t).toRgbString()==ft(r).toRgbString()};ft.random=function(){return ft.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function LH(t,r){r=r===0?0:r||10;var i=ft(t).toHsl();return i.s-=r/100,i.s=zg(i.s),ft(i)}function $H(t,r){r=r===0?0:r||10;var i=ft(t).toHsl();return i.s+=r/100,i.s=zg(i.s),ft(i)}function BH(t){return ft(t).desaturate(100)}function FH(t,r){r=r===0?0:r||10;var i=ft(t).toHsl();return i.l+=r/100,i.l=zg(i.l),ft(i)}function jH(t,r){r=r===0?0:r||10;var i=ft(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(r/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(r/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(r/100)))),ft(i)}function VH(t,r){r=r===0?0:r||10;var i=ft(t).toHsl();return i.l-=r/100,i.l=zg(i.l),ft(i)}function HH(t,r){var i=ft(t).toHsl(),s=(i.h+r)%360;return i.h=s<0?360+s:s,ft(i)}function UH(t){var r=ft(t).toHsl();return r.h=(r.h+180)%360,ft(r)}function RA(t,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var i=ft(t).toHsl(),s=[ft(t)],c=360/r,d=1;d<r;d++)s.push(ft({h:(i.h+d*c)%360,s:i.s,l:i.l}));return s}function zH(t){var r=ft(t).toHsl(),i=r.h;return[ft(t),ft({h:(i+72)%360,s:r.s,l:r.l}),ft({h:(i+216)%360,s:r.s,l:r.l})]}function GH(t,r,i){r=r||6,i=i||30;var s=ft(t).toHsl(),c=360/i,d=[ft(t)];for(s.h=(s.h-(c*r>>1)+720)%360;--r;)s.h=(s.h+c)%360,d.push(ft(s));return d}function WH(t,r){r=r||6;for(var i=ft(t).toHsv(),s=i.h,c=i.s,d=i.v,f=[],g=1/r;r--;)f.push(ft({h:s,s:c,v:d})),d=(d+g)%1;return f}ft.mix=function(t,r,i){i=i===0?0:i||50;var s=ft(t).toRgb(),c=ft(r).toRgb(),d=i/100,f={r:(c.r-s.r)*d+s.r,g:(c.g-s.g)*d+s.g,b:(c.b-s.b)*d+s.b,a:(c.a-s.a)*d+s.a};return ft(f)};ft.readability=function(t,r){var i=ft(t),s=ft(r);return(Math.max(i.getLuminance(),s.getLuminance())+.05)/(Math.min(i.getLuminance(),s.getLuminance())+.05)};ft.isReadable=function(t,r,i){var s=ft.readability(t,r),c,d;switch(d=!1,c=QH(i),c.level+c.size){case"AAsmall":case"AAAlarge":d=s>=4.5;break;case"AAlarge":d=s>=3;break;case"AAAsmall":d=s>=7;break}return d};ft.mostReadable=function(t,r,i){var s=null,c=0,d,f,g,y;i=i||{},f=i.includeFallbackColors,g=i.level,y=i.size;for(var b=0;b<r.length;b++)d=ft.readability(t,r[b]),d>c&&(c=d,s=ft(r[b]));return ft.isReadable(t,s,{level:g,size:y})||!f?s:(i.includeFallbackColors=!1,ft.mostReadable(t,["#fff","#000"],i))};var Sx=ft.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},KH=ft.hexNames=XH(Sx);function XH(t){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[t[i]]=i);return r}function BN(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Bn(t,r){YH(t)&&(t="100%");var i=ZH(t);return t=Math.min(r,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*r,10)/100),Math.abs(t-r)<1e-6?1:t%r/parseFloat(r)}function zg(t){return Math.min(1,Math.max(0,t))}function Ti(t){return parseInt(t,16)}function YH(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function ZH(t){return typeof t=="string"&&t.indexOf("%")!=-1}function mo(t){return t.length==1?"0"+t:""+t}function $f(t){return t<=1&&(t=t*100+"%"),t}function FN(t){return Math.round(parseFloat(t)*255).toString(16)}function PA(t){return Ti(t)/255}var uo=(function(){var t="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",i="(?:"+r+")|(?:"+t+")",s="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",c="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function ua(t){return!!uo.CSS_UNIT.exec(t)}function JH(t){t=t.replace(RH,"").replace(PH,"").toLowerCase();var r=!1;if(Sx[t])t=Sx[t],r=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=uo.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=uo.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=uo.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=uo.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=uo.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=uo.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=uo.hex8.exec(t))?{r:Ti(i[1]),g:Ti(i[2]),b:Ti(i[3]),a:PA(i[4]),format:r?"name":"hex8"}:(i=uo.hex6.exec(t))?{r:Ti(i[1]),g:Ti(i[2]),b:Ti(i[3]),format:r?"name":"hex"}:(i=uo.hex4.exec(t))?{r:Ti(i[1]+""+i[1]),g:Ti(i[2]+""+i[2]),b:Ti(i[3]+""+i[3]),a:PA(i[4]+""+i[4]),format:r?"name":"hex8"}:(i=uo.hex3.exec(t))?{r:Ti(i[1]+""+i[1]),g:Ti(i[2]+""+i[2]),b:Ti(i[3]+""+i[3]),format:r?"name":"hex"}:!1}function QH(t){var r,i;return t=t||{level:"AA",size:"small"},r=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:r,size:i}}const qH=Vn({__name:"ColorMatrix",props:{hue:{},saturation:{},value:{},hex:{}},emits:["update"],setup(t,{emit:r}){const i=t,s=r,c=tt(null),d=tt(null),f=tt(!1),g=()=>{const C=c.value?.getContext("2d");if(!C||!c.value)return;const T=c.value.width,D=c.value.height;C.clearRect(0,0,T,D);const $=C.createLinearGradient(0,0,T,0);$.addColorStop(0,"#fff"),$.addColorStop(1,`hsl(${i.hue}, 100%, 50%)`),C.fillStyle=$,C.fillRect(0,0,T,D);const H=C.createLinearGradient(0,0,0,D);H.addColorStop(0,"rgba(0,0,0,0)"),H.addColorStop(1,"#000"),C.fillStyle=H,C.fillRect(0,0,T,D)},y=C=>{if(!d.value)return;const T=d.value.getBoundingClientRect();let D=C.clientX-T.left,$=C.clientY-T.top;D=Math.max(0,Math.min(D,T.width)),$=Math.max(0,Math.min($,T.height));const H=D/T.width*100,N=100-$/T.height*100;s("update",H,N)},b=C=>{f.value=!0,y(C),window.addEventListener("mousemove",E),window.addEventListener("mouseup",w)},E=C=>{f.value&&y(C)},w=()=>{f.value=!1,window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",w)};return Uo(()=>{c.value&&(c.value.width=300,c.value.height=300,g())}),Ei(()=>i.hue,g),(C,T)=>(Le(),Ge("div",{class:"flex-1 relative rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden cursor-crosshair shadow-sm",ref_key:"container",ref:d,onMousedown:gd(b,["prevent"])},[G("canvas",{ref_key:"canvas",ref:c,class:"w-full h-full block"},null,512),G("div",{class:"absolute w-3 h-3 rounded-full border-2 border-white shadow-sm ring-1 ring-black/20 pointer-events-none -translate-x-1/2 -translate-y-1/2",style:mr({left:`${t.saturation}%`,top:`${100-t.value}%`,backgroundColor:t.hex})},null,4)],544))}}),eU=t=>{const i=ft(t).toHsl(),s=[];return[50,100,200,300,400,500,600,700,800,900].forEach(d=>{let f=i.l,g=i.s;if(d<500){const b=(500-d)/450;f=Math.min(1,f+b*(1-f)*.9),g=Math.max(0,g-b*.1)}else if(d>500){const b=(d-500)/400;f=Math.max(0,f-b*f*.8),g=Math.min(1,g+b*.1)}const y=ft({h:i.h,s:g,l:f}).toHexString().toUpperCase();s.push({name:`Color ${d}`,hex:y})}),s},tU=t=>{const i=ft(t).toHsl().h,s=[];for(let c=0;c<6;c++){const d=(i+c*60)%360,f=ft({h:d,s:.4,l:.8}).toHexString().toUpperCase();s.push({name:`Pastel ${c+1}`,hex:f})}return s},nU=t=>{const r=[];for(let s=0;s<8;s++){const c=s/7,d=ft.mix(t,"#000000",c*80).toHexString().toUpperCase();r.push({name:`Shade ${s+1}`,hex:d})}return r},rU=(t,r,i)=>{const s=[];for(let c=0;c<i;c++){const d=c/(i-1),f=ft.mix(t,r,d*100).toHexString().toUpperCase();s.push({name:`Step ${c+1}`,hex:f})}return s},iU={class:"p-6 bg-white/90 dark:bg-slate-900/95 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 z-10 sticky top-0"},oU={class:"flex items-start justify-between gap-6"},aU={class:"flex-1 space-y-3"},sU={class:"flex items-center gap-2"},lU={class:"flex-1 overflow-y-auto p-6"},cU={class:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4"},uU=["onClick"],fU=["onClick"],dU=["onUpdate:modelValue"],pU={class:"block text-[10px] font-mono text-slate-400 uppercase"},hU={class:"flex border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900"},mU=["onClick"],gU={class:"flex-1 overflow-y-auto p-6 relative"},vU={key:0,class:"h-full flex flex-col"},yU={key:0,class:"flex-1 flex flex-col items-center justify-center text-slate-400"},bU={key:1,class:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300"},xU={class:"flex gap-4 h-64 mb-6 select-none"},_U={class:"space-y-2 mb-6"},EU={class:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-wider"},wU={class:"space-y-2 mb-6"},SU={class:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-wider"},CU={class:"flex gap-4"},TU={class:"flex-1 space-y-4"},kU={class:"flex items-center gap-2"},AU={class:"flex gap-2 text-xs font-mono"},RU={class:"flex-1 bg-slate-50 dark:bg-slate-900 rounded px-2 py-1 border border-slate-200 dark:border-slate-700"},PU={class:"flex-1 bg-slate-50 dark:bg-slate-900 rounded px-2 py-1 border border-slate-200 dark:border-slate-700"},NU={class:"flex-1 bg-slate-50 dark:bg-slate-900 rounded px-2 py-1 border border-slate-200 dark:border-slate-700"},OU={class:"pt-4 border-t border-slate-200 dark:border-slate-700"},MU={key:1,class:"space-y-6"},DU={class:"space-y-3"},IU={key:0,class:"p-3 bg-slate-100 dark:bg-slate-800 rounded-lg flex items-center gap-3"},LU={class:"text-xs font-bold"},$U={key:1,class:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 space-y-4"},BU={class:"flex items-center gap-4"},FU={class:"flex justify-between text-[10px] font-bold text-slate-500 mb-1"},jU={key:2,class:"text-center py-8 text-slate-400 text-xs italic"},VU={key:3,class:"space-y-4"},HU={class:"space-y-2"},UU={class:"flex-1"},zU={class:"text-xs font-bold"},GU={class:"text-[10px] font-mono text-slate-400"},WU={key:2,class:"space-y-6"},KU={class:"pt-6 border-t border-slate-200 dark:border-slate-700 space-y-3"},XU={class:"grid grid-cols-1 gap-2"},YU={href:"https://coolors.co/",target:"_blank",class:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition-colors text-xs font-bold text-slate-600 dark:text-slate-300"},ZU={href:"https://color.adobe.com/create/color-wheel",target:"_blank",class:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition-colors text-xs font-bold text-slate-600 dark:text-slate-300"},JU={href:"https://colorhunt.co/",target:"_blank",class:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition-colors text-xs font-bold text-slate-600 dark:text-slate-300"},QU={key:3,class:"h-full flex flex-col"},qU={class:"w-40"},ez=Vn({__name:"ColorsetBuilder",setup(t){const{add:r}=lu(),i=tt("dashboards_colors_folder"),s=tt("New Palette"),c=tt(""),d=tt([{id:"",name:"Color Name",hex:"#EF4444"},{id:"",name:"Color Name",hex:"#EAB308"},{id:"",name:"Color Name",hex:"#22C55E"}]),f=tt("studio"),g=tt(-1),y=tt("#EF4444"),b=tt(0),E=tt(100),w=tt(100),C=tt({r:239,g:68,b:68}),T=tt(null),D=tt(!1),$=tt("scale"),H=tt([]),N=tt("#EF4444"),L=tt("#3B82F6"),M=tt(5);Ei(g,fe=>{if(fe!==-1){const pe=d.value[fe];pe&&(A(pe.hex),J())}});const A=fe=>{y.value=fe;const pe=ft(fe),Te=pe.toHsv();b.value=Te.h,E.value=Te.s*100,w.value=Te.v*100;const ot=pe.toRgb();C.value={r:ot.r,g:ot.g,b:ot.b}},z=fe=>{fe.length===7&&(A(fe),Q())},Z=()=>{const fe=ft({h:b.value,s:E.value/100,v:w.value/100}),pe=fe.toHexString().toUpperCase();y.value=pe;const Te=fe.toRgb();C.value={r:Te.r,g:Te.g,b:Te.b},Q()},te=()=>{const fe=ft({r:C.value.r,g:C.value.g,b:C.value.b}),pe=fe.toHexString().toUpperCase();y.value=pe;const Te=fe.toHsv();b.value=Te.h,E.value=Te.s*100,w.value=Te.v*100,Q()},ee=(fe,pe)=>{E.value=fe,w.value=pe,Z()},W=fe=>{if(!T.value)return;const pe=T.value.getBoundingClientRect(),Te=Math.max(0,Math.min(fe.clientY-pe.top,pe.height));b.value=Te/pe.height*360,Z()};Uo(()=>{window.addEventListener("mousemove",fe=>{D.value&&W(fe)}),window.addEventListener("mouseup",()=>{D.value=!1})});const Q=()=>{if(g.value===-1)return;const fe=d.value[g.value];fe&&((fe.name.startsWith("#")||fe.name===fe.hex)&&(fe.name=y.value),fe.hex=y.value,J())},oe=()=>{d.value.push({id:"",name:"Color Name",hex:"#64748B"}),g.value=d.value.length-1,f.value="studio"},re=fe=>{d.value.splice(fe,1),g.value===fe?g.value=-1:g.value>fe&&g.value--},J=()=>{if(H.value=[],$.value==="interpolate"){const Te=rU(N.value,L.value,M.value);H.value=Te;return}const fe=d.value[g.value];if(g.value===-1||!fe)return;const pe=fe.hex;$.value==="scale"?H.value=eU(pe):$.value==="pastel"?H.value=tU(pe):$.value==="shades"&&(H.value=nU(pe))},ce=()=>{H.value.forEach(fe=>{d.value.push({id:"color_"+fe.hex.replace("#","").toLowerCase(),name:fe.name,hex:fe.hex})}),r(`Added ${H.value.length} generated colors`,"success"),f.value="studio"},ue=Mn(()=>{const fe=i.value||"t",pe=new Hg(`Set: ${s.value}`);return pe.createObjectVar("targetFolder",fe,"Folder",{id:c.value,name:s.value}),pe.addNewLine(),d.value.forEach(Te=>{pe.createObject("targetFolder","Color",{id:Te.id,name:Te.name,color:Te.hex})}),pe.toString()}),le=tt(""),ve=()=>{const fe=le.value.split(`
`);let pe=0;fe.forEach(Te=>{const ot=Te.match(/#[a-fA-F0-9]{6}/);if(ot){const Ye=ot[0].toUpperCase();d.value.push({id:"color_"+Ye.replace("#","").toLowerCase(),name:Ye,hex:Ye}),pe++}}),r(`Imported ${pe} colors`,"info"),le.value="",f.value="studio"};return(fe,pe)=>(Le(),Gn(Ug,{sidebarClass:"lg:w-[45%]"},{main:Qt(()=>[G("div",iU,[G("div",oU,[G("div",aU,[tn(G("input",{"onUpdate:modelValue":pe[0]||(pe[0]=Te=>s.value=Te),class:"text-3xl font-extrabold bg-transparent border-b border-dashed border-slate-300 hover:border-slate-400 focus:border-indigo-500 focus:border-solid outline-none placeholder-slate-400 w-full transition-colors",placeholder:"Palette Name"},null,512),[[ln,s.value]]),G("div",sU,[pe[19]||(pe[19]=G("span",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"ID",-1)),tn(G("input",{"onUpdate:modelValue":pe[1]||(pe[1]=Te=>c.value=Te),class:"text-sm font-mono text-purple-600 dark:text-purple-400 bg-transparent border-b border-dashed border-slate-300 hover:border-slate-400 focus:border-indigo-500 focus:border-solid outline-none transition-colors"},null,512),[[ln,c.value]])])]),G("button",{onClick:oe,class:"flex items-center gap-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-4 py-2 rounded-full font-bold text-xs shadow-lg hover:scale-105 transition-transform"},[we(He(kl),{class:"w-4 h-4"}),pe[20]||(pe[20]=Ut(" New Color ",-1))])])]),G("div",lU,[G("div",cU,[(Le(!0),Ge(rn,null,Cr(d.value,(Te,ot)=>(Le(),Ge("div",{key:ot,onClick:Ye=>g.value=ot,class:Tt([{"ring-2 ring-indigo-500 shadow-xl scale-[1.02]":g.value===ot,"hover:scale-[1.01]":g.value!==ot},"bg-white dark:bg-slate-800 rounded-xl p-3 border border-slate-200 dark:border-slate-700 cursor-pointer transition-all duration-200 group relative"])},[G("div",{style:mr({backgroundColor:Te.hex}),class:"h-20 rounded-lg shadow-inner mb-3 relative overflow-hidden"},[G("button",{onClick:gd(Ye=>re(ot),["stop"]),class:"absolute top-1 right-1 bg-black/50 text-white p-1 rounded opacity-0 group-hover:opacity-100 hover:bg-red-500 transition-all"},[we(He(Al),{class:"w-3 h-3"})],8,fU)],4),tn(G("input",{"onUpdate:modelValue":Ye=>Te.name=Ye,onClick:pe[2]||(pe[2]=gd(()=>{},["stop"])),class:"w-full bg-transparent text-xs font-bold mb-1 border-none p-0 focus:ring-0"},null,8,dU),[[ln,Te.name]]),G("span",pU,pn(Te.hex),1)],10,uU))),128))])])]),sidebar:Qt(()=>[G("div",hU,[(Le(),Ge(rn,null,Cr(["studio","generate","import","script"],Te=>G("button",{key:Te,onClick:ot=>f.value=Te,class:Tt([f.value===Te?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-slate-400 hover:text-slate-600","flex-1 py-3 text-[10px] font-bold uppercase tracking-wider border-b-2 transition-colors"])},pn(Te),11,mU)),64))]),G("div",gU,[f.value==="studio"?(Le(),Ge("div",vU,[g.value===-1?(Le(),Ge("div",yU,[we(He(Dg),{class:"w-12 h-12 mb-4 opacity-50"}),pe[21]||(pe[21]=G("p",{class:"text-xs uppercase font-bold tracking-widest"},"Select a color to edit",-1))])):(Le(),Ge("div",bU,[G("div",xU,[we(qH,{hue:b.value,saturation:E.value,value:w.value,hex:y.value,onUpdate:ee},null,8,["hue","saturation","value","hex"]),G("div",{class:"w-8 relative rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden cursor-ns-resize",ref_key:"hueContainer",ref:T,onMousedown:pe[3]||(pe[3]=Te=>{D.value=!0,Te.preventDefault(),W(Te)}),style:{background:"linear-gradient(to bottom, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)"}},[G("div",{class:"absolute left-0 right-0 h-1.5 bg-white border border-slate-400 rounded-sm shadow-sm pointer-events-none -translate-y-1/2",style:mr({top:`${b.value/360*100}%`})},null,4)],544)]),G("div",_U,[G("div",EU,[G("span",null,"Saturation ("+pn(Math.round(E.value))+"%)",1)]),tn(G("input",{type:"range","onUpdate:modelValue":pe[4]||(pe[4]=Te=>E.value=Te),min:"0",max:"100",onInput:Z,class:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"},null,544),[[ln,E.value,void 0,{number:!0}]])]),G("div",wU,[G("div",SU,[G("span",null,"Brightness ("+pn(Math.round(w.value))+"%)",1)]),tn(G("input",{type:"range","onUpdate:modelValue":pe[5]||(pe[5]=Te=>w.value=Te),min:"0",max:"100",onInput:Z,class:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"},null,544),[[ln,w.value,void 0,{number:!0}]])]),G("div",CU,[G("div",{class:"w-20 h-20 rounded-xl shadow-lg border border-slate-200 dark:border-slate-600 shrink-0",style:mr({backgroundColor:y.value})},null,4),G("div",TU,[G("div",kU,[tn(G("input",{"onUpdate:modelValue":pe[6]||(pe[6]=Te=>y.value=Te),onInput:pe[7]||(pe[7]=Te=>z(Te.target.value)),class:"text-3xl font-mono font-medium bg-transparent border-b border-slate-300 dark:border-slate-600 w-full focus:outline-none focus:border-indigo-500 uppercase",maxlength:"7"},null,544),[[ln,y.value]])]),G("div",AU,[G("div",RU,[pe[22]||(pe[22]=G("label",{class:"block text-[8px] font-bold text-slate-400"},"R",-1)),tn(G("input",{"onUpdate:modelValue":pe[8]||(pe[8]=Te=>C.value.r=Te),onInput:te,class:"w-full bg-transparent border-none p-0 focus:ring-0",type:"number",min:"0",max:"255"},null,544),[[ln,C.value.r,void 0,{number:!0}]])]),G("div",PU,[pe[23]||(pe[23]=G("label",{class:"block text-[8px] font-bold text-slate-400"},"G",-1)),tn(G("input",{"onUpdate:modelValue":pe[9]||(pe[9]=Te=>C.value.g=Te),onInput:te,class:"w-full bg-transparent border-none p-0 focus:ring-0",type:"number",min:"0",max:"255"},null,544),[[ln,C.value.g,void 0,{number:!0}]])]),G("div",NU,[pe[24]||(pe[24]=G("label",{class:"block text-[8px] font-bold text-slate-400"},"B",-1)),tn(G("input",{"onUpdate:modelValue":pe[10]||(pe[10]=Te=>C.value.b=Te),onInput:te,class:"w-full bg-transparent border-none p-0 focus:ring-0",type:"number",min:"0",max:"255"},null,544),[[ln,C.value.b,void 0,{number:!0}]])])])])]),G("div",OU,[pe[25]||(pe[25]=G("label",{class:"text-[10px] uppercase font-bold text-slate-400 block mb-2"},"Metadata",-1)),d.value[g.value]?(Le(),Gn(Pi,{key:0,label:"Name",modelValue:d.value[g.value].name,"onUpdate:modelValue":pe[11]||(pe[11]=Te=>d.value[g.value].name=Te),onChange:Q,class:"mb-3"},null,8,["modelValue"])):cn("",!0),d.value[g.value]?(Le(),Gn(Pi,{key:1,label:"ID",modelValue:d.value[g.value].id,"onUpdate:modelValue":pe[12]||(pe[12]=Te=>d.value[g.value].id=Te),mono:""},null,8,["modelValue"])):cn("",!0)])]))])):cn("",!0),f.value==="generate"?(Le(),Ge("div",MU,[G("div",DU,[pe[27]||(pe[27]=G("label",{class:"text-[10px] uppercase font-bold text-slate-400 tracking-wider"},"Strategy",-1)),tn(G("select",{"onUpdate:modelValue":pe[13]||(pe[13]=Te=>$.value=Te),onChange:J,class:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"},[...pe[26]||(pe[26]=[G("option",{value:"scale"},"Material Scale (100-900)",-1),G("option",{value:"pastel"},"Pastel Variations",-1),G("option",{value:"shades"},"Deep Shades",-1),G("option",{value:"interpolate"},"Range Interpolation",-1)])],544),[[l1,$.value]])]),g.value!==-1&&d.value[g.value]?(Le(),Ge("div",IU,[G("div",{class:"w-10 h-10 rounded shadow-sm",style:mr({backgroundColor:d.value[g.value]?.hex})},null,4),G("div",null,[pe[28]||(pe[28]=G("span",{class:"text-[10px] uppercase font-bold text-slate-400"},"Base Color",-1)),G("div",LU,pn(d.value[g.value]?.name),1)])])):cn("",!0),$.value==="interpolate"?(Le(),Ge("div",$U,[G("div",BU,[tn(G("input",{type:"color","onUpdate:modelValue":pe[14]||(pe[14]=Te=>N.value=Te),onInput:J,class:"h-8 w-8 rounded cursor-pointer border-none p-0"},null,544),[[ln,N.value]]),we(He(p$),{class:"w-4 h-4 text-slate-400"}),tn(G("input",{type:"color","onUpdate:modelValue":pe[15]||(pe[15]=Te=>L.value=Te),onInput:J,class:"h-8 w-8 rounded cursor-pointer border-none p-0"},null,544),[[ln,L.value]])]),G("div",null,[G("div",FU,[pe[29]||(pe[29]=G("span",null,"Steps",-1)),pe[30]||(pe[30]=Ut()),G("span",null,pn(M.value),1)]),tn(G("input",{type:"range","onUpdate:modelValue":pe[16]||(pe[16]=Te=>M.value=Te),min:"3",max:"12",onInput:J,class:"w-full accent-indigo-500"},null,544),[[ln,M.value,void 0,{number:!0}]])])])):cn("",!0),g.value===-1&&$.value!=="interpolate"?(Le(),Ge("div",jU," Select a base color in the grid to generate variations. ")):(Le(),Ge("div",VU,[pe[32]||(pe[32]=G("div",{class:"flex justify-between items-center text-[10px] font-bold text-slate-400 uppercase"},[G("span",null,"Preview")],-1)),G("div",HU,[(Le(!0),Ge(rn,null,Cr(H.value,(Te,ot)=>(Le(),Ge("div",{key:ot,class:"flex items-center gap-3 p-2 bg-slate-50 dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700"},[G("div",{class:"w-8 h-8 rounded shadow-sm",style:mr({backgroundColor:Te.hex})},null,4),G("div",UU,[G("div",zU,pn(Te.name),1),G("div",GU,pn(Te.hex),1)])]))),128))]),we(ri,{class:"w-full",onClick:ce},{default:Qt(()=>[we(He(d1),{class:"w-4 h-4 mr-2"}),pe[31]||(pe[31]=Ut(" Add Colors",-1))]),_:1})]))])):cn("",!0),f.value==="import"?(Le(),Ge("div",WU,[pe[38]||(pe[38]=G("p",{class:"text-xs text-slate-500"},"Paste text containing hex codes (e.g. from Coolors, Figma, CSS).",-1)),tn(G("textarea",{"onUpdate:modelValue":pe[17]||(pe[17]=Te=>le.value=Te),class:"w-full h-48 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl p-4 font-mono text-xs focus:ring-2 focus:ring-indigo-500/20 outline-none resize-none",placeholder:`#FF0000
#00FF00
...`},null,512),[[ln,le.value]]),we(ri,{class:"w-full",onClick:ve},{default:Qt(()=>[...pe[33]||(pe[33]=[Ut("Import Found Colors",-1)])]),_:1}),G("div",KU,[pe[37]||(pe[37]=G("label",{class:"text-[10px] uppercase font-bold text-slate-400"},"External Tools",-1)),G("div",XU,[G("a",YU,[pe[34]||(pe[34]=Ut(" Coolors.co ",-1)),we(He(fb),{class:"w-3 h-3"})]),G("a",ZU,[pe[35]||(pe[35]=Ut(" Adobe Color ",-1)),we(He(fb),{class:"w-3 h-3"})]),G("a",JU,[pe[36]||(pe[36]=Ut(" Color Hunt ",-1)),we(He(fb),{class:"w-3 h-3"})])])])])):cn("",!0),f.value==="script"?(Le(),Ge("div",QU,[we(Hd,{title:"Generated Script",code:ue.value},{actions:Qt(()=>[G("div",qU,[tn(G("input",{"onUpdate:modelValue":pe[18]||(pe[18]=Te=>i.value=Te),placeholder:"Context Folder",class:"w-full text-xs border-b border-slate-200 dark:border-slate-700 bg-transparent focus:border-indigo-500 outline-none pb-1 placeholder-slate-400"},null,512),[[ln,i.value]])])]),_:1},8,["code"])])):cn("",!0)])]),_:1}))}}),lm=()=>crypto.randomUUID(),tz={class:"absolute top-0 left-0 right-0 z-20 px-6 py-4 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800 flex justify-between items-center"},nz={class:"flex items-center gap-6"},rz={class:"flex flex-col relative"},iz={class:"flex items-center gap-1 mb-1"},oz={key:0,class:"absolute top-0 left-full ml-2 w-64 p-4 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 z-50 text-xs"},az={class:"flex items-center gap-2 text-xs font-bold bg-slate-100 dark:bg-slate-800 rounded p-1"},sz={class:"flex items-center gap-3"},lz={class:"flex-1 overflow-y-auto p-8 pt-28 pb-32 space-y-8"},cz={class:"bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 p-4 flex justify-between items-center group/ts"},uz={class:"flex items-center gap-3"},fz=["onUpdate:modelValue"],dz=["onClick"],pz={class:"p-6 bg-slate-50/50 dark:bg-slate-900/30"},hz={class:"flex border-b border-slate-200 dark:border-slate-700 gap-1 mb-6"},mz={class:"text-xs font-bold text-slate-600 dark:text-slate-300"},gz=["onClick"],vz=["onClick"],yz={class:"space-y-8"},bz={class:"flex items-center gap-2 mb-4"},xz=["onUpdate:modelValue"],_z={class:"space-y-4"},Ez=["onClick"],wz={class:"h-20 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm flex overflow-hidden"},Sz={class:"absolute top-1 right-1 flex gap-1 opacity-0 group-hover/col:opacity-100 transition-opacity z-10 bg-white dark:bg-slate-800 rounded shadow-sm border border-slate-200 dark:border-slate-700 p-0.5"},Cz=["onClick"],Tz=["onClick"],kz=["onClick"],Az={class:"text-2xl font-black text-slate-500 dark:text-slate-600 group-hover/col:text-indigo-200 dark:group-hover/col:text-indigo-800 select-none"},Rz=["onUpdate:modelValue"],Pz=["onClick"],Nz=["onClick"],Oz={class:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30"},Mz=Vn({__name:"LayoutBuilder",setup(t){const r=tt("swi_folder"),i=tt("mirror"),s=tt([]),c=tt(!1),d=()=>{const H=s.value.length,N={id:lm(),type:"TabSet",name:"Tab Set",varName:"ts_"+(H+1),children:[]};s.value.push(N),f(N)},f=H=>{const N=H.children.length,L={id:lm(),type:"Tab",name:"Tab "+(N+1),varName:"tab_"+(N+1),children:[]};H.children.push(L),g(L)},g=H=>{const N=H.children.length,L={id:lm(),type:"Row",name:"Row "+(N+1),varName:"row_"+(N+1),children:[]};H.children.push(L)},y=H=>{const L=6-H.children.reduce((z,Z)=>z+Z.width,0);if(L<1)return;const M=L>2?2:L,A=H.children.length;H.children.push({id:lm(),type:"Col",name:`[W${M}]Container`,varName:"col_"+(A+1),width:M})},b=(H,N,L)=>{const M=H.children[N];if(!M)return;const A=M.width;let z=A;const te=6-H.children.reduce((ee,W)=>ee+W.width,0);if(L>0)if(te>=L)z+=L;else{const ee=H.children[N+1];if(ee&&ee.width>1)E(ee,ee.width-L),ee.width-=L,z+=L;else{const W=H.children[N-1];W&&W.width>1&&(E(W,W.width-L),W.width-=L,z+=L)}}else M.width>1&&(z+=L);z!==A&&(M.width=z,E(M,z))},E=(H,N)=>{const L=/^\[W\d+\]/;L.test(H.name)&&(H.name=H.name.replace(L,`[W${N}]`))},w=H=>s.value.splice(H,1),C=(H,N)=>H.children.splice(N,1),T=(H,N)=>H.children.splice(N,1),D=(H,N)=>H.children.splice(N,1),$=Mn(()=>{let H=r.value||"swi_folder";!H.startsWith("t.")&&!H.startsWith("root.")&&!H.startsWith("this.")&&(H="t."+H);const N=new Hg("LAYOUT GENERATED BY CORA");return N.assign("vRoot",H),N.addNewLine(),s.value.forEach(L=>{N.addComment(`--- TabSet: ${L.name} ---`),N.assignAdd(L.varName,"vRoot","TabSet",{name:L.name}),L.children.forEach(M=>{N.addNewLine(),N.indent(),N.addComment(`Tab: ${M.name}`),N.assignAdd(M.varName,L.varName,"Tab",{name:M.name}),M.children.forEach(A=>{N.indent(),N.assignAdd(A.varName,M.varName,"Container",{name:A.name,columnsLargeScreen:6,columnsMediumScreen:6,columnsSmallScreen:6}),A.children.forEach(z=>{let Z=z.width,te=Z,ee=6;i.value==="grid"?ee=Z<=3?3:6:i.value==="mirror"&&(ee=Z),N.indent(),N.assignAdd(z.varName,A.varName,"Container",{name:z.name,columnsLargeScreen:Z,columnsMediumScreen:te,columnsSmallScreen:ee}),N.outdent()}),N.outdent()}),N.outdent()}),N.addNewLine()}),N.toString()});return s.value.length===0&&d(),(H,N)=>(Le(),Gn(Ug,{sidebarClass:"w-80"},{main:Qt(()=>[N[19]||(N[19]=G("div",{class:"md:hidden border-b border-slate-200 dark:border-slate-800 p-4 bg-white dark:bg-slate-900 overflow-x-auto whitespace-nowrap"},null,-1)),G("div",tz,[G("div",nz,[G("div",rz,[G("div",iz,[N[8]||(N[8]=G("label",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"Mobile Strategy",-1)),G("button",{onClick:N[0]||(N[0]=L=>c.value=!c.value),class:"text-slate-400 hover:text-indigo-500 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors p-0.5"},[we(He(R5),{class:"w-3 h-3"})]),c.value?(Le(),Ge("div",oz,[N[6]||(N[6]=G("h4",{class:"font-bold text-slate-700 dark:text-slate-200 mb-2"},"Strategy Guide",-1)),N[7]||(N[7]=G("ul",{class:"space-y-2 text-slate-500"},[G("li",null,[G("strong",{class:"text-indigo-500"},"Mirror:"),Ut(" Mobile layout exactly matches desktop widths.")]),G("li",null,[G("strong",{class:"text-indigo-500"},"Stack:"),Ut(" All items become full width (12 cols) on mobile.")]),G("li",null,[G("strong",{class:"text-indigo-500"},"Grid:"),Ut(" Items smaller than 50% become 50% width, others full width.")])],-1)),G("button",{onClick:N[1]||(N[1]=L=>c.value=!1),class:"mt-3 text-[10px] font-bold text-slate-400 hover:text-slate-600 underline"},"Close")])):cn("",!0)]),G("div",az,[G("button",{onClick:N[2]||(N[2]=L=>i.value="mirror"),class:Tt([i.value==="mirror"?"bg-white dark:bg-slate-600 shadow-sm text-indigo-600 dark:text-indigo-300":"text-slate-400","px-3 py-1 rounded transition-colors flex items-center gap-1"])},[we(He(I$),{class:"w-3 h-3"}),N[9]||(N[9]=Ut(" Mirror",-1))],2),G("button",{onClick:N[3]||(N[3]=L=>i.value="stack"),class:Tt([i.value==="stack"?"bg-white dark:bg-slate-600 shadow-sm text-indigo-600 dark:text-indigo-300":"text-slate-400","px-3 py-1 rounded transition-colors flex items-center gap-1"])},[we(He(F$),{class:"w-3 h-3"}),N[10]||(N[10]=Ut(" Stack",-1))],2),G("button",{onClick:N[4]||(N[4]=L=>i.value="grid"),class:Tt([i.value==="grid"?"bg-white dark:bg-slate-600 shadow-sm text-indigo-600 dark:text-indigo-300":"text-slate-400","px-3 py-1 rounded transition-colors flex items-center gap-1"])},[we(He($$),{class:"w-3 h-3"}),N[11]||(N[11]=Ut(" Grid",-1))],2)])])]),G("div",sz,[N[12]||(N[12]=G("span",{class:"text-xs font-bold text-slate-400 uppercase"},"Context: t.",-1)),tn(G("input",{"onUpdate:modelValue":N[5]||(N[5]=L=>r.value=L),class:"bg-transparent border-b border-slate-300 dark:border-slate-700 w-32 text-xs font-mono font-medium focus:outline-none focus:border-indigo-500"},null,512),[[ln,r.value]])])]),G("div",lz,[(Le(!0),Ge(rn,null,Cr(s.value,(L,M)=>(Le(),Ge("div",{key:L.id,class:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden ring-1 ring-black/5"},[G("div",cz,[G("div",uz,[we(He(E$),{class:"w-4 h-4 text-indigo-500"}),N[13]||(N[13]=G("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-widest"},"TabSet",-1)),tn(G("input",{"onUpdate:modelValue":A=>L.name=A,class:"bg-transparent text-sm font-bold text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 rounded px-2 -ml-2 hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors"},null,8,fz),[[ln,L.name]])]),G("button",{onClick:A=>w(M),class:"text-slate-300 hover:text-red-500 opacity-0 group-hover/ts:opacity-100 transition-opacity"},[we(He(Al),{class:"w-4 h-4"})],8,dz)]),G("div",pz,[G("div",hz,[(Le(!0),Ge(rn,null,Cr(L.children,(A,z)=>(Le(),Ge("div",{key:A.id,class:"relative group/tabbtn px-4 py-2 bg-white dark:bg-slate-800 rounded-t-lg border-t border-x border-slate-200 dark:border-slate-700 -mb-px flex items-center gap-2 shadow-sm"},[G("span",mz,pn(A.name),1),G("button",{onClick:Z=>C(L,z),class:"opacity-0 group-hover/tabbtn:opacity-100 text-slate-300 hover:text-red-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full p-0.5"},[we(He(Ig),{class:"w-3 h-3"})],8,gz)]))),128)),G("button",{onClick:A=>f(L),class:"px-3 py-2 text-slate-400 hover:text-indigo-500"},[we(He(kl),{class:"w-4 h-4"})],8,vz)]),G("div",yz,[(Le(!0),Ge(rn,null,Cr(L.children,A=>(Le(),Ge("div",{key:A.id,class:"pl-4 border-l-2 border-indigo-200 dark:border-indigo-900"},[G("div",bz,[N[14]||(N[14]=G("span",{class:"text-[10px] font-bold text-indigo-400 uppercase tracking-widest"},"Page:",-1)),tn(G("input",{"onUpdate:modelValue":z=>A.name=z,class:"bg-transparent border border-transparent hover:border-slate-200 dark:hover:border-slate-700 rounded px-2 py-0.5 text-xs font-bold text-slate-700 dark:text-slate-300 focus:outline-none focus:border-indigo-500 w-full max-w-xs"},null,8,xz),[[ln,A.name]])]),G("div",_z,[(Le(!0),Ge(rn,null,Cr(A.children,(z,Z)=>(Le(),Ge("div",{key:z.id,class:"group/row relative pl-8"},[G("button",{onClick:te=>T(A,Z),class:"absolute left-0 top-1/2 -translate-y-1/2 p-1 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded opacity-0 group-hover/row:opacity-100 transition-opacity"},[we(He(Al),{class:"w-4 h-4"})],8,Ez),G("div",wz,[(Le(!0),Ge(rn,null,Cr(z.children,(te,ee)=>(Le(),Ge("div",{key:te.id,style:mr({flex:`${te.width} 1 0%`}),class:"relative border-r border-slate-100 dark:border-slate-700 group/col hover:bg-indigo-50 dark:hover:bg-indigo-900/10 transition-colors flex flex-col justify-center items-center p-2"},[G("div",Sz,[G("button",{onClick:W=>b(z,ee,-1),class:"w-5 h-5 flex items-center justify-center text-slate-500 hover:text-indigo-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded"},[we(He(M$),{class:"w-3 h-3"})],8,Cz),G("button",{onClick:W=>b(z,ee,1),class:"w-5 h-5 flex items-center justify-center text-slate-500 hover:text-indigo-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded"},[we(He(O$),{class:"w-3 h-3"})],8,Tz),G("button",{onClick:W=>D(z,ee),class:"w-5 h-5 flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded"},[we(He(Al),{class:"w-3 h-3"})],8,kz)]),G("span",Az,pn(te.width),1),tn(G("input",{"onUpdate:modelValue":W=>te.name=W,class:"w-full text-center bg-transparent text-[10px] font-bold text-slate-500 border-none p-0 focus:ring-0"},null,8,Rz),[[ln,te.name]])],4))),128)),z.children.reduce((te,ee)=>te+ee.width,0)<6?(Le(),Ge("button",{key:0,style:mr({flex:`${6-z.children.reduce((te,ee)=>te+ee.width,0)} 1 0%`}),onClick:te=>y(z),class:"border-2 border-dashed border-slate-200 dark:border-slate-700 hover:border-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/10 flex flex-col items-center justify-center text-slate-300 hover:text-indigo-500 transition-all group/add"},[we(He(kl),{class:"w-6 h-6 mb-1 group-hover/add:scale-110 transition-transform"}),N[15]||(N[15]=G("span",{class:"text-[9px] uppercase font-bold tracking-widest opacity-0 group-hover/add:opacity-100"},"Add",-1))],12,Pz)):cn("",!0)])]))),128)),G("button",{onClick:z=>g(A),class:"text-xs font-bold text-slate-400 hover:text-indigo-500 flex items-center gap-2 pl-8 py-2"},[we(He(T$),{class:"w-4 h-4"}),N[16]||(N[16]=Ut(" Add Row ",-1))],8,Nz)])]))),128))])])]))),128)),N[17]||(N[17]=G("div",{class:"h-20"},null,-1))]),G("div",Oz,[G("button",{onClick:d,class:"bg-indigo-600 hover:bg-indigo-500 text-white pl-4 pr-6 py-3 rounded-full shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex items-center gap-2 font-bold text-sm"},[we(He(kl),{class:"w-5 h-5"}),N[18]||(N[18]=Ut(" New TabSet ",-1))])])]),sidebar:Qt(()=>[we(Hd,{title:"Code Output",code:$.value},null,8,["code"])]),_:1}))}});var wm={exports:{}},Nb={exports:{}},Ob={};const qc=Symbol(""),Hc=Symbol(""),Gg=Symbol(""),Td=Symbol(""),S1=Symbol(""),Is=Symbol(""),C1=Symbol(""),T1=Symbol(""),Wg=Symbol(""),Kg=Symbol(""),du=Symbol(""),Xg=Symbol(""),k1=Symbol(""),Yg=Symbol(""),Zg=Symbol(""),Jg=Symbol(""),Qg=Symbol(""),qg=Symbol(""),ev=Symbol(""),A1=Symbol(""),R1=Symbol(""),Xd=Symbol(""),kd=Symbol(""),tv=Symbol(""),nv=Symbol(""),eu=Symbol(""),pu=Symbol(""),rv=Symbol(""),eg=Symbol(""),jN=Symbol(""),tg=Symbol(""),Ad=Symbol(""),VN=Symbol(""),HN=Symbol(""),iv=Symbol(""),UN=Symbol(""),zN=Symbol(""),ov=Symbol(""),P1=Symbol(""),$l={[qc]:"Fragment",[Hc]:"Teleport",[Gg]:"Suspense",[Td]:"KeepAlive",[S1]:"BaseTransition",[Is]:"openBlock",[C1]:"createBlock",[T1]:"createElementBlock",[Wg]:"createVNode",[Kg]:"createElementVNode",[du]:"createCommentVNode",[Xg]:"createTextVNode",[k1]:"createStaticVNode",[Yg]:"resolveComponent",[Zg]:"resolveDynamicComponent",[Jg]:"resolveDirective",[Qg]:"resolveFilter",[qg]:"withDirectives",[ev]:"renderList",[A1]:"renderSlot",[R1]:"createSlots",[Xd]:"toDisplayString",[kd]:"mergeProps",[tv]:"normalizeClass",[nv]:"normalizeStyle",[eu]:"normalizeProps",[pu]:"guardReactiveProps",[rv]:"toHandlers",[eg]:"camelize",[jN]:"capitalize",[tg]:"toHandlerKey",[Ad]:"setBlockTracking",[VN]:"pushScopeId",[HN]:"popScopeId",[iv]:"withCtx",[UN]:"unref",[zN]:"isRef",[ov]:"withMemo",[P1]:"isMemoSame"};function GN(t){Object.getOwnPropertySymbols(t).forEach(r=>{$l[r]=t[r]})}const Dz={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},Iz={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},Lz={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},$z={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},_r={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function WN(t,r=""){return{type:0,source:r,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:_r}}function tu(t,r,i,s,c,d,f,g=!1,y=!1,b=!1,E=_r){return t&&(g?(t.helper(Is),t.helper(jl(t.inSSR,b))):t.helper(Fl(t.inSSR,b)),f&&t.helper(qg)),{type:13,tag:r,props:i,children:s,patchFlag:c,dynamicProps:d,directives:f,isBlock:g,disableTracking:y,isComponent:b,loc:E}}function Ms(t,r=_r){return{type:17,loc:r,elements:t}}function Mi(t,r=_r){return{type:15,loc:r,properties:t}}function ur(t,r){return{type:16,loc:_r,key:Pt(t)?Vt(t,!0):t,value:r}}function Vt(t,r=!1,i=_r,s=0){return{type:4,loc:i,content:t,isStatic:r,constType:r?3:s}}function Bz(t,r){return{type:5,loc:r,content:Pt(t)?Vt(t,!1,r):t}}function qi(t,r=_r){return{type:8,loc:r,children:t}}function hr(t,r=[],i=_r){return{type:14,loc:i,callee:t,arguments:r}}function Bl(t,r=void 0,i=!1,s=!1,c=_r){return{type:18,params:t,returns:r,newline:i,isSlot:s,loc:c}}function ng(t,r,i,s=!0){return{type:19,test:t,consequent:r,alternate:i,newline:s,loc:_r}}function KN(t,r,i=!1,s=!1){return{type:20,index:t,value:r,needPauseTracking:i,inVOnce:s,needArraySpread:!1,loc:_r}}function XN(t){return{type:21,body:t,loc:_r}}function Fz(t){return{type:22,elements:t,loc:_r}}function jz(t,r,i){return{type:23,test:t,consequent:r,alternate:i,loc:_r}}function Vz(t,r){return{type:24,left:t,right:r,loc:_r}}function Hz(t){return{type:25,expressions:t,loc:_r}}function Uz(t){return{type:26,returns:t,loc:_r}}function Fl(t,r){return t||r?Wg:Kg}function jl(t,r){return t||r?C1:T1}function av(t,{helper:r,removeHelper:i,inSSR:s}){t.isBlock||(t.isBlock=!0,i(Fl(s,t.isComponent)),r(Is),r(jl(s,t.isComponent)))}const NA=new Uint8Array([123,123]),OA=new Uint8Array([125,125]);function MA(t){return t>=97&&t<=122||t>=65&&t<=90}function Ni(t){return t===32||t===10||t===9||t===12||t===13}function ps(t){return t===47||t===62||Ni(t)}function rg(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}const Vr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class zz{constructor(r,i){this.stack=r,this.cbs=i,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=NA,this.delimiterClose=OA,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=NA,this.delimiterClose=OA}getPos(r){let i=1,s=r+1;const c=this.newlines.length;let d=-1;if(c>100){let f=-1,g=c;for(;f+1<g;){const y=f+g>>>1;this.newlines[y]<r?f=y:g=y}d=f}else for(let f=c-1;f>=0;f--)if(r>this.newlines[f]){d=f;break}return d>=0&&(i=d+2,s=r-this.newlines[d]),{column:s,line:i,offset:r}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(r){r===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&r===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(r))}stateInterpolationOpen(r){if(r===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const i=this.index+1-this.delimiterOpen.length;i>this.sectionStart&&this.cbs.ontext(this.sectionStart,i),this.state=3,this.sectionStart=i}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(r)):(this.state=1,this.stateText(r))}stateInterpolation(r){r===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(r))}stateInterpolationClose(r){r===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(r))}stateSpecialStartSequence(r){const i=this.sequenceIndex===this.currentSequence.length;if(!(i?ps(r):(r|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!i){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(r)}stateInRCDATA(r){if(this.sequenceIndex===this.currentSequence.length){if(r===62||Ni(r)){const i=this.index-this.currentSequence.length;if(this.sectionStart<i){const s=this.index;this.index=i,this.cbs.ontext(this.sectionStart,i),this.index=s}this.sectionStart=i+2,this.stateInClosingTagName(r),this.inRCDATA=!1;return}this.sequenceIndex=0}(r|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Vr.TitleEnd||this.currentSequence===Vr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&r===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(r)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(r===60)}stateCDATASequence(r){r===Vr.Cdata[this.sequenceIndex]?++this.sequenceIndex===Vr.Cdata.length&&(this.state=28,this.currentSequence=Vr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(r))}fastForwardTo(r){for(;++this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);if(i===10&&this.newlines.push(this.index),i===r)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(r){r===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Vr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):r!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(r,i){this.enterRCDATA(r,i),this.state=31}enterRCDATA(r,i){this.inRCDATA=!0,this.currentSequence=r,this.sequenceIndex=i}stateBeforeTagName(r){r===33?(this.state=22,this.sectionStart=this.index+1):r===63?(this.state=24,this.sectionStart=this.index+1):MA(r)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:r===116?this.state=30:this.state=r===115?29:6):r===47?this.state=8:(this.state=1,this.stateText(r))}stateInTagName(r){ps(r)&&this.handleTagName(r)}stateInSFCRootTagName(r){if(ps(r)){const i=this.buffer.slice(this.sectionStart,this.index);i!=="template"&&this.enterRCDATA(rg("</"+i),0),this.handleTagName(r)}}handleTagName(r){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(r)}stateBeforeClosingTagName(r){Ni(r)||(r===62?(this.state=1,this.sectionStart=this.index+1):(this.state=MA(r)?9:27,this.sectionStart=this.index))}stateInClosingTagName(r){(r===62||Ni(r))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(r))}stateAfterClosingTagName(r){r===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(r){r===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):r===47?this.state=7:r===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Ni(r)||this.handleAttrStart(r)}handleAttrStart(r){r===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):r===46||r===58||r===64||r===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(r){r===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Ni(r)||(this.state=11,this.stateBeforeAttrName(r))}stateInAttrName(r){(r===61||ps(r))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(r))}stateInDirName(r){r===61||ps(r)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(r)):r===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):r===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(r){r===61||ps(r)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(r)):r===91?this.state=15:r===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(r){r===93?this.state=14:(r===61||ps(r))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(r))}stateInDirModifier(r){r===61||ps(r)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(r)):r===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(r){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(r)}stateAfterAttrName(r){r===61?this.state=18:r===47||r===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(r)):Ni(r)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(r))}stateBeforeAttrValue(r){r===34?(this.state=19,this.sectionStart=this.index+1):r===39?(this.state=20,this.sectionStart=this.index+1):Ni(r)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(r))}handleInAttrValue(r,i){(r===i||this.fastForwardTo(i))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(r){this.handleInAttrValue(r,34)}stateInAttrValueSingleQuotes(r){this.handleInAttrValue(r,39)}stateInAttrValueNoQuotes(r){Ni(r)||r===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(r)):(r===39||r===60||r===61||r===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(r){r===91?(this.state=26,this.sequenceIndex=0):this.state=r===45?25:23}stateInDeclaration(r){(r===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(r){(r===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(r){r===45?(this.state=28,this.currentSequence=Vr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(r){(r===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(r){r===Vr.ScriptEnd[3]?this.startSpecial(Vr.ScriptEnd,4):r===Vr.StyleEnd[3]?this.startSpecial(Vr.StyleEnd,4):(this.state=6,this.stateInTagName(r))}stateBeforeSpecialT(r){r===Vr.TitleEnd[3]?this.startSpecial(Vr.TitleEnd,4):r===Vr.TextareaEnd[3]?this.startSpecial(Vr.TextareaEnd,4):(this.state=6,this.stateInTagName(r))}startEntity(){}stateInEntity(){}parse(r){for(this.buffer=r;this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);switch(i===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(i);break}case 2:{this.stateInterpolationOpen(i);break}case 3:{this.stateInterpolation(i);break}case 4:{this.stateInterpolationClose(i);break}case 31:{this.stateSpecialStartSequence(i);break}case 32:{this.stateInRCDATA(i);break}case 26:{this.stateCDATASequence(i);break}case 19:{this.stateInAttrValueDoubleQuotes(i);break}case 12:{this.stateInAttrName(i);break}case 13:{this.stateInDirName(i);break}case 14:{this.stateInDirArg(i);break}case 15:{this.stateInDynamicDirArg(i);break}case 16:{this.stateInDirModifier(i);break}case 28:{this.stateInCommentLike(i);break}case 27:{this.stateInSpecialComment(i);break}case 11:{this.stateBeforeAttrName(i);break}case 6:{this.stateInTagName(i);break}case 34:{this.stateInSFCRootTagName(i);break}case 9:{this.stateInClosingTagName(i);break}case 5:{this.stateBeforeTagName(i);break}case 17:{this.stateAfterAttrName(i);break}case 20:{this.stateInAttrValueSingleQuotes(i);break}case 18:{this.stateBeforeAttrValue(i);break}case 8:{this.stateBeforeClosingTagName(i);break}case 10:{this.stateAfterClosingTagName(i);break}case 29:{this.stateBeforeSpecialS(i);break}case 30:{this.stateBeforeSpecialT(i);break}case 21:{this.stateInAttrValueNoQuotes(i);break}case 7:{this.stateInSelfClosingTag(i);break}case 23:{this.stateInDeclaration(i);break}case 22:{this.stateBeforeDeclaration(i);break}case 25:{this.stateBeforeComment(i);break}case 24:{this.stateInProcessingInstruction(i);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const r=this.buffer.length;this.sectionStart>=r||(this.state===28?this.currentSequence===Vr.CdataEnd?this.cbs.oncdata(this.sectionStart,r):this.cbs.oncomment(this.sectionStart,r):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,r))}emitCodePoint(r,i){}}const Gz={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},Wz={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:t=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${t}.sync\` should be changed to \`v-model:${t}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Cx(t,{compatConfig:r}){const i=r&&r[t];return t==="MODE"?i||3:i}function Rl(t,r){const i=Cx("MODE",r),s=Cx(t,r);return i===3?s===!0:s!==!1}function nu(t,r,i,...s){return Rl(t,r)}function Kz(t,r,i,...s){if(Cx(t,r)==="suppress-warning")return;const{message:d,link:f}=Wz[t],g=`(deprecation ${t}) ${typeof d=="function"?d(...s):d}${f?`
  Details: ${f}`:""}`,y=new SyntaxError(g);y.code=t,i&&(y.loc=i),r.onWarn(y)}function N1(t){throw t}function YN(t){}function Tn(t,r,i,s){const c=`https://vuejs.org/error-reference/#compiler-${t}`,d=new SyntaxError(String(c));return d.code=t,d.loc=r,d}const Xz={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_V_MODEL_ON_CONST:45,45:"X_V_MODEL_ON_CONST",X_INVALID_EXPRESSION:46,46:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:47,47:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:48,48:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:49,49:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:50,50:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:51,51:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:52,52:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:53,53:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:54,54:"__EXTEND_POINT__"},Yz={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",53:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"v-model cannot be used on a const binding because it is not writable.",46:"Error parsing JavaScript expression: ",47:"<KeepAlive> expects exactly one child component.",52:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",48:'"prefixIdentifiers" option is not supported in this build of compiler.',49:"ES module mode is not supported in this build of compiler.",50:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',51:'"scopeId" option is only supported in module mode.',54:""};function Zz(t,r,i=!1,s=[],c=Object.create(null)){}function Jz(t,r,i){return!1}function Qz(t,r){if(t&&(t.type==="ObjectProperty"||t.type==="ArrayPattern")){let i=r.length;for(;i--;){const s=r[i];if(s.type==="AssignmentExpression")return!0;if(s.type!=="ObjectProperty"&&!s.type.endsWith("Pattern"))break}}return!1}function qz(t){let r=t.length;for(;r--;){const i=t[r];if(i.type==="NewExpression")return!0;if(i.type!=="MemberExpression")break}return!1}function eG(t,r){for(const i of t.params)for(const s of Lo(i))r(s)}function ZN(t,r){const i=t.type==="SwitchCase"?t.consequent:t.body;for(const s of i)if(s.type==="VariableDeclaration"){if(s.declare)continue;for(const c of s.declarations)for(const d of Lo(c.id))r(d)}else if(s.type==="FunctionDeclaration"||s.type==="ClassDeclaration"){if(s.declare||!s.id)continue;r(s.id)}else tG(s)?nG(s,!0,r):s.type==="SwitchStatement"&&rG(s,!0,r)}function tG(t){return t.type==="ForOfStatement"||t.type==="ForInStatement"||t.type==="ForStatement"}function nG(t,r,i){const s=t.type==="ForStatement"?t.init:t.left;if(s&&s.type==="VariableDeclaration"&&(s.kind==="var"?r:!r))for(const c of s.declarations)for(const d of Lo(c.id))i(d)}function rG(t,r,i){for(const s of t.cases){for(const c of s.consequent)if(c.type==="VariableDeclaration"&&(c.kind==="var"?r:!r))for(const d of c.declarations)for(const f of Lo(d.id))i(f);ZN(s,i)}}function Lo(t,r=[]){switch(t.type){case"Identifier":r.push(t);break;case"MemberExpression":let i=t;for(;i.type==="MemberExpression";)i=i.object;r.push(i);break;case"ObjectPattern":for(const s of t.properties)s.type==="RestElement"?Lo(s.argument,r):Lo(s.value,r);break;case"ArrayPattern":t.elements.forEach(s=>{s&&Lo(s,r)});break;case"RestElement":Lo(t.argument,r);break;case"AssignmentPattern":Lo(t.left,r);break}return r}const iG=t=>/Function(?:Expression|Declaration)$|Method$/.test(t.type),JN=t=>t&&(t.type==="ObjectProperty"||t.type==="ObjectMethod")&&!t.computed,oG=(t,r)=>JN(r)&&r.key===t,QN=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function qN(t){return QN.includes(t.type)?qN(t.expression):t}const si=t=>t.type===4&&t.isStatic;function O1(t){switch(t){case"Teleport":case"teleport":return Hc;case"Suspense":case"suspense":return Gg;case"KeepAlive":case"keep-alive":return Td;case"BaseTransition":case"base-transition":return S1}}const aG=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Yd=t=>!aG.test(t),M1=/[A-Za-z_$\xA0-\uFFFF]/,sG=/[\.\?\w$\xA0-\uFFFF]/,lG=/\s+[.[]\s*|\s*[.[]\s+/g,e3=t=>t.type===4?t.content:t.loc.source,t3=t=>{const r=e3(t).trim().replace(lG,g=>g.trim());let i=0,s=[],c=0,d=0,f=null;for(let g=0;g<r.length;g++){const y=r.charAt(g);switch(i){case 0:if(y==="[")s.push(i),i=1,c++;else if(y==="(")s.push(i),i=2,d++;else if(!(g===0?M1:sG).test(y))return!1;break;case 1:y==="'"||y==='"'||y==="`"?(s.push(i),i=3,f=y):y==="["?c++:y==="]"&&(--c||(i=s.pop()));break;case 2:if(y==="'"||y==='"'||y==="`")s.push(i),i=3,f=y;else if(y==="(")d++;else if(y===")"){if(g===r.length-1)return!1;--d||(i=s.pop())}break;case 3:y===f&&(i=s.pop(),f=null);break}}return!c&&!d},cG=Tr,D1=t3,uG=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,n3=t=>uG.test(e3(t)),fG=Tr,r3=n3;function dG(t,r,i=r.length){return i3({offset:t.offset,line:t.line,column:t.column},r,i)}function i3(t,r,i=r.length){let s=0,c=-1;for(let d=0;d<i;d++)r.charCodeAt(d)===10&&(s++,c=d);return t.offset+=i,t.line+=s,t.column=c===-1?t.column+i:i-c,t}function pG(t,r){if(!t)throw new Error(r||"unexpected compiler condition")}function oi(t,r,i=!1){for(let s=0;s<t.props.length;s++){const c=t.props[s];if(c.type===7&&(i||c.exp)&&(Pt(r)?c.name===r:r.test(c.name)))return c}}function Zd(t,r,i=!1,s=!1){for(let c=0;c<t.props.length;c++){const d=t.props[c];if(d.type===6){if(i)continue;if(d.name===r&&(d.value||s))return d}else if(d.name==="bind"&&(d.exp||s)&&Ts(d.arg,r))return d}}function Ts(t,r){return!!(t&&si(t)&&t.content===r)}function o3(t){return t.props.some(r=>r.type===7&&r.name==="bind"&&(!r.arg||r.arg.type!==4||!r.arg.isStatic))}function Sm(t){return t.type===5||t.type===2}function Tx(t){return t.type===7&&t.name==="pre"}function I1(t){return t.type===7&&t.name==="slot"}function ru(t){return t.type===1&&t.tagType===3}function Rd(t){return t.type===1&&t.tagType===2}const hG=new Set([eu,pu]);function a3(t,r=[]){if(t&&!Pt(t)&&t.type===14){const i=t.callee;if(!Pt(i)&&hG.has(i))return a3(t.arguments[0],r.concat(t))}return[t,r]}function Pd(t,r,i){let s,c=t.type===13?t.props:t.arguments[2],d=[],f;if(c&&!Pt(c)&&c.type===14){const g=a3(c);c=g[0],d=g[1],f=d[d.length-1]}if(c==null||Pt(c))s=Mi([r]);else if(c.type===14){const g=c.arguments[0];!Pt(g)&&g.type===15?DA(r,g)||g.properties.unshift(r):c.callee===rv?s=hr(i.helper(kd),[Mi([r]),c]):c.arguments.unshift(Mi([r])),!s&&(s=c)}else c.type===15?(DA(r,c)||c.properties.unshift(r),s=c):(s=hr(i.helper(kd),[Mi([r]),c]),f&&f.callee===pu&&(f=d[d.length-2]));t.type===13?f?f.arguments[0]=s:t.props=s:f?f.arguments[0]=s:t.arguments[2]=s}function DA(t,r){let i=!1;if(t.key.type===4){const s=t.key.content;i=r.properties.some(c=>c.key.type===4&&c.key.content===s)}return i}function iu(t,r){return`_${r}_${t.replace(/[^\w]/g,(i,s)=>i==="-"?"_":t.charCodeAt(s).toString())}`}function fo(t,r){if(!t||Object.keys(r).length===0)return!1;switch(t.type){case 1:for(let i=0;i<t.props.length;i++){const s=t.props[i];if(s.type===7&&(fo(s.arg,r)||fo(s.exp,r)))return!0}return t.children.some(i=>fo(i,r));case 11:return fo(t.source,r)?!0:t.children.some(i=>fo(i,r));case 9:return t.branches.some(i=>fo(i,r));case 10:return fo(t.condition,r)?!0:t.children.some(i=>fo(i,r));case 4:return!t.isStatic&&Yd(t.content)&&!!r[t.content];case 8:return t.children.some(i=>hn(i)&&fo(i,r));case 5:case 12:return fo(t.content,r);case 2:case 3:case 20:return!1;default:return!1}}function s3(t){return t.type===14&&t.callee===ov?t.arguments[1].returns:t}const l3=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/;function L1(t){for(let r=0;r<t.length;r++)if(!Ni(t.charCodeAt(r)))return!1;return!0}function sv(t){return t.type===2&&L1(t.content)||t.type===12&&sv(t.content)}function $1(t){return t.type===3||sv(t)}const c3={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:pl,isPreTag:pl,isIgnoreNewlineTag:pl,isCustomElement:pl,onError:N1,onWarn:YN,comments:!1,prefixIdentifiers:!1};let yn=c3,Nd=null,Sa="",zr=null,on=null,gi="",da=-1,fl=-1,B1=0,_s=!1,kx=null;const $n=[],rr=new zz($n,{onerr:fa,ontext(t,r){cm(Ir(t,r),t,r)},ontextentity(t,r,i){cm(t,r,i)},oninterpolation(t,r){if(_s)return cm(Ir(t,r),t,r);let i=t+rr.delimiterOpen.length,s=r-rr.delimiterClose.length;for(;Ni(Sa.charCodeAt(i));)i++;for(;Ni(Sa.charCodeAt(s-1));)s--;let c=Ir(i,s);c.includes("&")&&(c=yn.decodeEntities(c,!1)),Ax({type:5,content:Tm(c,!1,lr(i,s)),loc:lr(t,r)})},onopentagname(t,r){const i=Ir(t,r);zr={type:1,tag:i,ns:yn.getNamespace(i,$n[0],yn.ns),tagType:0,props:[],children:[],loc:lr(t-1,r),codegenNode:void 0}},onopentagend(t){LA(t)},onclosetag(t,r){const i=Ir(t,r);if(!yn.isVoidTag(i)){let s=!1;for(let c=0;c<$n.length;c++)if($n[c].tag.toLowerCase()===i.toLowerCase()){s=!0,c>0&&fa(24,$n[0].loc.start.offset);for(let f=0;f<=c;f++){const g=$n.shift();Cm(g,r,f<c)}break}s||fa(23,u3(t,60))}},onselfclosingtag(t){const r=zr.tag;zr.isSelfClosing=!0,LA(t),$n[0]&&$n[0].tag===r&&Cm($n.shift(),t)},onattribname(t,r){on={type:6,name:Ir(t,r),nameLoc:lr(t,r),value:void 0,loc:lr(t)}},ondirname(t,r){const i=Ir(t,r),s=i==="."||i===":"?"bind":i==="@"?"on":i==="#"?"slot":i.slice(2);if(!_s&&s===""&&fa(26,t),_s||s==="")on={type:6,name:i,nameLoc:lr(t,r),value:void 0,loc:lr(t)};else if(on={type:7,name:s,rawName:i,exp:void 0,arg:void 0,modifiers:i==="."?[Vt("prop")]:[],loc:lr(t)},s==="pre"){_s=rr.inVPre=!0,kx=zr;const c=zr.props;for(let d=0;d<c.length;d++)c[d].type===7&&(c[d]=SG(c[d]))}},ondirarg(t,r){if(t===r)return;const i=Ir(t,r);if(_s&&!Tx(on))on.name+=i,yl(on.nameLoc,r);else{const s=i[0]!=="[";on.arg=Tm(s?i:i.slice(1,-1),s,lr(t,r),s?3:0)}},ondirmodifier(t,r){const i=Ir(t,r);if(_s&&!Tx(on))on.name+="."+i,yl(on.nameLoc,r);else if(on.name==="slot"){const s=on.arg;s&&(s.content+="."+i,yl(s.loc,r))}else{const s=Vt(i,!0,lr(t,r));on.modifiers.push(s)}},onattribdata(t,r){gi+=Ir(t,r),da<0&&(da=t),fl=r},onattribentity(t,r,i){gi+=t,da<0&&(da=r),fl=i},onattribnameend(t){const r=on.loc.start.offset,i=Ir(r,t);on.type===7&&(on.rawName=i),zr.props.some(s=>(s.type===7?s.rawName:s.name)===i)&&fa(2,r)},onattribend(t,r){if(zr&&on){if(yl(on.loc,r),t!==0)if(gi.includes("&")&&(gi=yn.decodeEntities(gi,!0)),on.type===6)on.name==="class"&&(gi=d3(gi).trim()),t===1&&!gi&&fa(13,r),on.value={type:2,content:gi,loc:t===1?lr(da,fl):lr(da-1,fl+1)},rr.inSFCRoot&&zr.tag==="template"&&on.name==="lang"&&gi&&gi!=="html"&&rr.enterRCDATA(rg("</template"),0);else{let i=0;on.exp=Tm(gi,!1,lr(da,fl),0,i),on.name==="for"&&(on.forParseResult=gG(on.exp));let s=-1;on.name==="bind"&&(s=on.modifiers.findIndex(c=>c.content==="sync"))>-1&&nu("COMPILER_V_BIND_SYNC",yn,on.loc,on.arg.loc.source)&&(on.name="model",on.modifiers.splice(s,1))}(on.type!==7||on.name!=="pre")&&zr.props.push(on)}gi="",da=fl=-1},oncomment(t,r){yn.comments&&Ax({type:3,content:Ir(t,r),loc:lr(t-4,r+3)})},onend(){const t=Sa.length;for(let r=0;r<$n.length;r++)Cm($n[r],t-1),fa(24,$n[r].loc.start.offset)},oncdata(t,r){$n[0].ns!==0?cm(Ir(t,r),t,r):fa(1,t-9)},onprocessinginstruction(t){($n[0]?$n[0].ns:yn.ns)===0&&fa(21,t-1)}}),IA=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,mG=/^\(|\)$/g;function gG(t){const r=t.loc,i=t.content,s=i.match(l3);if(!s)return;const[,c,d]=s,f=(w,C,T=!1)=>{const D=r.start.offset+C,$=D+w.length;return Tm(w,!1,lr(D,$),0,T?1:0)},g={source:f(d.trim(),i.indexOf(d,c.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let y=c.trim().replace(mG,"").trim();const b=c.indexOf(y),E=y.match(IA);if(E){y=y.replace(IA,"").trim();const w=E[1].trim();let C;if(w&&(C=i.indexOf(w,b+y.length),g.key=f(w,C,!0)),E[2]){const T=E[2].trim();T&&(g.index=f(T,i.indexOf(T,g.key?C+w.length:b+y.length),!0))}}return y&&(g.value=f(y,b,!0)),g}function Ir(t,r){return Sa.slice(t,r)}function LA(t){rr.inSFCRoot&&(zr.innerLoc=lr(t+1,t+1)),Ax(zr);const{tag:r,ns:i}=zr;i===0&&yn.isPreTag(r)&&B1++,yn.isVoidTag(r)?Cm(zr,t):($n.unshift(zr),(i===1||i===2)&&(rr.inXML=!0)),zr=null}function cm(t,r,i){{const d=$n[0]&&$n[0].tag;d!=="script"&&d!=="style"&&t.includes("&")&&(t=yn.decodeEntities(t,!1))}const s=$n[0]||Nd,c=s.children[s.children.length-1];c&&c.type===2?(c.content+=t,yl(c.loc,i)):s.children.push({type:2,content:t,loc:lr(r,i)})}function Cm(t,r,i=!1){i?yl(t.loc,u3(r,60)):yl(t.loc,vG(r,62)+1),rr.inSFCRoot&&(t.children.length?t.innerLoc.end=qt({},t.children[t.children.length-1].loc.end):t.innerLoc.end=qt({},t.innerLoc.start),t.innerLoc.source=Ir(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:s,ns:c,children:d}=t;if(_s||(s==="slot"?t.tagType=2:$A(t)?t.tagType=3:bG(t)&&(t.tagType=1)),rr.inRCDATA||(t.children=f3(d)),c===0&&yn.isIgnoreNewlineTag(s)){const f=d[0];f&&f.type===2&&(f.content=f.content.replace(/^\r?\n/,""))}c===0&&yn.isPreTag(s)&&B1--,kx===t&&(_s=rr.inVPre=!1,kx=null),rr.inXML&&($n[0]?$n[0].ns:yn.ns)===0&&(rr.inXML=!1);{const f=t.props;if(!rr.inSFCRoot&&Rl("COMPILER_NATIVE_TEMPLATE",yn)&&t.tag==="template"&&!$A(t)){const y=$n[0]||Nd,b=y.children.indexOf(t);y.children.splice(b,1,...t.children)}const g=f.find(y=>y.type===6&&y.name==="inline-template");g&&nu("COMPILER_INLINE_TEMPLATE",yn,g.loc)&&t.children.length&&(g.value={type:2,content:Ir(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:g.loc})}}function vG(t,r){let i=t;for(;Sa.charCodeAt(i)!==r&&i<Sa.length-1;)i++;return i}function u3(t,r){let i=t;for(;Sa.charCodeAt(i)!==r&&i>=0;)i--;return i}const yG=new Set(["if","else","else-if","for","slot"]);function $A({tag:t,props:r}){if(t==="template"){for(let i=0;i<r.length;i++)if(r[i].type===7&&yG.has(r[i].name))return!0}return!1}function bG({tag:t,props:r}){if(yn.isCustomElement(t))return!1;if(t==="component"||xG(t.charCodeAt(0))||O1(t)||yn.isBuiltInComponent&&yn.isBuiltInComponent(t)||yn.isNativeTag&&!yn.isNativeTag(t))return!0;for(let i=0;i<r.length;i++){const s=r[i];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(nu("COMPILER_IS_ON_ELEMENT",yn,s.loc))return!0}}else if(s.name==="bind"&&Ts(s.arg,"is")&&nu("COMPILER_IS_ON_ELEMENT",yn,s.loc))return!0}return!1}function xG(t){return t>64&&t<91}const _G=/\r\n/g;function f3(t){const r=yn.whitespace!=="preserve";let i=!1;for(let s=0;s<t.length;s++){const c=t[s];if(c.type===2)if(B1)c.content=c.content.replace(_G,`
`);else if(L1(c.content)){const d=t[s-1]&&t[s-1].type,f=t[s+1]&&t[s+1].type;!d||!f||r&&(d===3&&(f===3||f===1)||d===1&&(f===3||f===1&&EG(c.content)))?(i=!0,t[s]=null):c.content=" "}else r&&(c.content=d3(c.content))}return i?t.filter(Boolean):t}function EG(t){for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i===10||i===13)return!0}return!1}function d3(t){let r="",i=!1;for(let s=0;s<t.length;s++)Ni(t.charCodeAt(s))?i||(r+=" ",i=!0):(r+=t[s],i=!1);return r}function Ax(t){($n[0]||Nd).children.push(t)}function lr(t,r){return{start:rr.getPos(t),end:r==null?r:rr.getPos(r),source:r==null?r:Ir(t,r)}}function wG(t){return lr(t.start.offset,t.end.offset)}function yl(t,r){t.end=rr.getPos(r),t.source=Ir(t.start.offset,r)}function SG(t){const r={type:6,name:t.rawName,nameLoc:lr(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const i=t.exp.loc;i.end.offset<t.loc.end.offset&&(i.start.offset--,i.start.column--,i.end.offset++,i.end.column++),r.value={type:2,content:t.exp.content,loc:i}}return r}function Tm(t,r=!1,i,s=0,c=0){return Vt(t,r,i,s)}function fa(t,r,i){yn.onError(Tn(t,lr(r,r)))}function CG(){rr.reset(),zr=null,on=null,gi="",da=-1,fl=-1,$n.length=0}function F1(t,r){if(CG(),Sa=t,yn=qt({},c3),r){let c;for(c in r)r[c]!=null&&(yn[c]=r[c])}rr.mode=yn.parseMode==="html"?1:yn.parseMode==="sfc"?2:0,rr.inXML=yn.ns===1||yn.ns===2;const i=r&&r.delimiters;i&&(rr.delimiterOpen=rg(i[0]),rr.delimiterClose=rg(i[1]));const s=Nd=WN([],t);return rr.parse(Sa),s.loc=lr(0,t.length),s.children=f3(s.children),Nd=null,s}function TG(t,r){km(t,void 0,r,!!p3(t))}function p3(t){const r=t.children.filter(i=>i.type!==3);return r.length===1&&r[0].type===1&&!Rd(r[0])?r[0]:null}function km(t,r,i,s=!1,c=!1){const{children:d}=t,f=[];for(let E=0;E<d.length;E++){const w=d[E];if(w.type===1&&w.tagType===0){const C=s?0:xi(w,i);if(C>0){if(C>=2){w.codegenNode.patchFlag=-1,f.push(w);continue}}else{const T=w.codegenNode;if(T.type===13){const D=T.patchFlag;if((D===void 0||D===512||D===1)&&m3(w,i)>=2){const $=g3(w);$&&(T.props=i.hoist($))}T.dynamicProps&&(T.dynamicProps=i.hoist(T.dynamicProps))}}}else if(w.type===12&&(s?0:xi(w,i))>=2){w.codegenNode.type===14&&w.codegenNode.arguments.length>0&&w.codegenNode.arguments.push("-1"),f.push(w);continue}if(w.type===1){const C=w.tagType===1;C&&i.scopes.vSlot++,km(w,t,i,!1,c),C&&i.scopes.vSlot--}else if(w.type===11)km(w,t,i,w.children.length===1,!0);else if(w.type===9)for(let C=0;C<w.branches.length;C++)km(w.branches[C],t,i,w.branches[C].children.length===1,c)}let g=!1;if(f.length===d.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&it(t.codegenNode.children))t.codegenNode.children=y(Ms(t.codegenNode.children)),g=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!it(t.codegenNode.children)&&t.codegenNode.children.type===15){const E=b(t.codegenNode,"default");E&&(E.returns=y(Ms(E.returns)),g=!0)}else if(t.tagType===3&&r&&r.type===1&&r.tagType===1&&r.codegenNode&&r.codegenNode.type===13&&r.codegenNode.children&&!it(r.codegenNode.children)&&r.codegenNode.children.type===15){const E=oi(t,"slot",!0),w=E&&E.arg&&b(r.codegenNode,E.arg);w&&(w.returns=y(Ms(w.returns)),g=!0)}}if(!g)for(const E of f)E.codegenNode=i.cache(E.codegenNode);function y(E){const w=i.cache(E);return w.needArraySpread=!0,w}function b(E,w){if(E.children&&!it(E.children)&&E.children.type===15){const C=E.children.properties.find(T=>T.key===w||T.key.content===w);return C&&C.value}}f.length&&i.transformHoist&&i.transformHoist(d,i,t)}function xi(t,r){const{constantCache:i}=r;switch(t.type){case 1:if(t.tagType!==0)return 0;const s=i.get(t);if(s!==void 0)return s;const c=t.codegenNode;if(c.type!==13||c.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(c.patchFlag===void 0){let f=3;const g=m3(t,r);if(g===0)return i.set(t,0),0;g<f&&(f=g);for(let y=0;y<t.children.length;y++){const b=xi(t.children[y],r);if(b===0)return i.set(t,0),0;b<f&&(f=b)}if(f>1)for(let y=0;y<t.props.length;y++){const b=t.props[y];if(b.type===7&&b.name==="bind"&&b.exp){const E=xi(b.exp,r);if(E===0)return i.set(t,0),0;E<f&&(f=E)}}if(c.isBlock){for(let y=0;y<t.props.length;y++)if(t.props[y].type===7)return i.set(t,0),0;r.removeHelper(Is),r.removeHelper(jl(r.inSSR,c.isComponent)),c.isBlock=!1,r.helper(Fl(r.inSSR,c.isComponent))}return i.set(t,f),f}else return i.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return xi(t.content,r);case 4:return t.constType;case 8:let d=3;for(let f=0;f<t.children.length;f++){const g=t.children[f];if(Pt(g)||li(g))continue;const y=xi(g,r);if(y===0)return 0;y<d&&(d=y)}return d;case 20:return 2;default:return 0}}const kG=new Set([tv,nv,eu,pu]);function h3(t,r){if(t.type===14&&!Pt(t.callee)&&kG.has(t.callee)){const i=t.arguments[0];if(i.type===4)return xi(i,r);if(i.type===14)return h3(i,r)}return 0}function m3(t,r){let i=3;const s=g3(t);if(s&&s.type===15){const{properties:c}=s;for(let d=0;d<c.length;d++){const{key:f,value:g}=c[d],y=xi(f,r);if(y===0)return y;y<i&&(i=y);let b;if(g.type===4?b=xi(g,r):g.type===14?b=h3(g,r):b=0,b===0)return b;b<i&&(i=b)}}return i}function g3(t){const r=t.codegenNode;if(r.type===13)return r.props}function v3(t,{filename:r="",prefixIdentifiers:i=!1,hoistStatic:s=!1,hmr:c=!1,cacheHandlers:d=!1,nodeTransforms:f=[],directiveTransforms:g={},transformHoist:y=null,isBuiltInComponent:b=Tr,isCustomElement:E=Tr,expressionPlugins:w=[],scopeId:C=null,slotted:T=!0,ssr:D=!1,inSSR:$=!1,ssrCssVars:H="",bindingMetadata:N=nn,inline:L=!1,isTS:M=!1,onError:A=N1,onWarn:z=YN,compatConfig:Z}){const te=r.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ee={filename:r,selfName:te&&Bs(kn(te[1])),prefixIdentifiers:i,hoistStatic:s,hmr:c,cacheHandlers:d,nodeTransforms:f,directiveTransforms:g,transformHoist:y,isBuiltInComponent:b,isCustomElement:E,expressionPlugins:w,scopeId:C,slotted:T,ssr:D,inSSR:$,ssrCssVars:H,bindingMetadata:N,inline:L,isTS:M,onError:A,onWarn:z,compatConfig:Z,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(W){const Q=ee.helpers.get(W)||0;return ee.helpers.set(W,Q+1),W},removeHelper(W){const Q=ee.helpers.get(W);if(Q){const oe=Q-1;oe?ee.helpers.set(W,oe):ee.helpers.delete(W)}},helperString(W){return`_${$l[ee.helper(W)]}`},replaceNode(W){ee.parent.children[ee.childIndex]=ee.currentNode=W},removeNode(W){const Q=ee.parent.children,oe=W?Q.indexOf(W):ee.currentNode?ee.childIndex:-1;!W||W===ee.currentNode?(ee.currentNode=null,ee.onNodeRemoved()):ee.childIndex>oe&&(ee.childIndex--,ee.onNodeRemoved()),ee.parent.children.splice(oe,1)},onNodeRemoved:Tr,addIdentifiers(W){},removeIdentifiers(W){},hoist(W){Pt(W)&&(W=Vt(W)),ee.hoists.push(W);const Q=Vt(`_hoisted_${ee.hoists.length}`,!1,W.loc,2);return Q.hoisted=W,Q},cache(W,Q=!1,oe=!1){const re=KN(ee.cached.length,W,Q,oe);return ee.cached.push(re),re}};return ee.filters=new Set,ee}function y3(t,r){const i=v3(t,r);Jd(t,i),r.hoistStatic&&TG(t,i),r.ssr||AG(t,i),t.helpers=new Set([...i.helpers.keys()]),t.components=[...i.components],t.directives=[...i.directives],t.imports=i.imports,t.hoists=i.hoists,t.temps=i.temps,t.cached=i.cached,t.transformed=!0,t.filters=[...i.filters]}function AG(t,r){const{helper:i}=r,{children:s}=t;if(s.length===1){const c=p3(t);if(c&&c.codegenNode){const d=c.codegenNode;d.type===13&&av(d,r),t.codegenNode=d}else t.codegenNode=s[0]}else if(s.length>1){let c=64;t.codegenNode=tu(r,i(qc),void 0,t.children,c,void 0,void 0,!0,void 0,!1)}}function RG(t,r){let i=0;const s=()=>{i--};for(;i<t.children.length;i++){const c=t.children[i];Pt(c)||(r.grandParent=r.parent,r.parent=t,r.childIndex=i,r.onNodeRemoved=s,Jd(c,r))}}function Jd(t,r){r.currentNode=t;const{nodeTransforms:i}=r,s=[];for(let d=0;d<i.length;d++){const f=i[d](t,r);if(f&&(it(f)?s.push(...f):s.push(f)),r.currentNode)t=r.currentNode;else return}switch(t.type){case 3:r.ssr||r.helper(du);break;case 5:r.ssr||r.helper(Xd);break;case 9:for(let d=0;d<t.branches.length;d++)Jd(t.branches[d],r);break;case 10:case 11:case 1:case 0:RG(t,r);break}r.currentNode=t;let c=s.length;for(;c--;)s[c]()}function j1(t,r){const i=Pt(t)?s=>s===t:s=>t.test(s);return(s,c)=>{if(s.type===1){const{props:d}=s;if(s.tagType===3&&d.some(I1))return;const f=[];for(let g=0;g<d.length;g++){const y=d[g];if(y.type===7&&i(y.name)){d.splice(g,1),g--;const b=r(s,y,c);b&&f.push(b)}}return f}}}const lv="/*@__PURE__*/",b3=t=>`${$l[t]}: _${$l[t]}`;function PG(t,{mode:r="function",prefixIdentifiers:i=r==="module",sourceMap:s=!1,filename:c="template.vue.html",scopeId:d=null,optimizeImports:f=!1,runtimeGlobalName:g="Vue",runtimeModuleName:y="vue",ssrRuntimeModuleName:b="vue/server-renderer",ssr:E=!1,isTS:w=!1,inSSR:C=!1}){const T={mode:r,prefixIdentifiers:i,sourceMap:s,filename:c,scopeId:d,optimizeImports:f,runtimeGlobalName:g,runtimeModuleName:y,ssrRuntimeModuleName:b,ssr:E,isTS:w,inSSR:C,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper($){return`_${$l[$]}`},push($,H=-2,N){T.code+=$},indent(){D(++T.indentLevel)},deindent($=!1){$?--T.indentLevel:D(--T.indentLevel)},newline(){D(T.indentLevel)}};function D($){T.push(`
`+"  ".repeat($),0)}return T}function x3(t,r={}){const i=PG(t,r);r.onContextCreated&&r.onContextCreated(i);const{mode:s,push:c,prefixIdentifiers:d,indent:f,deindent:g,newline:y,scopeId:b,ssr:E}=i,w=Array.from(t.helpers),C=w.length>0,T=!d&&s!=="module";NG(t,i);const $=E?"ssrRender":"render",N=(E?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(c(`function ${$}(${N}) {`),f(),T&&(c("with (_ctx) {"),f(),C&&(c(`const { ${w.map(b3).join(", ")} } = _Vue
`,-1),y())),t.components.length&&(Mb(t.components,"component",i),(t.directives.length||t.temps>0)&&y()),t.directives.length&&(Mb(t.directives,"directive",i),t.temps>0&&y()),t.filters&&t.filters.length&&(y(),Mb(t.filters,"filter",i),y()),t.temps>0){c("let ");for(let L=0;L<t.temps;L++)c(`${L>0?", ":""}_temp${L}`)}return(t.components.length||t.directives.length||t.temps)&&(c(`
`,0),y()),E||c("return "),t.codegenNode?Zr(t.codegenNode,i):c("null"),T&&(g(),c("}")),g(),c("}"),{ast:t,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function NG(t,r){const{ssr:i,prefixIdentifiers:s,push:c,newline:d,runtimeModuleName:f,runtimeGlobalName:g,ssrRuntimeModuleName:y}=r,b=g,E=Array.from(t.helpers);if(E.length>0&&(c(`const _Vue = ${b}
`,-1),t.hoists.length)){const w=[Wg,Kg,du,Xg,k1].filter(C=>E.includes(C)).map(b3).join(", ");c(`const { ${w} } = _Vue
`,-1)}OG(t.hoists,r),d(),c("return ")}function Mb(t,r,{helper:i,push:s,newline:c,isTS:d}){const f=i(r==="filter"?Qg:r==="component"?Yg:Jg);for(let g=0;g<t.length;g++){let y=t[g];const b=y.endsWith("__self");b&&(y=y.slice(0,-6)),s(`const ${iu(y,r)} = ${f}(${JSON.stringify(y)}${b?", true":""})${d?"!":""}`),g<t.length-1&&c()}}function OG(t,r){if(!t.length)return;r.pure=!0;const{push:i,newline:s}=r;s();for(let c=0;c<t.length;c++){const d=t[c];d&&(i(`const _hoisted_${c+1} = `),Zr(d,r),s())}r.pure=!1}function V1(t,r){const i=t.length>3||!1;r.push("["),i&&r.indent(),Qd(t,r,i),i&&r.deindent(),r.push("]")}function Qd(t,r,i=!1,s=!0){const{push:c,newline:d}=r;for(let f=0;f<t.length;f++){const g=t[f];Pt(g)?c(g,-3):it(g)?V1(g,r):Zr(g,r),f<t.length-1&&(i?(s&&c(","),d()):s&&c(", "))}}function Zr(t,r){if(Pt(t)){r.push(t,-3);return}if(li(t)){r.push(r.helper(t));return}switch(t.type){case 1:case 9:case 11:Zr(t.codegenNode,r);break;case 2:MG(t,r);break;case 4:_3(t,r);break;case 5:DG(t,r);break;case 12:Zr(t.codegenNode,r);break;case 8:E3(t,r);break;case 3:LG(t,r);break;case 13:$G(t,r);break;case 14:FG(t,r);break;case 15:jG(t,r);break;case 17:VG(t,r);break;case 18:HG(t,r);break;case 19:UG(t,r);break;case 20:zG(t,r);break;case 21:Qd(t.body,r,!0,!1);break}}function MG(t,r){r.push(JSON.stringify(t.content),-3,t)}function _3(t,r){const{content:i,isStatic:s}=t;r.push(s?JSON.stringify(i):i,-3,t)}function DG(t,r){const{push:i,helper:s,pure:c}=r;c&&i(lv),i(`${s(Xd)}(`),Zr(t.content,r),i(")")}function E3(t,r){for(let i=0;i<t.children.length;i++){const s=t.children[i];Pt(s)?r.push(s,-3):Zr(s,r)}}function IG(t,r){const{push:i}=r;if(t.type===8)i("["),E3(t,r),i("]");else if(t.isStatic){const s=Yd(t.content)?t.content:JSON.stringify(t.content);i(s,-2,t)}else i(`[${t.content}]`,-3,t)}function LG(t,r){const{push:i,helper:s,pure:c}=r;c&&i(lv),i(`${s(du)}(${JSON.stringify(t.content)})`,-3,t)}function $G(t,r){const{push:i,helper:s,pure:c}=r,{tag:d,props:f,children:g,patchFlag:y,dynamicProps:b,directives:E,isBlock:w,disableTracking:C,isComponent:T}=t;let D;y&&(D=String(y)),E&&i(s(qg)+"("),w&&i(`(${s(Is)}(${C?"true":""}), `),c&&i(lv);const $=w?jl(r.inSSR,T):Fl(r.inSSR,T);i(s($)+"(",-2,t),Qd(BG([d,f,g,D,b]),r),i(")"),w&&i(")"),E&&(i(", "),Zr(E,r),i(")"))}function BG(t){let r=t.length;for(;r--&&t[r]==null;);return t.slice(0,r+1).map(i=>i||"null")}function FG(t,r){const{push:i,helper:s,pure:c}=r,d=Pt(t.callee)?t.callee:s(t.callee);c&&i(lv),i(d+"(",-2,t),Qd(t.arguments,r),i(")")}function jG(t,r){const{push:i,indent:s,deindent:c,newline:d}=r,{properties:f}=t;if(!f.length){i("{}",-2,t);return}const g=f.length>1||!1;i(g?"{":"{ "),g&&s();for(let y=0;y<f.length;y++){const{key:b,value:E}=f[y];IG(b,r),i(": "),Zr(E,r),y<f.length-1&&(i(","),d())}g&&c(),i(g?"}":" }")}function VG(t,r){V1(t.elements,r)}function HG(t,r){const{push:i,indent:s,deindent:c}=r,{params:d,returns:f,body:g,newline:y,isSlot:b}=t;b&&i(`_${$l[iv]}(`),i("(",-2,t),it(d)?Qd(d,r):d&&Zr(d,r),i(") => "),(y||g)&&(i("{"),s()),f?(y&&i("return "),it(f)?V1(f,r):Zr(f,r)):g&&Zr(g,r),(y||g)&&(c(),i("}")),b&&(t.isNonScopedSlot&&i(", undefined, true"),i(")"))}function UG(t,r){const{test:i,consequent:s,alternate:c,newline:d}=t,{push:f,indent:g,deindent:y,newline:b}=r;if(i.type===4){const w=!Yd(i.content);w&&f("("),_3(i,r),w&&f(")")}else f("("),Zr(i,r),f(")");d&&g(),r.indentLevel++,d||f(" "),f("? "),Zr(s,r),r.indentLevel--,d&&b(),d||f(" "),f(": ");const E=c.type===19;E||r.indentLevel++,Zr(c,r),E||r.indentLevel--,d&&y(!0)}function zG(t,r){const{push:i,helper:s,indent:c,deindent:d,newline:f}=r,{needPauseTracking:g,needArraySpread:y}=t;y&&i("[...("),i(`_cache[${t.index}] || (`),g&&(c(),i(`${s(Ad)}(-1`),t.inVOnce&&i(", true"),i("),"),f(),i("(")),i(`_cache[${t.index}] = `),Zr(t.value,r),g&&(i(`).cacheIndex = ${t.index},`),f(),i(`${s(Ad)}(1),`),f(),i(`_cache[${t.index}]`),d()),i(")"),y&&i(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const GG=(t,r)=>{if(t.type===5)t.content=Am(t.content,r);else if(t.type===1){const i=oi(t,"memo");for(let s=0;s<t.props.length;s++){const c=t.props[s];if(c.type===7&&c.name!=="for"){const d=c.exp,f=c.arg;d&&d.type===4&&!(c.name==="on"&&f)&&!(i&&f&&f.type===4&&f.content==="key")&&(c.exp=Am(d,r,c.name==="slot")),f&&f.type===4&&!f.isStatic&&(c.arg=Am(f,r))}}}};function Am(t,r,i=!1,s=!1,c=Object.create(r.identifiers)){return t}function w3(t){return Pt(t)?t:t.type===4?t.content:t.children.map(w3).join("")}const WG=j1(/^(?:if|else|else-if)$/,(t,r,i)=>S3(t,r,i,(s,c,d)=>{const f=i.parent.children;let g=f.indexOf(s),y=0;for(;g-->=0;){const b=f[g];b&&b.type===9&&(y+=b.branches.length)}return()=>{if(d)s.codegenNode=FA(c,y,i);else{const b=KG(s.codegenNode);b.alternate=FA(c,y+s.branches.length-1,i)}}}));function S3(t,r,i,s){if(r.name!=="else"&&(!r.exp||!r.exp.content.trim())){const c=r.exp?r.exp.loc:t.loc;i.onError(Tn(28,r.loc)),r.exp=Vt("true",!1,c)}if(r.name==="if"){const c=BA(t,r),d={type:9,loc:wG(t.loc),branches:[c]};if(i.replaceNode(d),s)return s(d,c,!0)}else{const c=i.parent.children;let d=c.indexOf(t);for(;d-->=-1;){const f=c[d];if(f&&$1(f)){i.removeNode(f);continue}if(f&&f.type===9){(r.name==="else-if"||r.name==="else")&&f.branches[f.branches.length-1].condition===void 0&&i.onError(Tn(30,t.loc)),i.removeNode();const g=BA(t,r);f.branches.push(g);const y=s&&s(f,g,!1);Jd(g,i),y&&y(),i.currentNode=null}else i.onError(Tn(30,t.loc));break}}}function BA(t,r){const i=t.tagType===3;return{type:10,loc:t.loc,condition:r.name==="else"?void 0:r.exp,children:i&&!oi(t,"for")?t.children:[t],userKey:Zd(t,"key"),isTemplateIf:i}}function FA(t,r,i){return t.condition?ng(t.condition,jA(t,r,i),hr(i.helper(du),['""',"true"])):jA(t,r,i)}function jA(t,r,i){const{helper:s}=i,c=ur("key",Vt(`${r}`,!1,_r,2)),{children:d}=t,f=d[0];if(d.length!==1||f.type!==1)if(d.length===1&&f.type===11){const y=f.codegenNode;return Pd(y,c,i),y}else return tu(i,s(qc),Mi([c]),d,64,void 0,void 0,!0,!1,!1,t.loc);else{const y=f.codegenNode,b=s3(y);return b.type===13&&av(b,i),Pd(b,c,i),y}}function KG(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const XG=j1("for",(t,r,i)=>{const{helper:s,removeHelper:c}=i;return C3(t,r,i,d=>{const f=hr(s(ev),[d.source]),g=ru(t),y=oi(t,"memo"),b=Zd(t,"key",!1,!0);b&&b.type;let E=b&&(b.type===6?b.value?Vt(b.value.content,!0):void 0:b.exp);const w=b&&E?ur("key",E):null,C=d.source.type===4&&d.source.constType>0,T=C?64:b?128:256;return d.codegenNode=tu(i,s(qc),void 0,f,T,void 0,void 0,!0,!C,!1,t.loc),()=>{let D;const{children:$}=d,H=$.length!==1||$[0].type!==1,N=Rd(t)?t:g&&t.children.length===1&&Rd(t.children[0])?t.children[0]:null;if(N?(D=N.codegenNode,g&&w&&Pd(D,w,i)):H?D=tu(i,s(qc),w?Mi([w]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(D=$[0].codegenNode,g&&w&&Pd(D,w,i),D.isBlock!==!C&&(D.isBlock?(c(Is),c(jl(i.inSSR,D.isComponent))):c(Fl(i.inSSR,D.isComponent))),D.isBlock=!C,D.isBlock?(s(Is),s(jl(i.inSSR,D.isComponent))):s(Fl(i.inSSR,D.isComponent))),y){const L=Bl(ig(d.parseResult,[Vt("_cached")]));L.body=XN([qi(["const _memo = (",y.exp,")"]),qi(["if (_cached",...E?[" && _cached.key === ",E]:[],` && ${i.helperString(P1)}(_cached, _memo)) return _cached`]),qi(["const _item = ",D]),Vt("_item.memo = _memo"),Vt("return _item")]),f.arguments.push(L,Vt("_cache"),Vt(String(i.cached.length))),i.cached.push(null)}else f.arguments.push(Bl(ig(d.parseResult),D,!0))}})});function C3(t,r,i,s){if(!r.exp){i.onError(Tn(31,r.loc));return}const c=r.forParseResult;if(!c){i.onError(Tn(32,r.loc));return}H1(c);const{addIdentifiers:d,removeIdentifiers:f,scopes:g}=i,{source:y,value:b,key:E,index:w}=c,C={type:11,loc:r.loc,source:y,valueAlias:b,keyAlias:E,objectIndexAlias:w,parseResult:c,children:ru(t)?t.children:[t]};i.replaceNode(C),g.vFor++;const T=s&&s(C);return()=>{g.vFor--,T&&T()}}function H1(t,r){t.finalized||(t.finalized=!0)}function ig({value:t,key:r,index:i},s=[]){return YG([t,r,i,...s])}function YG(t){let r=t.length;for(;r--&&!t[r];);return t.slice(0,r+1).map((i,s)=>i||Vt("_".repeat(s+1),!1))}const VA=Vt("undefined",!1),T3=(t,r)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const i=oi(t,"slot");if(i)return i.exp,r.scopes.vSlot++,()=>{r.scopes.vSlot--}}},ZG=(t,r)=>{let i;if(ru(t)&&t.props.some(I1)&&(i=oi(t,"for"))){const s=i.forParseResult;if(s){H1(s);const{value:c,key:d,index:f}=s,{addIdentifiers:g,removeIdentifiers:y}=r;return c&&g(c),d&&g(d),f&&g(f),()=>{c&&y(c),d&&y(d),f&&y(f)}}}},JG=(t,r,i,s)=>Bl(t,i,!1,!0,i.length?i[0].loc:s);function k3(t,r,i=JG){r.helper(iv);const{children:s,loc:c}=t,d=[],f=[];let g=r.scopes.vSlot>0||r.scopes.vFor>0;const y=oi(t,"slot",!0);if(y){const{arg:H,exp:N}=y;H&&!si(H)&&(g=!0),d.push(ur(H||Vt("default",!0),i(N,void 0,s,c)))}let b=!1,E=!1;const w=[],C=new Set;let T=0;for(let H=0;H<s.length;H++){const N=s[H];let L;if(!ru(N)||!(L=oi(N,"slot",!0))){N.type!==3&&w.push(N);continue}if(y){r.onError(Tn(37,L.loc));break}b=!0;const{children:M,loc:A}=N,{arg:z=Vt("default",!0),exp:Z,loc:te}=L;let ee;si(z)?ee=z?z.content:"default":g=!0;const W=oi(N,"for"),Q=i(Z,W,M,A);let oe,re;if(oe=oi(N,"if"))g=!0,f.push(ng(oe.exp,um(z,Q,T++),VA));else if(re=oi(N,/^else(?:-if)?$/,!0)){let J=H,ce;for(;J--&&(ce=s[J],!!$1(ce)););if(ce&&ru(ce)&&oi(ce,/^(?:else-)?if$/)){let ue=f[f.length-1];for(;ue.alternate.type===19;)ue=ue.alternate;ue.alternate=re.exp?ng(re.exp,um(z,Q,T++),VA):um(z,Q,T++)}else r.onError(Tn(30,re.loc))}else if(W){g=!0;const J=W.forParseResult;J?(H1(J),f.push(hr(r.helper(ev),[J.source,Bl(ig(J),um(z,Q),!0)]))):r.onError(Tn(32,W.loc))}else{if(ee){if(C.has(ee)){r.onError(Tn(38,te));continue}C.add(ee),ee==="default"&&(E=!0)}d.push(ur(z,Q))}}if(!y){const H=(N,L)=>{const M=i(N,void 0,L,c);return r.compatConfig&&(M.isNonScopedSlot=!0),ur("default",M)};b?w.length&&!w.every(sv)&&(E?r.onError(Tn(39,w[0].loc)):d.push(H(void 0,w))):d.push(H(void 0,s))}const D=g?2:Rm(t.children)?3:1;let $=Mi(d.concat(ur("_",Vt(D+"",!1))),c);return f.length&&($=hr(r.helper(R1),[$,Ms(f)])),{slots:$,hasDynamicSlots:g}}function um(t,r,i){const s=[ur("name",t),ur("fn",r)];return i!=null&&s.push(ur("key",Vt(String(i),!0))),Mi(s)}function Rm(t){for(let r=0;r<t.length;r++){const i=t[r];switch(i.type){case 1:if(i.tagType===2||Rm(i.children))return!0;break;case 9:if(Rm(i.branches))return!0;break;case 10:case 11:if(Rm(i.children))return!0;break}}return!1}const A3=new WeakMap,R3=(t,r)=>function(){if(t=r.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:s,props:c}=t,d=t.tagType===1;let f=d?P3(t,r):`"${s}"`;const g=hn(f)&&f.callee===Zg;let y,b,E=0,w,C,T,D=g||f===Hc||f===Gg||!d&&(s==="svg"||s==="foreignObject"||s==="math");if(c.length>0){const $=U1(t,r,void 0,d,g);y=$.props,E=$.patchFlag,C=$.dynamicPropNames;const H=$.directives;T=H&&H.length?Ms(H.map(N=>N3(N,r))):void 0,$.shouldUseBlock&&(D=!0)}if(t.children.length>0)if(f===Td&&(D=!0,E|=1024),d&&f!==Hc&&f!==Td){const{slots:H,hasDynamicSlots:N}=k3(t,r);b=H,N&&(E|=1024)}else if(t.children.length===1&&f!==Hc){const H=t.children[0],N=H.type,L=N===5||N===8;L&&xi(H,r)===0&&(E|=1),L||N===2?b=H:b=t.children}else b=t.children;C&&C.length&&(w=qG(C)),t.codegenNode=tu(r,f,y,b,E===0?void 0:E,w,T,!!D,!1,d,t.loc)};function P3(t,r,i=!1){let{tag:s}=t;const c=Rx(s),d=Zd(t,"is",!1,!0);if(d)if(c||Rl("COMPILER_IS_ON_ELEMENT",r)){let g;if(d.type===6?g=d.value&&Vt(d.value.content,!0):(g=d.exp,g||(g=Vt("is",!1,d.arg.loc))),g)return hr(r.helper(Zg),[g])}else d.type===6&&d.value.content.startsWith("vue:")&&(s=d.value.content.slice(4));const f=O1(s)||r.isBuiltInComponent(s);return f?(i||r.helper(f),f):(r.helper(Yg),r.components.add(s),iu(s,"component"))}function U1(t,r,i=t.props,s,c,d=!1){const{tag:f,loc:g,children:y}=t;let b=[];const E=[],w=[],C=y.length>0;let T=!1,D=0,$=!1,H=!1,N=!1,L=!1,M=!1,A=!1;const z=[],Z=Q=>{b.length&&(E.push(Mi(HA(b),g)),b=[]),Q&&E.push(Q)},te=()=>{r.scopes.vFor>0&&b.push(ur(Vt("ref_for",!0),Vt("true")))},ee=({key:Q,value:oe})=>{if(si(Q)){const re=Q.content,J=Ls(re);if(J&&(!s||c)&&re.toLowerCase()!=="onclick"&&re!=="onUpdate:modelValue"&&!xa(re)&&(L=!0),J&&xa(re)&&(A=!0),J&&oe.type===14&&(oe=oe.arguments[0]),oe.type===20||(oe.type===4||oe.type===8)&&xi(oe,r)>0)return;re==="ref"?$=!0:re==="class"?H=!0:re==="style"?N=!0:re!=="key"&&!z.includes(re)&&z.push(re),s&&(re==="class"||re==="style")&&!z.includes(re)&&z.push(re)}else M=!0};for(let Q=0;Q<i.length;Q++){const oe=i[Q];if(oe.type===6){const{loc:re,name:J,nameLoc:ce,value:ue}=oe;let le=!0;if(J==="ref"&&($=!0,te()),J==="is"&&(Rx(f)||ue&&ue.content.startsWith("vue:")||Rl("COMPILER_IS_ON_ELEMENT",r)))continue;b.push(ur(Vt(J,!0,ce),Vt(ue?ue.content:"",le,ue?ue.loc:re)))}else{const{name:re,arg:J,exp:ce,loc:ue,modifiers:le}=oe,ve=re==="bind",fe=re==="on";if(re==="slot"){s||r.onError(Tn(40,ue));continue}if(re==="once"||re==="memo"||re==="is"||ve&&Ts(J,"is")&&(Rx(f)||Rl("COMPILER_IS_ON_ELEMENT",r))||fe&&d)continue;if((ve&&Ts(J,"key")||fe&&C&&Ts(J,"vue:before-update"))&&(T=!0),ve&&Ts(J,"ref")&&te(),!J&&(ve||fe)){if(M=!0,ce)if(ve){if(Z(),Rl("COMPILER_V_BIND_OBJECT_ORDER",r)){E.unshift(ce);continue}te(),Z(),E.push(ce)}else Z({type:14,loc:ue,callee:r.helper(rv),arguments:s?[ce]:[ce,"true"]});else r.onError(Tn(ve?34:35,ue));continue}ve&&le.some(Te=>Te.content==="prop")&&(D|=32);const pe=r.directiveTransforms[re];if(pe){const{props:Te,needRuntime:ot}=pe(oe,t,r);!d&&Te.forEach(ee),fe&&J&&!si(J)?Z(Mi(Te,g)):b.push(...Te),ot&&(w.push(oe),li(ot)&&A3.set(oe,ot))}else uR(re)||(w.push(oe),C&&(T=!0))}}let W;if(E.length?(Z(),E.length>1?W=hr(r.helper(kd),E,g):W=E[0]):b.length&&(W=Mi(HA(b),g)),M?D|=16:(H&&!s&&(D|=2),N&&!s&&(D|=4),z.length&&(D|=8),L&&(D|=32)),!T&&(D===0||D===32)&&($||A||w.length>0)&&(D|=512),!r.inSSR&&W)switch(W.type){case 15:let Q=-1,oe=-1,re=!1;for(let ue=0;ue<W.properties.length;ue++){const le=W.properties[ue].key;si(le)?le.content==="class"?Q=ue:le.content==="style"&&(oe=ue):le.isHandlerKey||(re=!0)}const J=W.properties[Q],ce=W.properties[oe];re?W=hr(r.helper(eu),[W]):(J&&!si(J.value)&&(J.value=hr(r.helper(tv),[J.value])),ce&&(N||ce.value.type===4&&ce.value.content.trim()[0]==="["||ce.value.type===17)&&(ce.value=hr(r.helper(nv),[ce.value])));break;case 14:break;default:W=hr(r.helper(eu),[hr(r.helper(pu),[W])]);break}return{props:W,directives:w,patchFlag:D,dynamicPropNames:z,shouldUseBlock:T}}function HA(t){const r=new Map,i=[];for(let s=0;s<t.length;s++){const c=t[s];if(c.key.type===8||!c.key.isStatic){i.push(c);continue}const d=c.key.content,f=r.get(d);f?(d==="style"||d==="class"||Ls(d))&&QG(f,c):(r.set(d,c),i.push(c))}return i}function QG(t,r){t.value.type===17?t.value.elements.push(r.value):t.value=Ms([t.value,r.value],t.loc)}function N3(t,r){const i=[],s=A3.get(t);s?i.push(r.helperString(s)):(r.helper(Jg),r.directives.add(t.name),i.push(iu(t.name,"directive")));const{loc:c}=t;if(t.exp&&i.push(t.exp),t.arg&&(t.exp||i.push("void 0"),i.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||i.push("void 0"),i.push("void 0"));const d=Vt("true",!1,c);i.push(Mi(t.modifiers.map(f=>ur(f,d)),c))}return Ms(i,t.loc)}function qG(t){let r="[";for(let i=0,s=t.length;i<s;i++)r+=JSON.stringify(t[i]),i<s-1&&(r+=", ");return r+"]"}function Rx(t){return t==="component"||t==="Component"}const eW=(t,r)=>{if(Rd(t)){const{children:i,loc:s}=t,{slotName:c,slotProps:d}=O3(t,r),f=[r.prefixIdentifiers?"_ctx.$slots":"$slots",c,"{}","undefined","true"];let g=2;d&&(f[2]=d,g=3),i.length&&(f[3]=Bl([],i,!1,!1,s),g=4),r.scopeId&&!r.slotted&&(g=5),f.splice(g),t.codegenNode=hr(r.helper(A1),f,s)}};function O3(t,r){let i='"default"',s;const c=[];for(let d=0;d<t.props.length;d++){const f=t.props[d];if(f.type===6)f.value&&(f.name==="name"?i=JSON.stringify(f.value.content):(f.name=kn(f.name),c.push(f)));else if(f.name==="bind"&&Ts(f.arg,"name")){if(f.exp)i=f.exp;else if(f.arg&&f.arg.type===4){const g=kn(f.arg.content);i=f.exp=Vt(g,!1,f.arg.loc)}}else f.name==="bind"&&f.arg&&si(f.arg)&&(f.arg.content=kn(f.arg.content)),c.push(f)}if(c.length>0){const{props:d,directives:f}=U1(t,r,c,!1,!1);s=d,f.length&&r.onError(Tn(36,f[0].loc))}return{slotName:i,slotProps:s}}const z1=(t,r,i,s)=>{const{loc:c,modifiers:d,arg:f}=t;!t.exp&&!d.length&&i.onError(Tn(35,c));let g;if(f.type===4)if(f.isStatic){let w=f.content;w.startsWith("vue:")&&(w=`vnode-${w.slice(4)}`);const C=r.tagType!==0||w.startsWith("vnode")||!/[A-Z]/.test(w)?_l(kn(w)):`on:${w}`;g=Vt(C,!0,f.loc)}else g=qi([`${i.helperString(tg)}(`,f,")"]);else g=f,g.children.unshift(`${i.helperString(tg)}(`),g.children.push(")");let y=t.exp;y&&!y.content.trim()&&(y=void 0);let b=i.cacheHandlers&&!y&&!i.inVOnce;if(y){const w=D1(y),C=!(w||r3(y)),T=y.content.includes(";");(C||b&&w)&&(y=qi([`${C?"$event":"(...args)"} => ${T?"{":"("}`,y,T?"}":")"]))}let E={props:[ur(g,y||Vt("() => {}",!1,c))]};return s&&(E=s(E)),b&&(E.props[0].value=i.cache(E.props[0].value)),E.props.forEach(w=>w.key.isHandlerKey=!0),E},M3=(t,r,i)=>{const{modifiers:s,loc:c}=t,d=t.arg;let{exp:f}=t;return f&&f.type===4&&!f.content.trim()&&(f=void 0),d.type!==4?(d.children.unshift("("),d.children.push(') || ""')):d.isStatic||(d.content=d.content?`${d.content} || ""`:'""'),s.some(g=>g.content==="camel")&&(d.type===4?d.isStatic?d.content=kn(d.content):d.content=`${i.helperString(eg)}(${d.content})`:(d.children.unshift(`${i.helperString(eg)}(`),d.children.push(")"))),i.inSSR||(s.some(g=>g.content==="prop")&&UA(d,"."),s.some(g=>g.content==="attr")&&UA(d,"^")),{props:[ur(d,f)]}},UA=(t,r)=>{t.type===4?t.isStatic?t.content=r+t.content:t.content=`\`${r}\${${t.content}}\``:(t.children.unshift(`'${r}' + (`),t.children.push(")"))},tW=(t,r)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const i=t.children;let s,c=!1;for(let d=0;d<i.length;d++){const f=i[d];if(Sm(f)){c=!0;for(let g=d+1;g<i.length;g++){const y=i[g];if(Sm(y))s||(s=i[d]=qi([f],f.loc)),s.children.push(" + ",y),i.splice(g,1),g--;else{s=void 0;break}}}}if(!(!c||i.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(d=>d.type===7&&!r.directiveTransforms[d.name])&&t.tag!=="template")))for(let d=0;d<i.length;d++){const f=i[d];if(Sm(f)||f.type===8){const g=[];(f.type!==2||f.content!==" ")&&g.push(f),!r.ssr&&xi(f,r)===0&&g.push("1"),i[d]={type:12,content:f,loc:f.loc,codegenNode:hr(r.helper(Xg),g)}}}}},zA=new WeakSet,nW=(t,r)=>{if(t.type===1&&oi(t,"once",!0))return zA.has(t)||r.inVOnce||r.inSSR?void 0:(zA.add(t),r.inVOnce=!0,r.helper(Ad),()=>{r.inVOnce=!1;const i=r.currentNode;i.codegenNode&&(i.codegenNode=r.cache(i.codegenNode,!0,!0))})},G1=(t,r,i)=>{const{exp:s,arg:c}=t;if(!s)return i.onError(Tn(41,t.loc)),Rf();const d=s.loc.source.trim(),f=s.type===4?s.content:d,g=i.bindingMetadata[d];if(g==="props"||g==="props-aliased")return i.onError(Tn(44,s.loc)),Rf();if(g==="literal-const"||g==="setup-const")return i.onError(Tn(45,s.loc)),Rf();if(!f.trim()||!D1(s))return i.onError(Tn(42,s.loc)),Rf();const y=c||Vt("modelValue",!0),b=c?si(c)?`onUpdate:${kn(c.content)}`:qi(['"onUpdate:" + ',c]):"onUpdate:modelValue";let E;const w=i.isTS?"($event: any)":"$event";E=qi([`${w} => ((`,s,") = $event)"]);const C=[ur(y,t.exp),ur(b,E)];if(t.modifiers.length&&r.tagType===1){const T=t.modifiers.map($=>$.content).map($=>(Yd($)?$:JSON.stringify($))+": true").join(", "),D=c?si(c)?`${c.content}Modifiers`:qi([c,' + "Modifiers"']):"modelModifiers";C.push(ur(D,Vt(`{ ${T} }`,!1,t.loc,2)))}return Rf(C)};function Rf(t=[]){return{props:t}}const rW=/[\w).+\-_$\]]/,iW=(t,r)=>{Rl("COMPILER_FILTERS",r)&&(t.type===5?og(t.content,r):t.type===1&&t.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&og(i.exp,r)}))};function og(t,r){if(t.type===4)GA(t,r);else for(let i=0;i<t.children.length;i++){const s=t.children[i];typeof s=="object"&&(s.type===4?GA(s,r):s.type===8?og(t,r):s.type===5&&og(s.content,r))}}function GA(t,r){const i=t.content;let s=!1,c=!1,d=!1,f=!1,g=0,y=0,b=0,E=0,w,C,T,D,$=[];for(T=0;T<i.length;T++)if(C=w,w=i.charCodeAt(T),s)w===39&&C!==92&&(s=!1);else if(c)w===34&&C!==92&&(c=!1);else if(d)w===96&&C!==92&&(d=!1);else if(f)w===47&&C!==92&&(f=!1);else if(w===124&&i.charCodeAt(T+1)!==124&&i.charCodeAt(T-1)!==124&&!g&&!y&&!b)D===void 0?(E=T+1,D=i.slice(0,T).trim()):H();else{switch(w){case 34:c=!0;break;case 39:s=!0;break;case 96:d=!0;break;case 40:b++;break;case 41:b--;break;case 91:y++;break;case 93:y--;break;case 123:g++;break;case 125:g--;break}if(w===47){let N=T-1,L;for(;N>=0&&(L=i.charAt(N),L===" ");N--);(!L||!rW.test(L))&&(f=!0)}}D===void 0?D=i.slice(0,T).trim():E!==0&&H();function H(){$.push(i.slice(E,T).trim()),E=T+1}if($.length){for(T=0;T<$.length;T++)D=oW(D,$[T],r);t.content=D,t.ast=void 0}}function oW(t,r,i){i.helper(Qg);const s=r.indexOf("(");if(s<0)return i.filters.add(r),`${iu(r,"filter")}(${t})`;{const c=r.slice(0,s),d=r.slice(s+1);return i.filters.add(c),`${iu(c,"filter")}(${t}${d!==")"?","+d:d}`}}const WA=new WeakSet,aW=(t,r)=>{if(t.type===1){const i=oi(t,"memo");return!i||WA.has(t)||r.inSSR?void 0:(WA.add(t),()=>{const s=t.codegenNode||r.currentNode.codegenNode;s&&s.type===13&&(t.tagType!==1&&av(s,r),t.codegenNode=hr(r.helper(ov),[i.exp,Bl(void 0,s),"_cache",String(r.cached.length)]),r.cached.push(null))})}},D3=(t,r)=>{if(t.type===1){for(const i of t.props)if(i.type===7&&i.name==="bind"&&(!i.exp||i.exp.type===4&&!i.exp.content.trim())&&i.arg){const s=i.arg;if(s.type!==4||!s.isStatic)r.onError(Tn(53,s.loc)),i.exp=Vt("",!0,s.loc);else{const c=kn(s.content);(M1.test(c[0])||c[0]==="-")&&(i.exp=Vt(c,!1,s.loc))}}}};function I3(t){return[[D3,nW,WG,aW,XG,iW,eW,R3,T3,tW],{on:z1,bind:M3,model:G1}]}function L3(t,r={}){const i=r.onError||N1,s=r.mode==="module";r.prefixIdentifiers===!0?i(Tn(48)):s&&i(Tn(49));const c=!1;r.cacheHandlers&&i(Tn(50)),r.scopeId&&!s&&i(Tn(51));const d=qt({},r,{prefixIdentifiers:c}),f=Pt(t)?F1(t,d):t,[g,y]=I3();return y3(f,qt({},d,{nodeTransforms:[...g,...r.nodeTransforms||[]],directiveTransforms:qt({},y,r.directiveTransforms||{})})),x3(f,d)}const sW={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},$3=()=>({props:[]});const W1=Symbol(""),K1=Symbol(""),X1=Symbol(""),Y1=Symbol(""),ag=Symbol(""),Z1=Symbol(""),J1=Symbol(""),Q1=Symbol(""),q1=Symbol(""),e_=Symbol("");GN({[W1]:"vModelRadio",[K1]:"vModelCheckbox",[X1]:"vModelText",[Y1]:"vModelSelect",[ag]:"vModelDynamic",[Z1]:"withModifiers",[J1]:"withKeys",[Q1]:"vShow",[q1]:"Transition",[e_]:"TransitionGroup"});let Ac;function lW(t,r=!1){return Ac||(Ac=document.createElement("div")),r?(Ac.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Ac.children[0].getAttribute("foo")):(Ac.innerHTML=t,Ac.textContent)}const t_={parseMode:"html",isVoidTag:gR,isNativeTag:t=>pR(t)||hR(t)||mR(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:lW,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return q1;if(t==="TransitionGroup"||t==="transition-group")return e_},getNamespace(t,r,i){let s=r?r.ns:i;if(r&&s===2)if(r.tag==="annotation-xml"){if(t==="svg")return 1;r.props.some(c=>c.type===6&&c.name==="encoding"&&c.value!=null&&(c.value.content==="text/html"||c.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(r.tag)&&t!=="mglyph"&&t!=="malignmark"&&(s=0);else r&&s===1&&(r.tag==="foreignObject"||r.tag==="desc"||r.tag==="title")&&(s=0);if(s===0){if(t==="svg")return 1;if(t==="math")return 2}return s}},B3=t=>{t.type===1&&t.props.forEach((r,i)=>{r.type===6&&r.name==="style"&&r.value&&(t.props[i]={type:7,name:"bind",arg:Vt("style",!0,r.loc),exp:cW(r.value.content,r.loc),modifiers:[],loc:r.loc})})},cW=(t,r)=>{const i=Bx(t);return Vt(JSON.stringify(i),!1,r,3)};function Ca(t,r){return Tn(t,r)}const uW={X_V_HTML_NO_EXPRESSION:54,54:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:55,55:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:56,56:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:57,57:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:58,58:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:59,59:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:60,60:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:61,61:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:62,62:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:63,63:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:64,64:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:65,65:"__EXTEND_POINT__"},fW={54:"v-html is missing expression.",55:"v-html will override element children.",56:"v-text is missing expression.",57:"v-text will override element children.",58:"v-model can only be used on <input>, <textarea> and <select> elements.",59:"v-model argument is not supported on plain elements.",60:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",61:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",62:"v-show is missing expression.",63:"<Transition> expects exactly one child element or component.",64:"Tags with side effect (<script> and <style>) are ignored in client component templates."},dW=(t,r,i)=>{const{exp:s,loc:c}=t;return s||i.onError(Ca(54,c)),r.children.length&&(i.onError(Ca(55,c)),r.children.length=0),{props:[ur(Vt("innerHTML",!0,c),s||Vt("",!0))]}},pW=(t,r,i)=>{const{exp:s,loc:c}=t;return s||i.onError(Ca(56,c)),r.children.length&&(i.onError(Ca(57,c)),r.children.length=0),{props:[ur(Vt("textContent",!0),s?xi(s,i)>0?s:hr(i.helperString(Xd),[s],c):Vt("",!0))]}},hW=(t,r,i)=>{const s=G1(t,r,i);if(!s.props.length||r.tagType===1)return s;t.arg&&i.onError(Ca(59,t.arg.loc));const{tag:c}=r,d=i.isCustomElement(c);if(c==="input"||c==="textarea"||c==="select"||d){let f=X1,g=!1;if(c==="input"||d){const y=Zd(r,"type");if(y){if(y.type===7)f=ag;else if(y.value)switch(y.value.content){case"radio":f=W1;break;case"checkbox":f=K1;break;case"file":g=!0,i.onError(Ca(60,t.loc));break}}else o3(r)&&(f=ag)}else c==="select"&&(f=Y1);g||(s.needRuntime=i.helper(f))}else i.onError(Ca(58,t.loc));return s.props=s.props.filter(f=>!(f.key.type===4&&f.key.content==="modelValue")),s},mW=kr("passive,once,capture"),gW=kr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),vW=kr("left,right"),F3=kr("onkeyup,onkeydown,onkeypress"),yW=(t,r,i,s)=>{const c=[],d=[],f=[];for(let g=0;g<r.length;g++){const y=r[g].content;y==="native"&&nu("COMPILER_V_ON_NATIVE",i)||mW(y)?f.push(y):vW(y)?si(t)?F3(t.content.toLowerCase())?c.push(y):d.push(y):(c.push(y),d.push(y)):gW(y)?d.push(y):c.push(y)}return{keyModifiers:c,nonKeyModifiers:d,eventOptionModifiers:f}},KA=(t,r)=>si(t)&&t.content.toLowerCase()==="onclick"?Vt(r,!0):t.type!==4?qi(["(",t,`) === "onClick" ? "${r}" : (`,t,")"]):t,bW=(t,r,i)=>z1(t,r,i,s=>{const{modifiers:c}=t;if(!c.length)return s;let{key:d,value:f}=s.props[0];const{keyModifiers:g,nonKeyModifiers:y,eventOptionModifiers:b}=yW(d,c,i,t.loc);if(y.includes("right")&&(d=KA(d,"onContextmenu")),y.includes("middle")&&(d=KA(d,"onMouseup")),y.length&&(f=hr(i.helper(Z1),[f,JSON.stringify(y)])),g.length&&(!si(d)||F3(d.content.toLowerCase()))&&(f=hr(i.helper(J1),[f,JSON.stringify(g)])),b.length){const E=b.map(Bs).join("");d=si(d)?Vt(`${d.content}${E}`,!0):qi(["(",d,`) + "${E}"`])}return{props:[ur(d,f)]}}),xW=(t,r,i)=>{const{exp:s,loc:c}=t;return s||i.onError(Ca(62,c)),{props:[],needRuntime:i.helper(Q1)}},_W=(t,r)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&r.removeNode()},j3=[B3],V3={cloak:$3,html:dW,text:pW,model:hW,on:bW,show:xW};function EW(t,r={}){return L3(t,qt({},t_,r,{nodeTransforms:[_W,...j3,...r.nodeTransforms||[]],directiveTransforms:qt({},V3,r.directiveTransforms||{}),transformHoist:null}))}function wW(t,r={}){return F1(t,qt({},t_,r))}const SW=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:S1,BindingTypes:sW,CAMELIZE:eg,CAPITALIZE:jN,CREATE_BLOCK:C1,CREATE_COMMENT:du,CREATE_ELEMENT_BLOCK:T1,CREATE_ELEMENT_VNODE:Kg,CREATE_SLOTS:R1,CREATE_STATIC:k1,CREATE_TEXT:Xg,CREATE_VNODE:Wg,CompilerDeprecationTypes:Gz,ConstantTypes:$z,DOMDirectiveTransforms:V3,DOMErrorCodes:uW,DOMErrorMessages:fW,DOMNodeTransforms:j3,ElementTypes:Lz,ErrorCodes:Xz,FRAGMENT:qc,GUARD_REACTIVE_PROPS:pu,IS_MEMO_SAME:P1,IS_REF:zN,KEEP_ALIVE:Td,MERGE_PROPS:kd,NORMALIZE_CLASS:tv,NORMALIZE_PROPS:eu,NORMALIZE_STYLE:nv,Namespaces:Dz,NodeTypes:Iz,OPEN_BLOCK:Is,POP_SCOPE_ID:HN,PUSH_SCOPE_ID:VN,RENDER_LIST:ev,RENDER_SLOT:A1,RESOLVE_COMPONENT:Yg,RESOLVE_DIRECTIVE:Jg,RESOLVE_DYNAMIC_COMPONENT:Zg,RESOLVE_FILTER:Qg,SET_BLOCK_TRACKING:Ad,SUSPENSE:Gg,TELEPORT:Hc,TO_DISPLAY_STRING:Xd,TO_HANDLERS:rv,TO_HANDLER_KEY:tg,TRANSITION:q1,TRANSITION_GROUP:e_,TS_NODE_TYPES:QN,UNREF:UN,V_MODEL_CHECKBOX:K1,V_MODEL_DYNAMIC:ag,V_MODEL_RADIO:W1,V_MODEL_SELECT:Y1,V_MODEL_TEXT:X1,V_ON_WITH_KEYS:J1,V_ON_WITH_MODIFIERS:Z1,V_SHOW:Q1,WITH_CTX:iv,WITH_DIRECTIVES:qg,WITH_MEMO:ov,advancePositionWithClone:dG,advancePositionWithMutation:i3,assert:pG,baseCompile:L3,baseParse:F1,buildDirectiveArgs:N3,buildProps:U1,buildSlots:k3,checkCompatEnabled:nu,compile:EW,convertToBlock:av,createArrayExpression:Ms,createAssignmentExpression:Vz,createBlockStatement:XN,createCacheExpression:KN,createCallExpression:hr,createCompilerError:Tn,createCompoundExpression:qi,createConditionalExpression:ng,createDOMCompilerError:Ca,createForLoopParams:ig,createFunctionExpression:Bl,createIfStatement:jz,createInterpolation:Bz,createObjectExpression:Mi,createObjectProperty:ur,createReturnStatement:Uz,createRoot:WN,createSequenceExpression:Hz,createSimpleExpression:Vt,createStructuralDirectiveTransform:j1,createTemplateLiteral:Fz,createTransformContext:v3,createVNodeCall:tu,errorMessages:Yz,extractIdentifiers:Lo,findDir:oi,findProp:Zd,forAliasRE:l3,generate:x3,generateCodeFrame:fR,getBaseTransformPreset:I3,getConstantType:xi,getMemoedVNodeCall:s3,getVNodeBlockHelper:jl,getVNodeHelper:Fl,hasDynamicKeyVBind:o3,hasScopeRef:fo,helperNameMap:$l,injectProp:Pd,isAllWhitespace:L1,isCommentOrWhitespace:$1,isCoreComponent:O1,isFnExpression:r3,isFnExpressionBrowser:n3,isFnExpressionNode:fG,isFunctionType:iG,isInDestructureAssignment:Qz,isInNewExpression:qz,isMemberExpression:D1,isMemberExpressionBrowser:t3,isMemberExpressionNode:cG,isReferencedIdentifier:Jz,isSimpleIdentifier:Yd,isSlotOutlet:Rd,isStaticArgOf:Ts,isStaticExp:si,isStaticProperty:JN,isStaticPropertyKey:oG,isTemplateNode:ru,isText:Sm,isVPre:Tx,isVSlot:I1,isWhitespaceText:sv,locStub:_r,noopDirectiveTransform:$3,parse:wW,parserOptions:t_,processExpression:Am,processFor:C3,processIf:S3,processSlotOutlet:O3,registerRuntimeHelpers:GN,resolveComponentType:P3,stringifyExpression:w3,toValidAssetId:iu,trackSlotScopes:T3,trackVForSlotScopes:ZG,transform:y3,transformBind:M3,transformElement:R3,transformExpression:GG,transformModel:G1,transformOn:z1,transformStyle:B3,transformVBindShorthand:D3,traverseNode:Jd,unwrapTSNode:qN,validFirstIdentCharRE:M1,walkBlockDeclarations:ZN,walkFunctionParams:eG,walkIdentifiers:Zz,warnDeprecation:Kz},Symbol.toStringTag,{value:"Module"})),CW=Bg(SW),TW=Bg(e$),kW=Bg(G4);var XA;function AW(){return XA||(XA=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});var r=CW,i=TW,s=kW;function c(y){var b=Object.create(null);if(y)for(var E in y)b[E]=y[E];return b.default=y,Object.freeze(b)}var d=c(i);const f=Object.create(null);function g(y,b){if(!s.isString(y))if(y.nodeType)y=y.innerHTML;else return s.NOOP;const E=s.genCacheKey(y,b),w=f[E];if(w)return w;if(y[0]==="#"){const $=document.querySelector(y);y=$?$.innerHTML:""}const C=s.extend({hoistStatic:!0,onError:void 0,onWarn:s.NOOP},b);!C.isCustomElement&&typeof customElements<"u"&&(C.isCustomElement=$=>!!customElements.get($));const{code:T}=r.compile(y,C),D=new Function("Vue",T)(d);return D._rc=!0,f[E]=D}i.registerRuntimeCompiler(g),t.compile=g,Object.keys(i).forEach(function(y){y!=="default"&&!Object.prototype.hasOwnProperty.call(t,y)&&(t[y]=i[y])})})(Ob)),Ob}var YA;function RW(){return YA||(YA=1,Nb.exports=AW()),Nb.exports}function ZA(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),i.push.apply(i,s)}return i}function Ho(t){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?ZA(Object(i),!0).forEach(function(s){PW(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ZA(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function Pm(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pm=function(r){return typeof r}:Pm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pm(t)}function PW(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function no(){return no=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},no.apply(this,arguments)}function NW(t,r){if(t==null)return{};var i={},s=Object.keys(t),c,d;for(d=0;d<s.length;d++)c=s[d],!(r.indexOf(c)>=0)&&(i[c]=t[c]);return i}function OW(t,r){if(t==null)return{};var i=NW(t,r),s,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(c=0;c<d.length;c++)s=d[c],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function MW(t){return DW(t)||IW(t)||LW(t)||$W()}function DW(t){if(Array.isArray(t))return Px(t)}function IW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LW(t,r){if(t){if(typeof t=="string")return Px(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Px(t,r)}}function Px(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,s=new Array(r);i<r;i++)s[i]=t[i];return s}function $W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var BW="1.14.0";function Ta(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ma=Ta(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),qd=Ta(/Edge/i),JA=Ta(/firefox/i),ed=Ta(/safari/i)&&!Ta(/chrome/i)&&!Ta(/android/i),H3=Ta(/iP(ad|od|hone)/i),FW=Ta(/chrome/i)&&Ta(/android/i),U3={capture:!1,passive:!1};function an(t,r,i){t.addEventListener(r,i,!Ma&&U3)}function Jt(t,r,i){t.removeEventListener(r,i,!Ma&&U3)}function sg(t,r){if(r){if(r[0]===">"&&(r=r.substring(1)),t)try{if(t.matches)return t.matches(r);if(t.msMatchesSelector)return t.msMatchesSelector(r);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(r)}catch{return!1}return!1}}function jW(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function po(t,r,i,s){if(t){i=i||document;do{if(r!=null&&(r[0]===">"?t.parentNode===i&&sg(t,r):sg(t,r))||s&&t===i)return t;if(t===i)break}while(t=jW(t))}return null}var QA=/\s+/g;function zn(t,r,i){if(t&&r)if(t.classList)t.classList[i?"add":"remove"](r);else{var s=(" "+t.className+" ").replace(QA," ").replace(" "+r+" "," ");t.className=(s+(i?" "+r:"")).replace(QA," ")}}function ht(t,r,i){var s=t&&t.style;if(s){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),r===void 0?i:i[r];!(r in s)&&r.indexOf("webkit")===-1&&(r="-webkit-"+r),s[r]=i+(typeof i=="string"?"":"px")}}function Pl(t,r){var i="";if(typeof t=="string")i=t;else do{var s=ht(t,"transform");s&&s!=="none"&&(i=s+" "+i)}while(!r&&(t=t.parentNode));var c=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return c&&new c(i)}function z3(t,r,i){if(t){var s=t.getElementsByTagName(r),c=0,d=s.length;if(i)for(;c<d;c++)i(s[c],c);return s}return[]}function Fo(){var t=document.scrollingElement;return t||document.documentElement}function Fn(t,r,i,s,c){if(!(!t.getBoundingClientRect&&t!==window)){var d,f,g,y,b,E,w;if(t!==window&&t.parentNode&&t!==Fo()?(d=t.getBoundingClientRect(),f=d.top,g=d.left,y=d.bottom,b=d.right,E=d.height,w=d.width):(f=0,g=0,y=window.innerHeight,b=window.innerWidth,E=window.innerHeight,w=window.innerWidth),(r||i)&&t!==window&&(c=c||t.parentNode,!Ma))do if(c&&c.getBoundingClientRect&&(ht(c,"transform")!=="none"||i&&ht(c,"position")!=="static")){var C=c.getBoundingClientRect();f-=C.top+parseInt(ht(c,"border-top-width")),g-=C.left+parseInt(ht(c,"border-left-width")),y=f+d.height,b=g+d.width;break}while(c=c.parentNode);if(s&&t!==window){var T=Pl(c||t),D=T&&T.a,$=T&&T.d;T&&(f/=$,g/=D,w/=D,E/=$,y=f+E,b=g+w)}return{top:f,left:g,bottom:y,right:b,width:w,height:E}}}function qA(t,r,i){for(var s=ks(t,!0),c=Fn(t)[r];s;){var d=Fn(s)[i],f=void 0;if(f=c>=d,!f)return s;if(s===Fo())break;s=ks(s,!1)}return!1}function ou(t,r,i,s){for(var c=0,d=0,f=t.children;d<f.length;){if(f[d].style.display!=="none"&&f[d]!==At.ghost&&(s||f[d]!==At.dragged)&&po(f[d],i.draggable,t,!1)){if(c===r)return f[d];c++}d++}return null}function n_(t,r){for(var i=t.lastElementChild;i&&(i===At.ghost||ht(i,"display")==="none"||r&&!sg(i,r));)i=i.previousElementSibling;return i||null}function nr(t,r){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==At.clone&&(!r||sg(t,r))&&i++;return i}function eR(t){var r=0,i=0,s=Fo();if(t)do{var c=Pl(t),d=c.a,f=c.d;r+=t.scrollLeft*d,i+=t.scrollTop*f}while(t!==s&&(t=t.parentNode));return[r,i]}function VW(t,r){for(var i in t)if(t.hasOwnProperty(i)){for(var s in r)if(r.hasOwnProperty(s)&&r[s]===t[i][s])return Number(i)}return-1}function ks(t,r){if(!t||!t.getBoundingClientRect)return Fo();var i=t,s=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var c=ht(i);if(i.clientWidth<i.scrollWidth&&(c.overflowX=="auto"||c.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(c.overflowY=="auto"||c.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return Fo();if(s||r)return i;s=!0}}while(i=i.parentNode);return Fo()}function HW(t,r){if(t&&r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);return t}function Db(t,r){return Math.round(t.top)===Math.round(r.top)&&Math.round(t.left)===Math.round(r.left)&&Math.round(t.height)===Math.round(r.height)&&Math.round(t.width)===Math.round(r.width)}var td;function G3(t,r){return function(){if(!td){var i=arguments,s=this;i.length===1?t.call(s,i[0]):t.apply(s,i),td=setTimeout(function(){td=void 0},r)}}}function UW(){clearTimeout(td),td=void 0}function W3(t,r,i){t.scrollLeft+=r,t.scrollTop+=i}function r_(t){var r=window.Polymer,i=window.jQuery||window.Zepto;return r&&r.dom?r.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function tR(t,r){ht(t,"position","absolute"),ht(t,"top",r.top),ht(t,"left",r.left),ht(t,"width",r.width),ht(t,"height",r.height)}function Ib(t){ht(t,"position",""),ht(t,"top",""),ht(t,"left",""),ht(t,"width",""),ht(t,"height","")}var Xr="Sortable"+new Date().getTime();function zW(){var t=[],r;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(c){if(!(ht(c,"display")==="none"||c===At.ghost)){t.push({target:c,rect:Fn(c)});var d=Ho({},t[t.length-1].rect);if(c.thisAnimationDuration){var f=Pl(c,!0);f&&(d.top-=f.f,d.left-=f.e)}c.fromRect=d}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(VW(t,{target:s}),1)},animateAll:function(s){var c=this;if(!this.options.animation){clearTimeout(r),typeof s=="function"&&s();return}var d=!1,f=0;t.forEach(function(g){var y=0,b=g.target,E=b.fromRect,w=Fn(b),C=b.prevFromRect,T=b.prevToRect,D=g.rect,$=Pl(b,!0);$&&(w.top-=$.f,w.left-=$.e),b.toRect=w,b.thisAnimationDuration&&Db(C,w)&&!Db(E,w)&&(D.top-w.top)/(D.left-w.left)===(E.top-w.top)/(E.left-w.left)&&(y=WW(D,C,T,c.options)),Db(w,E)||(b.prevFromRect=E,b.prevToRect=w,y||(y=c.options.animation),c.animate(b,D,w,y)),y&&(d=!0,f=Math.max(f,y),clearTimeout(b.animationResetTimer),b.animationResetTimer=setTimeout(function(){b.animationTime=0,b.prevFromRect=null,b.fromRect=null,b.prevToRect=null,b.thisAnimationDuration=null},y),b.thisAnimationDuration=y)}),clearTimeout(r),d?r=setTimeout(function(){typeof s=="function"&&s()},f):typeof s=="function"&&s(),t=[]},animate:function(s,c,d,f){if(f){ht(s,"transition",""),ht(s,"transform","");var g=Pl(this.el),y=g&&g.a,b=g&&g.d,E=(c.left-d.left)/(y||1),w=(c.top-d.top)/(b||1);s.animatingX=!!E,s.animatingY=!!w,ht(s,"transform","translate3d("+E+"px,"+w+"px,0)"),this.forRepaintDummy=GW(s),ht(s,"transition","transform "+f+"ms"+(this.options.easing?" "+this.options.easing:"")),ht(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){ht(s,"transition",""),ht(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},f)}}}}function GW(t){return t.offsetWidth}function WW(t,r,i,s){return Math.sqrt(Math.pow(r.top-t.top,2)+Math.pow(r.left-t.left,2))/Math.sqrt(Math.pow(r.top-i.top,2)+Math.pow(r.left-i.left,2))*s.animation}var Rc=[],Lb={initializeByDefault:!0},ep={mount:function(r){for(var i in Lb)Lb.hasOwnProperty(i)&&!(i in r)&&(r[i]=Lb[i]);Rc.forEach(function(s){if(s.pluginName===r.pluginName)throw"Sortable: Cannot mount plugin ".concat(r.pluginName," more than once")}),Rc.push(r)},pluginEvent:function(r,i,s){var c=this;this.eventCanceled=!1,s.cancel=function(){c.eventCanceled=!0};var d=r+"Global";Rc.forEach(function(f){i[f.pluginName]&&(i[f.pluginName][d]&&i[f.pluginName][d](Ho({sortable:i},s)),i.options[f.pluginName]&&i[f.pluginName][r]&&i[f.pluginName][r](Ho({sortable:i},s)))})},initializePlugins:function(r,i,s,c){Rc.forEach(function(g){var y=g.pluginName;if(!(!r.options[y]&&!g.initializeByDefault)){var b=new g(r,i,r.options);b.sortable=r,b.options=r.options,r[y]=b,no(s,b.defaults)}});for(var d in r.options)if(r.options.hasOwnProperty(d)){var f=this.modifyOption(r,d,r.options[d]);typeof f<"u"&&(r.options[d]=f)}},getEventProperties:function(r,i){var s={};return Rc.forEach(function(c){typeof c.eventProperties=="function"&&no(s,c.eventProperties.call(i[c.pluginName],r))}),s},modifyOption:function(r,i,s){var c;return Rc.forEach(function(d){r[d.pluginName]&&d.optionListeners&&typeof d.optionListeners[i]=="function"&&(c=d.optionListeners[i].call(r[d.pluginName],s))}),c}};function Bf(t){var r=t.sortable,i=t.rootEl,s=t.name,c=t.targetEl,d=t.cloneEl,f=t.toEl,g=t.fromEl,y=t.oldIndex,b=t.newIndex,E=t.oldDraggableIndex,w=t.newDraggableIndex,C=t.originalEvent,T=t.putSortable,D=t.extraEventProperties;if(r=r||i&&i[Xr],!!r){var $,H=r.options,N="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Ma&&!qd?$=new CustomEvent(s,{bubbles:!0,cancelable:!0}):($=document.createEvent("Event"),$.initEvent(s,!0,!0)),$.to=f||i,$.from=g||i,$.item=c||i,$.clone=d,$.oldIndex=y,$.newIndex=b,$.oldDraggableIndex=E,$.newDraggableIndex=w,$.originalEvent=C,$.pullMode=T?T.lastPutMode:void 0;var L=Ho(Ho({},D),ep.getEventProperties(s,r));for(var M in L)$[M]=L[M];i&&i.dispatchEvent($),H[N]&&H[N].call(r,$)}}var KW=["evt"],hi=function(r,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=s.evt,d=OW(s,KW);ep.pluginEvent.bind(At)(r,i,Ho({dragEl:Ze,parentEl:qn,ghostEl:Gt,rootEl:Ln,nextEl:dl,lastDownEl:Nm,cloneEl:er,cloneHidden:Ss,dragStarted:Ff,putSortable:Dr,activeSortable:At.active,originalEvent:c,oldIndex:$c,oldDraggableIndex:nd,newIndex:Ai,newDraggableIndex:Es,hideGhostForTarget:Z3,unhideGhostForTarget:J3,cloneNowHidden:function(){Ss=!0},cloneNowShown:function(){Ss=!1},dispatchSortableEvent:function(g){ti({sortable:i,name:g,originalEvent:c})}},d))};function ti(t){Bf(Ho({putSortable:Dr,cloneEl:er,targetEl:Ze,rootEl:Ln,oldIndex:$c,oldDraggableIndex:nd,newIndex:Ai,newDraggableIndex:Es},t))}var Ze,qn,Gt,Ln,dl,Nm,er,Ss,$c,Ai,nd,Es,fm,Dr,Ic=!1,lg=!1,cg=[],cl,lo,$b,Bb,nR,rR,Ff,Pc,rd,id=!1,dm=!1,Om,Hr,Fb=[],Nx=!1,ug=[],cv=typeof document<"u",pm=H3,iR=qd||Ma?"cssFloat":"float",XW=cv&&!FW&&!H3&&"draggable"in document.createElement("div"),K3=(function(){if(cv){if(Ma)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),X3=function(r,i){var s=ht(r),c=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),d=ou(r,0,i),f=ou(r,1,i),g=d&&ht(d),y=f&&ht(f),b=g&&parseInt(g.marginLeft)+parseInt(g.marginRight)+Fn(d).width,E=y&&parseInt(y.marginLeft)+parseInt(y.marginRight)+Fn(f).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(d&&g.float&&g.float!=="none"){var w=g.float==="left"?"left":"right";return f&&(y.clear==="both"||y.clear===w)?"vertical":"horizontal"}return d&&(g.display==="block"||g.display==="flex"||g.display==="table"||g.display==="grid"||b>=c&&s[iR]==="none"||f&&s[iR]==="none"&&b+E>c)?"vertical":"horizontal"},YW=function(r,i,s){var c=s?r.left:r.top,d=s?r.right:r.bottom,f=s?r.width:r.height,g=s?i.left:i.top,y=s?i.right:i.bottom,b=s?i.width:i.height;return c===g||d===y||c+f/2===g+b/2},ZW=function(r,i){var s;return cg.some(function(c){var d=c[Xr].options.emptyInsertThreshold;if(!(!d||n_(c))){var f=Fn(c),g=r>=f.left-d&&r<=f.right+d,y=i>=f.top-d&&i<=f.bottom+d;if(g&&y)return s=c}}),s},Y3=function(r){function i(d,f){return function(g,y,b,E){var w=g.options.group.name&&y.options.group.name&&g.options.group.name===y.options.group.name;if(d==null&&(f||w))return!0;if(d==null||d===!1)return!1;if(f&&d==="clone")return d;if(typeof d=="function")return i(d(g,y,b,E),f)(g,y,b,E);var C=(f?g:y).options.group.name;return d===!0||typeof d=="string"&&d===C||d.join&&d.indexOf(C)>-1}}var s={},c=r.group;(!c||Pm(c)!="object")&&(c={name:c}),s.name=c.name,s.checkPull=i(c.pull,!0),s.checkPut=i(c.put),s.revertClone=c.revertClone,r.group=s},Z3=function(){!K3&&Gt&&ht(Gt,"display","none")},J3=function(){!K3&&Gt&&ht(Gt,"display","")};cv&&document.addEventListener("click",function(t){if(lg)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),lg=!1,!1},!0);var ul=function(r){if(Ze){r=r.touches?r.touches[0]:r;var i=ZW(r.clientX,r.clientY);if(i){var s={};for(var c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);s.target=s.rootEl=i,s.preventDefault=void 0,s.stopPropagation=void 0,i[Xr]._onDragOver(s)}}},JW=function(r){Ze&&Ze.parentNode[Xr]._isOutsideThisEl(r.target)};function At(t,r){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=r=no({},r),t[Xr]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return X3(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(f,g){f.setData("Text",g.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:At.supportPointer!==!1&&"PointerEvent"in window&&!ed,emptyInsertThreshold:5};ep.initializePlugins(this,t,i);for(var s in i)!(s in r)&&(r[s]=i[s]);Y3(r);for(var c in this)c.charAt(0)==="_"&&typeof this[c]=="function"&&(this[c]=this[c].bind(this));this.nativeDraggable=r.forceFallback?!1:XW,this.nativeDraggable&&(this.options.touchStartThreshold=1),r.supportPointer?an(t,"pointerdown",this._onTapStart):(an(t,"mousedown",this._onTapStart),an(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(an(t,"dragover",this),an(t,"dragenter",this)),cg.push(this.el),r.store&&r.store.get&&this.sort(r.store.get(this)||[]),no(this,zW())}At.prototype={constructor:At,_isOutsideThisEl:function(r){!this.el.contains(r)&&r!==this.el&&(Pc=null)},_getDirection:function(r,i){return typeof this.options.direction=="function"?this.options.direction.call(this,r,i,Ze):this.options.direction},_onTapStart:function(r){if(r.cancelable){var i=this,s=this.el,c=this.options,d=c.preventOnFilter,f=r.type,g=r.touches&&r.touches[0]||r.pointerType&&r.pointerType==="touch"&&r,y=(g||r).target,b=r.target.shadowRoot&&(r.path&&r.path[0]||r.composedPath&&r.composedPath()[0])||y,E=c.filter;if(oK(s),!Ze&&!(/mousedown|pointerdown/.test(f)&&r.button!==0||c.disabled)&&!b.isContentEditable&&!(!this.nativeDraggable&&ed&&y&&y.tagName.toUpperCase()==="SELECT")&&(y=po(y,c.draggable,s,!1),!(y&&y.animated)&&Nm!==y)){if($c=nr(y),nd=nr(y,c.draggable),typeof E=="function"){if(E.call(this,r,y,this)){ti({sortable:i,rootEl:b,name:"filter",targetEl:y,toEl:s,fromEl:s}),hi("filter",i,{evt:r}),d&&r.cancelable&&r.preventDefault();return}}else if(E&&(E=E.split(",").some(function(w){if(w=po(b,w.trim(),s,!1),w)return ti({sortable:i,rootEl:w,name:"filter",targetEl:y,fromEl:s,toEl:s}),hi("filter",i,{evt:r}),!0}),E)){d&&r.cancelable&&r.preventDefault();return}c.handle&&!po(b,c.handle,s,!1)||this._prepareDragStart(r,g,y)}}},_prepareDragStart:function(r,i,s){var c=this,d=c.el,f=c.options,g=d.ownerDocument,y;if(s&&!Ze&&s.parentNode===d){var b=Fn(s);if(Ln=d,Ze=s,qn=Ze.parentNode,dl=Ze.nextSibling,Nm=s,fm=f.group,At.dragged=Ze,cl={target:Ze,clientX:(i||r).clientX,clientY:(i||r).clientY},nR=cl.clientX-b.left,rR=cl.clientY-b.top,this._lastX=(i||r).clientX,this._lastY=(i||r).clientY,Ze.style["will-change"]="all",y=function(){if(hi("delayEnded",c,{evt:r}),At.eventCanceled){c._onDrop();return}c._disableDelayedDragEvents(),!JA&&c.nativeDraggable&&(Ze.draggable=!0),c._triggerDragStart(r,i),ti({sortable:c,name:"choose",originalEvent:r}),zn(Ze,f.chosenClass,!0)},f.ignore.split(",").forEach(function(E){z3(Ze,E.trim(),jb)}),an(g,"dragover",ul),an(g,"mousemove",ul),an(g,"touchmove",ul),an(g,"mouseup",c._onDrop),an(g,"touchend",c._onDrop),an(g,"touchcancel",c._onDrop),JA&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ze.draggable=!0),hi("delayStart",this,{evt:r}),f.delay&&(!f.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(qd||Ma))){if(At.eventCanceled){this._onDrop();return}an(g,"mouseup",c._disableDelayedDrag),an(g,"touchend",c._disableDelayedDrag),an(g,"touchcancel",c._disableDelayedDrag),an(g,"mousemove",c._delayedDragTouchMoveHandler),an(g,"touchmove",c._delayedDragTouchMoveHandler),f.supportPointer&&an(g,"pointermove",c._delayedDragTouchMoveHandler),c._dragStartTimer=setTimeout(y,f.delay)}else y()}},_delayedDragTouchMoveHandler:function(r){var i=r.touches?r.touches[0]:r;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ze&&jb(Ze),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var r=this.el.ownerDocument;Jt(r,"mouseup",this._disableDelayedDrag),Jt(r,"touchend",this._disableDelayedDrag),Jt(r,"touchcancel",this._disableDelayedDrag),Jt(r,"mousemove",this._delayedDragTouchMoveHandler),Jt(r,"touchmove",this._delayedDragTouchMoveHandler),Jt(r,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(r,i){i=i||r.pointerType=="touch"&&r,!this.nativeDraggable||i?this.options.supportPointer?an(document,"pointermove",this._onTouchMove):i?an(document,"touchmove",this._onTouchMove):an(document,"mousemove",this._onTouchMove):(an(Ze,"dragend",this),an(Ln,"dragstart",this._onDragStart));try{document.selection?Mm(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(r,i){if(Ic=!1,Ln&&Ze){hi("dragStarted",this,{evt:i}),this.nativeDraggable&&an(document,"dragover",JW);var s=this.options;!r&&zn(Ze,s.dragClass,!1),zn(Ze,s.ghostClass,!0),At.active=this,r&&this._appendGhost(),ti({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(lo){this._lastX=lo.clientX,this._lastY=lo.clientY,Z3();for(var r=document.elementFromPoint(lo.clientX,lo.clientY),i=r;r&&r.shadowRoot&&(r=r.shadowRoot.elementFromPoint(lo.clientX,lo.clientY),r!==i);)i=r;if(Ze.parentNode[Xr]._isOutsideThisEl(r),i)do{if(i[Xr]){var s=void 0;if(s=i[Xr]._onDragOver({clientX:lo.clientX,clientY:lo.clientY,target:r,rootEl:i}),s&&!this.options.dragoverBubble)break}r=i}while(i=i.parentNode);J3()}},_onTouchMove:function(r){if(cl){var i=this.options,s=i.fallbackTolerance,c=i.fallbackOffset,d=r.touches?r.touches[0]:r,f=Gt&&Pl(Gt,!0),g=Gt&&f&&f.a,y=Gt&&f&&f.d,b=pm&&Hr&&eR(Hr),E=(d.clientX-cl.clientX+c.x)/(g||1)+(b?b[0]-Fb[0]:0)/(g||1),w=(d.clientY-cl.clientY+c.y)/(y||1)+(b?b[1]-Fb[1]:0)/(y||1);if(!At.active&&!Ic){if(s&&Math.max(Math.abs(d.clientX-this._lastX),Math.abs(d.clientY-this._lastY))<s)return;this._onDragStart(r,!0)}if(Gt){f?(f.e+=E-($b||0),f.f+=w-(Bb||0)):f={a:1,b:0,c:0,d:1,e:E,f:w};var C="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");ht(Gt,"webkitTransform",C),ht(Gt,"mozTransform",C),ht(Gt,"msTransform",C),ht(Gt,"transform",C),$b=E,Bb=w,lo=d}r.cancelable&&r.preventDefault()}},_appendGhost:function(){if(!Gt){var r=this.options.fallbackOnBody?document.body:Ln,i=Fn(Ze,!0,pm,!0,r),s=this.options;if(pm){for(Hr=r;ht(Hr,"position")==="static"&&ht(Hr,"transform")==="none"&&Hr!==document;)Hr=Hr.parentNode;Hr!==document.body&&Hr!==document.documentElement?(Hr===document&&(Hr=Fo()),i.top+=Hr.scrollTop,i.left+=Hr.scrollLeft):Hr=Fo(),Fb=eR(Hr)}Gt=Ze.cloneNode(!0),zn(Gt,s.ghostClass,!1),zn(Gt,s.fallbackClass,!0),zn(Gt,s.dragClass,!0),ht(Gt,"transition",""),ht(Gt,"transform",""),ht(Gt,"box-sizing","border-box"),ht(Gt,"margin",0),ht(Gt,"top",i.top),ht(Gt,"left",i.left),ht(Gt,"width",i.width),ht(Gt,"height",i.height),ht(Gt,"opacity","0.8"),ht(Gt,"position",pm?"absolute":"fixed"),ht(Gt,"zIndex","100000"),ht(Gt,"pointerEvents","none"),At.ghost=Gt,r.appendChild(Gt),ht(Gt,"transform-origin",nR/parseInt(Gt.style.width)*100+"% "+rR/parseInt(Gt.style.height)*100+"%")}},_onDragStart:function(r,i){var s=this,c=r.dataTransfer,d=s.options;if(hi("dragStart",this,{evt:r}),At.eventCanceled){this._onDrop();return}hi("setupClone",this),At.eventCanceled||(er=r_(Ze),er.draggable=!1,er.style["will-change"]="",this._hideClone(),zn(er,this.options.chosenClass,!1),At.clone=er),s.cloneId=Mm(function(){hi("clone",s),!At.eventCanceled&&(s.options.removeCloneOnHide||Ln.insertBefore(er,Ze),s._hideClone(),ti({sortable:s,name:"clone"}))}),!i&&zn(Ze,d.dragClass,!0),i?(lg=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Jt(document,"mouseup",s._onDrop),Jt(document,"touchend",s._onDrop),Jt(document,"touchcancel",s._onDrop),c&&(c.effectAllowed="move",d.setData&&d.setData.call(s,c,Ze)),an(document,"drop",s),ht(Ze,"transform","translateZ(0)")),Ic=!0,s._dragStartId=Mm(s._dragStarted.bind(s,i,r)),an(document,"selectstart",s),Ff=!0,ed&&ht(document.body,"user-select","none")},_onDragOver:function(r){var i=this.el,s=r.target,c,d,f,g=this.options,y=g.group,b=At.active,E=fm===y,w=g.sort,C=Dr||b,T,D=this,$=!1;if(Nx)return;function H(fe,pe){hi(fe,D,Ho({evt:r,isOwner:E,axis:T?"vertical":"horizontal",revert:f,dragRect:c,targetRect:d,canSort:w,fromSortable:C,target:s,completed:L,onMove:function(ot,Ye){return hm(Ln,i,Ze,c,ot,Fn(ot),r,Ye)},changed:M},pe))}function N(){H("dragOverAnimationCapture"),D.captureAnimationState(),D!==C&&C.captureAnimationState()}function L(fe){return H("dragOverCompleted",{insertion:fe}),fe&&(E?b._hideClone():b._showClone(D),D!==C&&(zn(Ze,Dr?Dr.options.ghostClass:b.options.ghostClass,!1),zn(Ze,g.ghostClass,!0)),Dr!==D&&D!==At.active?Dr=D:D===At.active&&Dr&&(Dr=null),C===D&&(D._ignoreWhileAnimating=s),D.animateAll(function(){H("dragOverAnimationComplete"),D._ignoreWhileAnimating=null}),D!==C&&(C.animateAll(),C._ignoreWhileAnimating=null)),(s===Ze&&!Ze.animated||s===i&&!s.animated)&&(Pc=null),!g.dragoverBubble&&!r.rootEl&&s!==document&&(Ze.parentNode[Xr]._isOutsideThisEl(r.target),!fe&&ul(r)),!g.dragoverBubble&&r.stopPropagation&&r.stopPropagation(),$=!0}function M(){Ai=nr(Ze),Es=nr(Ze,g.draggable),ti({sortable:D,name:"change",toEl:i,newIndex:Ai,newDraggableIndex:Es,originalEvent:r})}if(r.preventDefault!==void 0&&r.cancelable&&r.preventDefault(),s=po(s,g.draggable,i,!0),H("dragOver"),At.eventCanceled)return $;if(Ze.contains(r.target)||s.animated&&s.animatingX&&s.animatingY||D._ignoreWhileAnimating===s)return L(!1);if(lg=!1,b&&!g.disabled&&(E?w||(f=qn!==Ln):Dr===this||(this.lastPutMode=fm.checkPull(this,b,Ze,r))&&y.checkPut(this,b,Ze,r))){if(T=this._getDirection(r,s)==="vertical",c=Fn(Ze),H("dragOverValid"),At.eventCanceled)return $;if(f)return qn=Ln,N(),this._hideClone(),H("revert"),At.eventCanceled||(dl?Ln.insertBefore(Ze,dl):Ln.appendChild(Ze)),L(!0);var A=n_(i,g.draggable);if(!A||tK(r,T,this)&&!A.animated){if(A===Ze)return L(!1);if(A&&i===r.target&&(s=A),s&&(d=Fn(s)),hm(Ln,i,Ze,c,s,d,r,!!s)!==!1)return N(),i.appendChild(Ze),qn=i,M(),L(!0)}else if(A&&eK(r,T,this)){var z=ou(i,0,g,!0);if(z===Ze)return L(!1);if(s=z,d=Fn(s),hm(Ln,i,Ze,c,s,d,r,!1)!==!1)return N(),i.insertBefore(Ze,z),qn=i,M(),L(!0)}else if(s.parentNode===i){d=Fn(s);var Z=0,te,ee=Ze.parentNode!==i,W=!YW(Ze.animated&&Ze.toRect||c,s.animated&&s.toRect||d,T),Q=T?"top":"left",oe=qA(s,"top","top")||qA(Ze,"top","top"),re=oe?oe.scrollTop:void 0;Pc!==s&&(te=d[Q],id=!1,dm=!W&&g.invertSwap||ee),Z=nK(r,s,d,T,W?1:g.swapThreshold,g.invertedSwapThreshold==null?g.swapThreshold:g.invertedSwapThreshold,dm,Pc===s);var J;if(Z!==0){var ce=nr(Ze);do ce-=Z,J=qn.children[ce];while(J&&(ht(J,"display")==="none"||J===Gt))}if(Z===0||J===s)return L(!1);Pc=s,rd=Z;var ue=s.nextElementSibling,le=!1;le=Z===1;var ve=hm(Ln,i,Ze,c,s,d,r,le);if(ve!==!1)return(ve===1||ve===-1)&&(le=ve===1),Nx=!0,setTimeout(qW,30),N(),le&&!ue?i.appendChild(Ze):s.parentNode.insertBefore(Ze,le?ue:s),oe&&W3(oe,0,re-oe.scrollTop),qn=Ze.parentNode,te!==void 0&&!dm&&(Om=Math.abs(te-Fn(s)[Q])),M(),L(!0)}if(i.contains(Ze))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Jt(document,"mousemove",this._onTouchMove),Jt(document,"touchmove",this._onTouchMove),Jt(document,"pointermove",this._onTouchMove),Jt(document,"dragover",ul),Jt(document,"mousemove",ul),Jt(document,"touchmove",ul)},_offUpEvents:function(){var r=this.el.ownerDocument;Jt(r,"mouseup",this._onDrop),Jt(r,"touchend",this._onDrop),Jt(r,"pointerup",this._onDrop),Jt(r,"touchcancel",this._onDrop),Jt(document,"selectstart",this)},_onDrop:function(r){var i=this.el,s=this.options;if(Ai=nr(Ze),Es=nr(Ze,s.draggable),hi("drop",this,{evt:r}),qn=Ze&&Ze.parentNode,Ai=nr(Ze),Es=nr(Ze,s.draggable),At.eventCanceled){this._nulling();return}Ic=!1,dm=!1,id=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ox(this.cloneId),Ox(this._dragStartId),this.nativeDraggable&&(Jt(document,"drop",this),Jt(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ed&&ht(document.body,"user-select",""),ht(Ze,"transform",""),r&&(Ff&&(r.cancelable&&r.preventDefault(),!s.dropBubble&&r.stopPropagation()),Gt&&Gt.parentNode&&Gt.parentNode.removeChild(Gt),(Ln===qn||Dr&&Dr.lastPutMode!=="clone")&&er&&er.parentNode&&er.parentNode.removeChild(er),Ze&&(this.nativeDraggable&&Jt(Ze,"dragend",this),jb(Ze),Ze.style["will-change"]="",Ff&&!Ic&&zn(Ze,Dr?Dr.options.ghostClass:this.options.ghostClass,!1),zn(Ze,this.options.chosenClass,!1),ti({sortable:this,name:"unchoose",toEl:qn,newIndex:null,newDraggableIndex:null,originalEvent:r}),Ln!==qn?(Ai>=0&&(ti({rootEl:qn,name:"add",toEl:qn,fromEl:Ln,originalEvent:r}),ti({sortable:this,name:"remove",toEl:qn,originalEvent:r}),ti({rootEl:qn,name:"sort",toEl:qn,fromEl:Ln,originalEvent:r}),ti({sortable:this,name:"sort",toEl:qn,originalEvent:r})),Dr&&Dr.save()):Ai!==$c&&Ai>=0&&(ti({sortable:this,name:"update",toEl:qn,originalEvent:r}),ti({sortable:this,name:"sort",toEl:qn,originalEvent:r})),At.active&&((Ai==null||Ai===-1)&&(Ai=$c,Es=nd),ti({sortable:this,name:"end",toEl:qn,originalEvent:r}),this.save()))),this._nulling()},_nulling:function(){hi("nulling",this),Ln=Ze=qn=Gt=dl=er=Nm=Ss=cl=lo=Ff=Ai=Es=$c=nd=Pc=rd=Dr=fm=At.dragged=At.ghost=At.clone=At.active=null,ug.forEach(function(r){r.checked=!0}),ug.length=$b=Bb=0},handleEvent:function(r){switch(r.type){case"drop":case"dragend":this._onDrop(r);break;case"dragenter":case"dragover":Ze&&(this._onDragOver(r),QW(r));break;case"selectstart":r.preventDefault();break}},toArray:function(){for(var r=[],i,s=this.el.children,c=0,d=s.length,f=this.options;c<d;c++)i=s[c],po(i,f.draggable,this.el,!1)&&r.push(i.getAttribute(f.dataIdAttr)||iK(i));return r},sort:function(r,i){var s={},c=this.el;this.toArray().forEach(function(d,f){var g=c.children[f];po(g,this.options.draggable,c,!1)&&(s[d]=g)},this),i&&this.captureAnimationState(),r.forEach(function(d){s[d]&&(c.removeChild(s[d]),c.appendChild(s[d]))}),i&&this.animateAll()},save:function(){var r=this.options.store;r&&r.set&&r.set(this)},closest:function(r,i){return po(r,i||this.options.draggable,this.el,!1)},option:function(r,i){var s=this.options;if(i===void 0)return s[r];var c=ep.modifyOption(this,r,i);typeof c<"u"?s[r]=c:s[r]=i,r==="group"&&Y3(s)},destroy:function(){hi("destroy",this);var r=this.el;r[Xr]=null,Jt(r,"mousedown",this._onTapStart),Jt(r,"touchstart",this._onTapStart),Jt(r,"pointerdown",this._onTapStart),this.nativeDraggable&&(Jt(r,"dragover",this),Jt(r,"dragenter",this)),Array.prototype.forEach.call(r.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),cg.splice(cg.indexOf(this.el),1),this.el=r=null},_hideClone:function(){if(!Ss){if(hi("hideClone",this),At.eventCanceled)return;ht(er,"display","none"),this.options.removeCloneOnHide&&er.parentNode&&er.parentNode.removeChild(er),Ss=!0}},_showClone:function(r){if(r.lastPutMode!=="clone"){this._hideClone();return}if(Ss){if(hi("showClone",this),At.eventCanceled)return;Ze.parentNode==Ln&&!this.options.group.revertClone?Ln.insertBefore(er,Ze):dl?Ln.insertBefore(er,dl):Ln.appendChild(er),this.options.group.revertClone&&this.animate(Ze,er),ht(er,"display",""),Ss=!1}}};function QW(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function hm(t,r,i,s,c,d,f,g){var y,b=t[Xr],E=b.options.onMove,w;return window.CustomEvent&&!Ma&&!qd?y=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent("move",!0,!0)),y.to=r,y.from=t,y.dragged=i,y.draggedRect=s,y.related=c||r,y.relatedRect=d||Fn(r),y.willInsertAfter=g,y.originalEvent=f,t.dispatchEvent(y),E&&(w=E.call(b,y,f)),w}function jb(t){t.draggable=!1}function qW(){Nx=!1}function eK(t,r,i){var s=Fn(ou(i.el,0,i.options,!0)),c=10;return r?t.clientX<s.left-c||t.clientY<s.top&&t.clientX<s.right:t.clientY<s.top-c||t.clientY<s.bottom&&t.clientX<s.left}function tK(t,r,i){var s=Fn(n_(i.el,i.options.draggable)),c=10;return r?t.clientX>s.right+c||t.clientX<=s.right&&t.clientY>s.bottom&&t.clientX>=s.left:t.clientX>s.right&&t.clientY>s.top||t.clientX<=s.right&&t.clientY>s.bottom+c}function nK(t,r,i,s,c,d,f,g){var y=s?t.clientY:t.clientX,b=s?i.height:i.width,E=s?i.top:i.left,w=s?i.bottom:i.right,C=!1;if(!f){if(g&&Om<b*c){if(!id&&(rd===1?y>E+b*d/2:y<w-b*d/2)&&(id=!0),id)C=!0;else if(rd===1?y<E+Om:y>w-Om)return-rd}else if(y>E+b*(1-c)/2&&y<w-b*(1-c)/2)return rK(r)}return C=C||f,C&&(y<E+b*d/2||y>w-b*d/2)?y>E+b/2?1:-1:0}function rK(t){return nr(Ze)<nr(t)?1:-1}function iK(t){for(var r=t.tagName+t.className+t.src+t.href+t.textContent,i=r.length,s=0;i--;)s+=r.charCodeAt(i);return s.toString(36)}function oK(t){ug.length=0;for(var r=t.getElementsByTagName("input"),i=r.length;i--;){var s=r[i];s.checked&&ug.push(s)}}function Mm(t){return setTimeout(t,0)}function Ox(t){return clearTimeout(t)}cv&&an(document,"touchmove",function(t){(At.active||Ic)&&t.cancelable&&t.preventDefault()});At.utils={on:an,off:Jt,css:ht,find:z3,is:function(r,i){return!!po(r,i,r,!1)},extend:HW,throttle:G3,closest:po,toggleClass:zn,clone:r_,index:nr,nextTick:Mm,cancelNextTick:Ox,detectDirection:X3,getChild:ou};At.get=function(t){return t[Xr]};At.mount=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];r[0].constructor===Array&&(r=r[0]),r.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(At.utils=Ho(Ho({},At.utils),s.utils)),ep.mount(s)})};At.create=function(t,r){return new At(t,r)};At.version=BW;var dr=[],jf,Mx,Dx=!1,Vb,Hb,fg,Vf;function aK(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this))}return t.prototype={dragStarted:function(i){var s=i.originalEvent;this.sortable.nativeDraggable?an(document,"dragover",this._handleAutoScroll):this.options.supportPointer?an(document,"pointermove",this._handleFallbackAutoScroll):s.touches?an(document,"touchmove",this._handleFallbackAutoScroll):an(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var s=i.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Jt(document,"dragover",this._handleAutoScroll):(Jt(document,"pointermove",this._handleFallbackAutoScroll),Jt(document,"touchmove",this._handleFallbackAutoScroll),Jt(document,"mousemove",this._handleFallbackAutoScroll)),oR(),Dm(),UW()},nulling:function(){fg=Mx=jf=Dx=Vf=Vb=Hb=null,dr.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,s){var c=this,d=(i.touches?i.touches[0]:i).clientX,f=(i.touches?i.touches[0]:i).clientY,g=document.elementFromPoint(d,f);if(fg=i,s||this.options.forceAutoScrollFallback||qd||Ma||ed){Ub(i,this.options,g,s);var y=ks(g,!0);Dx&&(!Vf||d!==Vb||f!==Hb)&&(Vf&&oR(),Vf=setInterval(function(){var b=ks(document.elementFromPoint(d,f),!0);b!==y&&(y=b,Dm()),Ub(i,c.options,b,s)},10),Vb=d,Hb=f)}else{if(!this.options.bubbleScroll||ks(g,!0)===Fo()){Dm();return}Ub(i,this.options,ks(g,!1),!1)}}},no(t,{pluginName:"scroll",initializeByDefault:!0})}function Dm(){dr.forEach(function(t){clearInterval(t.pid)}),dr=[]}function oR(){clearInterval(Vf)}var Ub=G3(function(t,r,i,s){if(r.scroll){var c=(t.touches?t.touches[0]:t).clientX,d=(t.touches?t.touches[0]:t).clientY,f=r.scrollSensitivity,g=r.scrollSpeed,y=Fo(),b=!1,E;Mx!==i&&(Mx=i,Dm(),jf=r.scroll,E=r.scrollFn,jf===!0&&(jf=ks(i,!0)));var w=0,C=jf;do{var T=C,D=Fn(T),$=D.top,H=D.bottom,N=D.left,L=D.right,M=D.width,A=D.height,z=void 0,Z=void 0,te=T.scrollWidth,ee=T.scrollHeight,W=ht(T),Q=T.scrollLeft,oe=T.scrollTop;T===y?(z=M<te&&(W.overflowX==="auto"||W.overflowX==="scroll"||W.overflowX==="visible"),Z=A<ee&&(W.overflowY==="auto"||W.overflowY==="scroll"||W.overflowY==="visible")):(z=M<te&&(W.overflowX==="auto"||W.overflowX==="scroll"),Z=A<ee&&(W.overflowY==="auto"||W.overflowY==="scroll"));var re=z&&(Math.abs(L-c)<=f&&Q+M<te)-(Math.abs(N-c)<=f&&!!Q),J=Z&&(Math.abs(H-d)<=f&&oe+A<ee)-(Math.abs($-d)<=f&&!!oe);if(!dr[w])for(var ce=0;ce<=w;ce++)dr[ce]||(dr[ce]={});(dr[w].vx!=re||dr[w].vy!=J||dr[w].el!==T)&&(dr[w].el=T,dr[w].vx=re,dr[w].vy=J,clearInterval(dr[w].pid),(re!=0||J!=0)&&(b=!0,dr[w].pid=setInterval((function(){s&&this.layer===0&&At.active._onTouchMove(fg);var ue=dr[this.layer].vy?dr[this.layer].vy*g:0,le=dr[this.layer].vx?dr[this.layer].vx*g:0;typeof E=="function"&&E.call(At.dragged.parentNode[Xr],le,ue,t,fg,dr[this.layer].el)!=="continue"||W3(dr[this.layer].el,le,ue)}).bind({layer:w}),24))),w++}while(r.bubbleScroll&&C!==y&&(C=ks(C,!1)));Dx=b}},30),Q3=function(r){var i=r.originalEvent,s=r.putSortable,c=r.dragEl,d=r.activeSortable,f=r.dispatchSortableEvent,g=r.hideGhostForTarget,y=r.unhideGhostForTarget;if(i){var b=s||d;g();var E=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,w=document.elementFromPoint(E.clientX,E.clientY);y(),b&&!b.el.contains(w)&&(f("spill"),this.onSpill({dragEl:c,putSortable:s}))}};function i_(){}i_.prototype={startIndex:null,dragStart:function(r){var i=r.oldDraggableIndex;this.startIndex=i},onSpill:function(r){var i=r.dragEl,s=r.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var c=ou(this.sortable.el,this.startIndex,this.options);c?this.sortable.el.insertBefore(i,c):this.sortable.el.appendChild(i),this.sortable.animateAll(),s&&s.animateAll()},drop:Q3};no(i_,{pluginName:"revertOnSpill"});function o_(){}o_.prototype={onSpill:function(r){var i=r.dragEl,s=r.putSortable,c=s||this.sortable;c.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),c.animateAll()},drop:Q3};no(o_,{pluginName:"removeOnSpill"});var Zi;function sK(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(i){var s=i.dragEl;Zi=s},dragOverValid:function(i){var s=i.completed,c=i.target,d=i.onMove,f=i.activeSortable,g=i.changed,y=i.cancel;if(f.options.swap){var b=this.sortable.el,E=this.options;if(c&&c!==b){var w=Zi;d(c)!==!1?(zn(c,E.swapClass,!0),Zi=c):Zi=null,w&&w!==Zi&&zn(w,E.swapClass,!1)}g(),s(!0),y()}},drop:function(i){var s=i.activeSortable,c=i.putSortable,d=i.dragEl,f=c||this.sortable,g=this.options;Zi&&zn(Zi,g.swapClass,!1),Zi&&(g.swap||c&&c.options.swap)&&d!==Zi&&(f.captureAnimationState(),f!==s&&s.captureAnimationState(),lK(d,Zi),f.animateAll(),f!==s&&s.animateAll())},nulling:function(){Zi=null}},no(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Zi}}})}function lK(t,r){var i=t.parentNode,s=r.parentNode,c,d;!i||!s||i.isEqualNode(r)||s.isEqualNode(t)||(c=nr(t),d=nr(r),i.isEqualNode(s)&&c<d&&d++,i.insertBefore(r,i.children[c]),s.insertBefore(t,s.children[d]))}var jt=[],ki=[],Pf,co,Nf=!1,mi=!1,Nc=!1,Sn,Of,mm;function cK(){function t(r){for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));r.options.supportPointer?an(document,"pointerup",this._deselectMultiDrag):(an(document,"mouseup",this._deselectMultiDrag),an(document,"touchend",this._deselectMultiDrag)),an(document,"keydown",this._checkKeyDown),an(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(c,d){var f="";jt.length&&co===r?jt.forEach(function(g,y){f+=(y?", ":"")+g.textContent}):f=d.textContent,c.setData("Text",f)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(i){var s=i.dragEl;Sn=s},delayEnded:function(){this.isMultiDrag=~jt.indexOf(Sn)},setupClone:function(i){var s=i.sortable,c=i.cancel;if(this.isMultiDrag){for(var d=0;d<jt.length;d++)ki.push(r_(jt[d])),ki[d].sortableIndex=jt[d].sortableIndex,ki[d].draggable=!1,ki[d].style["will-change"]="",zn(ki[d],this.options.selectedClass,!1),jt[d]===Sn&&zn(ki[d],this.options.chosenClass,!1);s._hideClone(),c()}},clone:function(i){var s=i.sortable,c=i.rootEl,d=i.dispatchSortableEvent,f=i.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||jt.length&&co===s&&(aR(!0,c),d("clone"),f()))},showClone:function(i){var s=i.cloneNowShown,c=i.rootEl,d=i.cancel;this.isMultiDrag&&(aR(!1,c),ki.forEach(function(f){ht(f,"display","")}),s(),mm=!1,d())},hideClone:function(i){var s=this;i.sortable;var c=i.cloneNowHidden,d=i.cancel;this.isMultiDrag&&(ki.forEach(function(f){ht(f,"display","none"),s.options.removeCloneOnHide&&f.parentNode&&f.parentNode.removeChild(f)}),c(),mm=!0,d())},dragStartGlobal:function(i){i.sortable,!this.isMultiDrag&&co&&co.multiDrag._deselectMultiDrag(),jt.forEach(function(s){s.sortableIndex=nr(s)}),jt=jt.sort(function(s,c){return s.sortableIndex-c.sortableIndex}),Nc=!0},dragStarted:function(i){var s=this,c=i.sortable;if(this.isMultiDrag){if(this.options.sort&&(c.captureAnimationState(),this.options.animation)){jt.forEach(function(f){f!==Sn&&ht(f,"position","absolute")});var d=Fn(Sn,!1,!0,!0);jt.forEach(function(f){f!==Sn&&tR(f,d)}),mi=!0,Nf=!0}c.animateAll(function(){mi=!1,Nf=!1,s.options.animation&&jt.forEach(function(f){Ib(f)}),s.options.sort&&gm()})}},dragOver:function(i){var s=i.target,c=i.completed,d=i.cancel;mi&&~jt.indexOf(s)&&(c(!1),d())},revert:function(i){var s=i.fromSortable,c=i.rootEl,d=i.sortable,f=i.dragRect;jt.length>1&&(jt.forEach(function(g){d.addAnimationState({target:g,rect:mi?Fn(g):f}),Ib(g),g.fromRect=f,s.removeAnimationState(g)}),mi=!1,uK(!this.options.removeCloneOnHide,c))},dragOverCompleted:function(i){var s=i.sortable,c=i.isOwner,d=i.insertion,f=i.activeSortable,g=i.parentEl,y=i.putSortable,b=this.options;if(d){if(c&&f._hideClone(),Nf=!1,b.animation&&jt.length>1&&(mi||!c&&!f.options.sort&&!y)){var E=Fn(Sn,!1,!0,!0);jt.forEach(function(C){C!==Sn&&(tR(C,E),g.appendChild(C))}),mi=!0}if(!c)if(mi||gm(),jt.length>1){var w=mm;f._showClone(s),f.options.animation&&!mm&&w&&ki.forEach(function(C){f.addAnimationState({target:C,rect:Of}),C.fromRect=Of,C.thisAnimationDuration=null})}else f._showClone(s)}},dragOverAnimationCapture:function(i){var s=i.dragRect,c=i.isOwner,d=i.activeSortable;if(jt.forEach(function(g){g.thisAnimationDuration=null}),d.options.animation&&!c&&d.multiDrag.isMultiDrag){Of=no({},s);var f=Pl(Sn,!0);Of.top-=f.f,Of.left-=f.e}},dragOverAnimationComplete:function(){mi&&(mi=!1,gm())},drop:function(i){var s=i.originalEvent,c=i.rootEl,d=i.parentEl,f=i.sortable,g=i.dispatchSortableEvent,y=i.oldIndex,b=i.putSortable,E=b||this.sortable;if(s){var w=this.options,C=d.children;if(!Nc)if(w.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),zn(Sn,w.selectedClass,!~jt.indexOf(Sn)),~jt.indexOf(Sn))jt.splice(jt.indexOf(Sn),1),Pf=null,Bf({sortable:f,rootEl:c,name:"deselect",targetEl:Sn});else{if(jt.push(Sn),Bf({sortable:f,rootEl:c,name:"select",targetEl:Sn}),s.shiftKey&&Pf&&f.el.contains(Pf)){var T=nr(Pf),D=nr(Sn);if(~T&&~D&&T!==D){var $,H;for(D>T?(H=T,$=D):(H=D,$=T+1);H<$;H++)~jt.indexOf(C[H])||(zn(C[H],w.selectedClass,!0),jt.push(C[H]),Bf({sortable:f,rootEl:c,name:"select",targetEl:C[H]}))}}else Pf=Sn;co=E}if(Nc&&this.isMultiDrag){if(mi=!1,(d[Xr].options.sort||d!==c)&&jt.length>1){var N=Fn(Sn),L=nr(Sn,":not(."+this.options.selectedClass+")");if(!Nf&&w.animation&&(Sn.thisAnimationDuration=null),E.captureAnimationState(),!Nf&&(w.animation&&(Sn.fromRect=N,jt.forEach(function(A){if(A.thisAnimationDuration=null,A!==Sn){var z=mi?Fn(A):N;A.fromRect=z,E.addAnimationState({target:A,rect:z})}})),gm(),jt.forEach(function(A){C[L]?d.insertBefore(A,C[L]):d.appendChild(A),L++}),y===nr(Sn))){var M=!1;jt.forEach(function(A){if(A.sortableIndex!==nr(A)){M=!0;return}}),M&&g("update")}jt.forEach(function(A){Ib(A)}),E.animateAll()}co=E}(c===d||b&&b.lastPutMode!=="clone")&&ki.forEach(function(A){A.parentNode&&A.parentNode.removeChild(A)})}},nullingGlobal:function(){this.isMultiDrag=Nc=!1,ki.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Jt(document,"pointerup",this._deselectMultiDrag),Jt(document,"mouseup",this._deselectMultiDrag),Jt(document,"touchend",this._deselectMultiDrag),Jt(document,"keydown",this._checkKeyDown),Jt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(i){if(!(typeof Nc<"u"&&Nc)&&co===this.sortable&&!(i&&po(i.target,this.options.draggable,this.sortable.el,!1))&&!(i&&i.button!==0))for(;jt.length;){var s=jt[0];zn(s,this.options.selectedClass,!1),jt.shift(),Bf({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s})}},_checkKeyDown:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},no(t,{pluginName:"multiDrag",utils:{select:function(i){var s=i.parentNode[Xr];!s||!s.options.multiDrag||~jt.indexOf(i)||(co&&co!==s&&(co.multiDrag._deselectMultiDrag(),co=s),zn(i,s.options.selectedClass,!0),jt.push(i))},deselect:function(i){var s=i.parentNode[Xr],c=jt.indexOf(i);!s||!s.options.multiDrag||!~c||(zn(i,s.options.selectedClass,!1),jt.splice(c,1))}},eventProperties:function(){var i=this,s=[],c=[];return jt.forEach(function(d){s.push({multiDragElement:d,index:d.sortableIndex});var f;mi&&d!==Sn?f=-1:mi?f=nr(d,":not(."+i.options.selectedClass+")"):f=nr(d),c.push({multiDragElement:d,index:f})}),{items:MW(jt),clones:[].concat(ki),oldIndicies:s,newIndicies:c}},optionListeners:{multiDragKey:function(i){return i=i.toLowerCase(),i==="ctrl"?i="Control":i.length>1&&(i=i.charAt(0).toUpperCase()+i.substr(1)),i}}})}function uK(t,r){jt.forEach(function(i,s){var c=r.children[i.sortableIndex+(t?Number(s):0)];c?r.insertBefore(i,c):r.appendChild(i)})}function aR(t,r){ki.forEach(function(i,s){var c=r.children[i.sortableIndex+(t?Number(s):0)];c?r.insertBefore(i,c):r.appendChild(i)})}function gm(){jt.forEach(function(t){t!==Sn&&t.parentNode&&t.parentNode.removeChild(t)})}At.mount(new aK);At.mount(o_,i_);const fK=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:cK,Sortable:At,Swap:sK,default:At},Symbol.toStringTag,{value:"Module"})),dK=Bg(fK);var pK=wm.exports,sR;function hK(){return sR||(sR=1,(function(t,r){(function(s,c){t.exports=c(RW(),dK)})(typeof self<"u"?self:pK,function(i,s){return(function(c){var d={};function f(g){if(d[g])return d[g].exports;var y=d[g]={i:g,l:!1,exports:{}};return c[g].call(y.exports,y,y.exports,f),y.l=!0,y.exports}return f.m=c,f.c=d,f.d=function(g,y,b){f.o(g,y)||Object.defineProperty(g,y,{enumerable:!0,get:b})},f.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},f.t=function(g,y){if(y&1&&(g=f(g)),y&8||y&4&&typeof g=="object"&&g&&g.__esModule)return g;var b=Object.create(null);if(f.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:g}),y&2&&typeof g!="string")for(var E in g)f.d(b,E,(function(w){return g[w]}).bind(null,E));return b},f.n=function(g){var y=g&&g.__esModule?function(){return g.default}:function(){return g};return f.d(y,"a",y),y},f.o=function(g,y){return Object.prototype.hasOwnProperty.call(g,y)},f.p="",f(f.s="fb15")})({"00ee":(function(c,d,f){var g=f("b622"),y=g("toStringTag"),b={};b[y]="z",c.exports=String(b)==="[object z]"}),"0366":(function(c,d,f){var g=f("1c0b");c.exports=function(y,b,E){if(g(y),b===void 0)return y;switch(E){case 0:return function(){return y.call(b)};case 1:return function(w){return y.call(b,w)};case 2:return function(w,C){return y.call(b,w,C)};case 3:return function(w,C,T){return y.call(b,w,C,T)}}return function(){return y.apply(b,arguments)}}}),"057f":(function(c,d,f){var g=f("fc6a"),y=f("241c").f,b={}.toString,E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],w=function(C){try{return y(C)}catch{return E.slice()}};c.exports.f=function(T){return E&&b.call(T)=="[object Window]"?w(T):y(g(T))}}),"06cf":(function(c,d,f){var g=f("83ab"),y=f("d1e7"),b=f("5c6c"),E=f("fc6a"),w=f("c04e"),C=f("5135"),T=f("0cfb"),D=Object.getOwnPropertyDescriptor;d.f=g?D:function(H,N){if(H=E(H),N=w(N,!0),T)try{return D(H,N)}catch{}if(C(H,N))return b(!y.f.call(H,N),H[N])}}),"0cfb":(function(c,d,f){var g=f("83ab"),y=f("d039"),b=f("cc12");c.exports=!g&&!y(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})}),"13d5":(function(c,d,f){var g=f("23e7"),y=f("d58f").left,b=f("a640"),E=f("ae40"),w=b("reduce"),C=E("reduce",{1:0});g({target:"Array",proto:!0,forced:!w||!C},{reduce:function(D){return y(this,D,arguments.length,arguments.length>1?arguments[1]:void 0)}})}),"14c3":(function(c,d,f){var g=f("c6b6"),y=f("9263");c.exports=function(b,E){var w=b.exec;if(typeof w=="function"){var C=w.call(b,E);if(typeof C!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return C}if(g(b)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return y.call(b,E)}}),"159b":(function(c,d,f){var g=f("da84"),y=f("fdbc"),b=f("17c2"),E=f("9112");for(var w in y){var C=g[w],T=C&&C.prototype;if(T&&T.forEach!==b)try{E(T,"forEach",b)}catch{T.forEach=b}}}),"17c2":(function(c,d,f){var g=f("b727").forEach,y=f("a640"),b=f("ae40"),E=y("forEach"),w=b("forEach");c.exports=!E||!w?function(T){return g(this,T,arguments.length>1?arguments[1]:void 0)}:[].forEach}),"1be4":(function(c,d,f){var g=f("d066");c.exports=g("document","documentElement")}),"1c0b":(function(c,d){c.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}}),"1c7e":(function(c,d,f){var g=f("b622"),y=g("iterator"),b=!1;try{var E=0,w={next:function(){return{done:!!E++}},return:function(){b=!0}};w[y]=function(){return this},Array.from(w,function(){throw 2})}catch{}c.exports=function(C,T){if(!T&&!b)return!1;var D=!1;try{var $={};$[y]=function(){return{next:function(){return{done:D=!0}}}},C($)}catch{}return D}}),"1d80":(function(c,d){c.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}}),"1dde":(function(c,d,f){var g=f("d039"),y=f("b622"),b=f("2d00"),E=y("species");c.exports=function(w){return b>=51||!g(function(){var C=[],T=C.constructor={};return T[E]=function(){return{foo:1}},C[w](Boolean).foo!==1})}}),"23cb":(function(c,d,f){var g=f("a691"),y=Math.max,b=Math.min;c.exports=function(E,w){var C=g(E);return C<0?y(C+w,0):b(C,w)}}),"23e7":(function(c,d,f){var g=f("da84"),y=f("06cf").f,b=f("9112"),E=f("6eeb"),w=f("ce4e"),C=f("e893"),T=f("94ca");c.exports=function(D,$){var H=D.target,N=D.global,L=D.stat,M,A,z,Z,te,ee;if(N?A=g:L?A=g[H]||w(H,{}):A=(g[H]||{}).prototype,A)for(z in $){if(te=$[z],D.noTargetGet?(ee=y(A,z),Z=ee&&ee.value):Z=A[z],M=T(N?z:H+(L?".":"#")+z,D.forced),!M&&Z!==void 0){if(typeof te==typeof Z)continue;C(te,Z)}(D.sham||Z&&Z.sham)&&b(te,"sham",!0),E(A,z,te,D)}}}),"241c":(function(c,d,f){var g=f("ca84"),y=f("7839"),b=y.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(w){return g(w,b)}}),"25f0":(function(c,d,f){var g=f("6eeb"),y=f("825a"),b=f("d039"),E=f("ad6d"),w="toString",C=RegExp.prototype,T=C[w],D=b(function(){return T.call({source:"a",flags:"b"})!="/a/b"}),$=T.name!=w;(D||$)&&g(RegExp.prototype,w,function(){var N=y(this),L=String(N.source),M=N.flags,A=String(M===void 0&&N instanceof RegExp&&!("flags"in C)?E.call(N):M);return"/"+L+"/"+A},{unsafe:!0})}),"2ca0":(function(c,d,f){var g=f("23e7"),y=f("06cf").f,b=f("50c4"),E=f("5a34"),w=f("1d80"),C=f("ab13"),T=f("c430"),D="".startsWith,$=Math.min,H=C("startsWith"),N=!T&&!H&&!!(function(){var L=y(String.prototype,"startsWith");return L&&!L.writable})();g({target:"String",proto:!0,forced:!N&&!H},{startsWith:function(M){var A=String(w(this));E(M);var z=b($(arguments.length>1?arguments[1]:void 0,A.length)),Z=String(M);return D?D.call(A,Z,z):A.slice(z,z+Z.length)===Z}})}),"2d00":(function(c,d,f){var g=f("da84"),y=f("342f"),b=g.process,E=b&&b.versions,w=E&&E.v8,C,T;w?(C=w.split("."),T=C[0]+C[1]):y&&(C=y.match(/Edge\/(\d+)/),(!C||C[1]>=74)&&(C=y.match(/Chrome\/(\d+)/),C&&(T=C[1]))),c.exports=T&&+T}),"342f":(function(c,d,f){var g=f("d066");c.exports=g("navigator","userAgent")||""}),"35a1":(function(c,d,f){var g=f("f5df"),y=f("3f8c"),b=f("b622"),E=b("iterator");c.exports=function(w){if(w!=null)return w[E]||w["@@iterator"]||y[g(w)]}}),"37e8":(function(c,d,f){var g=f("83ab"),y=f("9bf2"),b=f("825a"),E=f("df75");c.exports=g?Object.defineProperties:function(C,T){b(C);for(var D=E(T),$=D.length,H=0,N;$>H;)y.f(C,N=D[H++],T[N]);return C}}),"3bbe":(function(c,d,f){var g=f("861d");c.exports=function(y){if(!g(y)&&y!==null)throw TypeError("Can't set "+String(y)+" as a prototype");return y}}),"3ca3":(function(c,d,f){var g=f("6547").charAt,y=f("69f3"),b=f("7dd0"),E="String Iterator",w=y.set,C=y.getterFor(E);b(String,"String",function(T){w(this,{type:E,string:String(T),index:0})},function(){var D=C(this),$=D.string,H=D.index,N;return H>=$.length?{value:void 0,done:!0}:(N=g($,H),D.index+=N.length,{value:N,done:!1})})}),"3f8c":(function(c,d){c.exports={}}),4160:(function(c,d,f){var g=f("23e7"),y=f("17c2");g({target:"Array",proto:!0,forced:[].forEach!=y},{forEach:y})}),"428f":(function(c,d,f){var g=f("da84");c.exports=g}),"44ad":(function(c,d,f){var g=f("d039"),y=f("c6b6"),b="".split;c.exports=g(function(){return!Object("z").propertyIsEnumerable(0)})?function(E){return y(E)=="String"?b.call(E,""):Object(E)}:Object}),"44d2":(function(c,d,f){var g=f("b622"),y=f("7c73"),b=f("9bf2"),E=g("unscopables"),w=Array.prototype;w[E]==null&&b.f(w,E,{configurable:!0,value:y(null)}),c.exports=function(C){w[E][C]=!0}}),"44e7":(function(c,d,f){var g=f("861d"),y=f("c6b6"),b=f("b622"),E=b("match");c.exports=function(w){var C;return g(w)&&((C=w[E])!==void 0?!!C:y(w)=="RegExp")}}),4930:(function(c,d,f){var g=f("d039");c.exports=!!Object.getOwnPropertySymbols&&!g(function(){return!String(Symbol())})}),"4d64":(function(c,d,f){var g=f("fc6a"),y=f("50c4"),b=f("23cb"),E=function(w){return function(C,T,D){var $=g(C),H=y($.length),N=b(D,H),L;if(w&&T!=T){for(;H>N;)if(L=$[N++],L!=L)return!0}else for(;H>N;N++)if((w||N in $)&&$[N]===T)return w||N||0;return!w&&-1}};c.exports={includes:E(!0),indexOf:E(!1)}}),"4de4":(function(c,d,f){var g=f("23e7"),y=f("b727").filter,b=f("1dde"),E=f("ae40"),w=b("filter"),C=E("filter");g({target:"Array",proto:!0,forced:!w||!C},{filter:function(D){return y(this,D,arguments.length>1?arguments[1]:void 0)}})}),"4df4":(function(c,d,f){var g=f("0366"),y=f("7b0b"),b=f("9bdd"),E=f("e95a"),w=f("50c4"),C=f("8418"),T=f("35a1");c.exports=function($){var H=y($),N=typeof this=="function"?this:Array,L=arguments.length,M=L>1?arguments[1]:void 0,A=M!==void 0,z=T(H),Z=0,te,ee,W,Q,oe,re;if(A&&(M=g(M,L>2?arguments[2]:void 0,2)),z!=null&&!(N==Array&&E(z)))for(Q=z.call(H),oe=Q.next,ee=new N;!(W=oe.call(Q)).done;Z++)re=A?b(Q,M,[W.value,Z],!0):W.value,C(ee,Z,re);else for(te=w(H.length),ee=new N(te);te>Z;Z++)re=A?M(H[Z],Z):H[Z],C(ee,Z,re);return ee.length=Z,ee}}),"4fad":(function(c,d,f){var g=f("23e7"),y=f("6f53").entries;g({target:"Object",stat:!0},{entries:function(E){return y(E)}})}),"50c4":(function(c,d,f){var g=f("a691"),y=Math.min;c.exports=function(b){return b>0?y(g(b),9007199254740991):0}}),5135:(function(c,d){var f={}.hasOwnProperty;c.exports=function(g,y){return f.call(g,y)}}),5319:(function(c,d,f){var g=f("d784"),y=f("825a"),b=f("7b0b"),E=f("50c4"),w=f("a691"),C=f("1d80"),T=f("8aa5"),D=f("14c3"),$=Math.max,H=Math.min,N=Math.floor,L=/\$([$&'`]|\d\d?|<[^>]*>)/g,M=/\$([$&'`]|\d\d?)/g,A=function(z){return z===void 0?z:String(z)};g("replace",2,function(z,Z,te,ee){var W=ee.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Q=ee.REPLACE_KEEPS_$0,oe=W?"$":"$0";return[function(ce,ue){var le=C(this),ve=ce?.[z];return ve!==void 0?ve.call(ce,le,ue):Z.call(String(le),ce,ue)},function(J,ce){if(!W&&Q||typeof ce=="string"&&ce.indexOf(oe)===-1){var ue=te(Z,J,this,ce);if(ue.done)return ue.value}var le=y(J),ve=String(this),fe=typeof ce=="function";fe||(ce=String(ce));var pe=le.global;if(pe){var Te=le.unicode;le.lastIndex=0}for(var ot=[];;){var Ye=D(le,ve);if(Ye===null||(ot.push(Ye),!pe))break;var ie=String(Ye[0]);ie===""&&(le.lastIndex=T(ve,E(le.lastIndex),Te))}for(var Xt="",Wt=0,Kt=0;Kt<ot.length;Kt++){Ye=ot[Kt];for(var Se=String(Ye[0]),ke=$(H(w(Ye.index),ve.length),0),he=[],De=1;De<Ye.length;De++)he.push(A(Ye[De]));var at=Ye.groups;if(fe){var St=[Se].concat(he,ke,ve);at!==void 0&&St.push(at);var X=String(ce.apply(void 0,St))}else X=re(Se,ve,ke,he,at,ce);ke>=Wt&&(Xt+=ve.slice(Wt,ke)+X,Wt=ke+Se.length)}return Xt+ve.slice(Wt)}];function re(J,ce,ue,le,ve,fe){var pe=ue+J.length,Te=le.length,ot=M;return ve!==void 0&&(ve=b(ve),ot=L),Z.call(fe,ot,function(Ye,ie){var Xt;switch(ie.charAt(0)){case"$":return"$";case"&":return J;case"`":return ce.slice(0,ue);case"'":return ce.slice(pe);case"<":Xt=ve[ie.slice(1,-1)];break;default:var Wt=+ie;if(Wt===0)return Ye;if(Wt>Te){var Kt=N(Wt/10);return Kt===0?Ye:Kt<=Te?le[Kt-1]===void 0?ie.charAt(1):le[Kt-1]+ie.charAt(1):Ye}Xt=le[Wt-1]}return Xt===void 0?"":Xt})}})}),5692:(function(c,d,f){var g=f("c430"),y=f("c6cd");(c.exports=function(b,E){return y[b]||(y[b]=E!==void 0?E:{})})("versions",[]).push({version:"3.6.5",mode:g?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})}),"56ef":(function(c,d,f){var g=f("d066"),y=f("241c"),b=f("7418"),E=f("825a");c.exports=g("Reflect","ownKeys")||function(C){var T=y.f(E(C)),D=b.f;return D?T.concat(D(C)):T}}),"5a34":(function(c,d,f){var g=f("44e7");c.exports=function(y){if(g(y))throw TypeError("The method doesn't accept regular expressions");return y}}),"5c6c":(function(c,d){c.exports=function(f,g){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:g}}}),"5db7":(function(c,d,f){var g=f("23e7"),y=f("a2bf"),b=f("7b0b"),E=f("50c4"),w=f("1c0b"),C=f("65f0");g({target:"Array",proto:!0},{flatMap:function(D){var $=b(this),H=E($.length),N;return w(D),N=C($,0),N.length=y(N,$,$,H,0,1,D,arguments.length>1?arguments[1]:void 0),N}})}),6547:(function(c,d,f){var g=f("a691"),y=f("1d80"),b=function(E){return function(w,C){var T=String(y(w)),D=g(C),$=T.length,H,N;return D<0||D>=$?E?"":void 0:(H=T.charCodeAt(D),H<55296||H>56319||D+1===$||(N=T.charCodeAt(D+1))<56320||N>57343?E?T.charAt(D):H:E?T.slice(D,D+2):(H-55296<<10)+(N-56320)+65536)}};c.exports={codeAt:b(!1),charAt:b(!0)}}),"65f0":(function(c,d,f){var g=f("861d"),y=f("e8b5"),b=f("b622"),E=b("species");c.exports=function(w,C){var T;return y(w)&&(T=w.constructor,typeof T=="function"&&(T===Array||y(T.prototype))?T=void 0:g(T)&&(T=T[E],T===null&&(T=void 0))),new(T===void 0?Array:T)(C===0?0:C)}}),"69f3":(function(c,d,f){var g=f("7f9a"),y=f("da84"),b=f("861d"),E=f("9112"),w=f("5135"),C=f("f772"),T=f("d012"),D=y.WeakMap,$,H,N,L=function(W){return N(W)?H(W):$(W,{})},M=function(W){return function(Q){var oe;if(!b(Q)||(oe=H(Q)).type!==W)throw TypeError("Incompatible receiver, "+W+" required");return oe}};if(g){var A=new D,z=A.get,Z=A.has,te=A.set;$=function(W,Q){return te.call(A,W,Q),Q},H=function(W){return z.call(A,W)||{}},N=function(W){return Z.call(A,W)}}else{var ee=C("state");T[ee]=!0,$=function(W,Q){return E(W,ee,Q),Q},H=function(W){return w(W,ee)?W[ee]:{}},N=function(W){return w(W,ee)}}c.exports={set:$,get:H,has:N,enforce:L,getterFor:M}}),"6eeb":(function(c,d,f){var g=f("da84"),y=f("9112"),b=f("5135"),E=f("ce4e"),w=f("8925"),C=f("69f3"),T=C.get,D=C.enforce,$=String(String).split("String");(c.exports=function(H,N,L,M){var A=M?!!M.unsafe:!1,z=M?!!M.enumerable:!1,Z=M?!!M.noTargetGet:!1;if(typeof L=="function"&&(typeof N=="string"&&!b(L,"name")&&y(L,"name",N),D(L).source=$.join(typeof N=="string"?N:"")),H===g){z?H[N]=L:E(N,L);return}else A?!Z&&H[N]&&(z=!0):delete H[N];z?H[N]=L:y(H,N,L)})(Function.prototype,"toString",function(){return typeof this=="function"&&T(this).source||w(this)})}),"6f53":(function(c,d,f){var g=f("83ab"),y=f("df75"),b=f("fc6a"),E=f("d1e7").f,w=function(C){return function(T){for(var D=b(T),$=y(D),H=$.length,N=0,L=[],M;H>N;)M=$[N++],(!g||E.call(D,M))&&L.push(C?[M,D[M]]:D[M]);return L}};c.exports={entries:w(!0),values:w(!1)}}),"73d9":(function(c,d,f){var g=f("44d2");g("flatMap")}),7418:(function(c,d){d.f=Object.getOwnPropertySymbols}),"746f":(function(c,d,f){var g=f("428f"),y=f("5135"),b=f("e538"),E=f("9bf2").f;c.exports=function(w){var C=g.Symbol||(g.Symbol={});y(C,w)||E(C,w,{value:b.f(w)})}}),7839:(function(c,d){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"7b0b":(function(c,d,f){var g=f("1d80");c.exports=function(y){return Object(g(y))}}),"7c73":(function(c,d,f){var g=f("825a"),y=f("37e8"),b=f("7839"),E=f("d012"),w=f("1be4"),C=f("cc12"),T=f("f772"),D=">",$="<",H="prototype",N="script",L=T("IE_PROTO"),M=function(){},A=function(W){return $+N+D+W+$+"/"+N+D},z=function(W){W.write(A("")),W.close();var Q=W.parentWindow.Object;return W=null,Q},Z=function(){var W=C("iframe"),Q="java"+N+":",oe;return W.style.display="none",w.appendChild(W),W.src=String(Q),oe=W.contentWindow.document,oe.open(),oe.write(A("document.F=Object")),oe.close(),oe.F},te,ee=function(){try{te=document.domain&&new ActiveXObject("htmlfile")}catch{}ee=te?z(te):Z();for(var W=b.length;W--;)delete ee[H][b[W]];return ee()};E[L]=!0,c.exports=Object.create||function(Q,oe){var re;return Q!==null?(M[H]=g(Q),re=new M,M[H]=null,re[L]=Q):re=ee(),oe===void 0?re:y(re,oe)}}),"7dd0":(function(c,d,f){var g=f("23e7"),y=f("9ed3"),b=f("e163"),E=f("d2bb"),w=f("d44e"),C=f("9112"),T=f("6eeb"),D=f("b622"),$=f("c430"),H=f("3f8c"),N=f("ae93"),L=N.IteratorPrototype,M=N.BUGGY_SAFARI_ITERATORS,A=D("iterator"),z="keys",Z="values",te="entries",ee=function(){return this};c.exports=function(W,Q,oe,re,J,ce,ue){y(oe,Q,re);var le=function(Kt){if(Kt===J&&ot)return ot;if(!M&&Kt in pe)return pe[Kt];switch(Kt){case z:return function(){return new oe(this,Kt)};case Z:return function(){return new oe(this,Kt)};case te:return function(){return new oe(this,Kt)}}return function(){return new oe(this)}},ve=Q+" Iterator",fe=!1,pe=W.prototype,Te=pe[A]||pe["@@iterator"]||J&&pe[J],ot=!M&&Te||le(J),Ye=Q=="Array"&&pe.entries||Te,ie,Xt,Wt;if(Ye&&(ie=b(Ye.call(new W)),L!==Object.prototype&&ie.next&&(!$&&b(ie)!==L&&(E?E(ie,L):typeof ie[A]!="function"&&C(ie,A,ee)),w(ie,ve,!0,!0),$&&(H[ve]=ee))),J==Z&&Te&&Te.name!==Z&&(fe=!0,ot=function(){return Te.call(this)}),(!$||ue)&&pe[A]!==ot&&C(pe,A,ot),H[Q]=ot,J)if(Xt={values:le(Z),keys:ce?ot:le(z),entries:le(te)},ue)for(Wt in Xt)(M||fe||!(Wt in pe))&&T(pe,Wt,Xt[Wt]);else g({target:Q,proto:!0,forced:M||fe},Xt);return Xt}}),"7f9a":(function(c,d,f){var g=f("da84"),y=f("8925"),b=g.WeakMap;c.exports=typeof b=="function"&&/native code/.test(y(b))}),"825a":(function(c,d,f){var g=f("861d");c.exports=function(y){if(!g(y))throw TypeError(String(y)+" is not an object");return y}}),"83ab":(function(c,d,f){var g=f("d039");c.exports=!g(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),8418:(function(c,d,f){var g=f("c04e"),y=f("9bf2"),b=f("5c6c");c.exports=function(E,w,C){var T=g(w);T in E?y.f(E,T,b(0,C)):E[T]=C}}),"861d":(function(c,d){c.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}}),8875:(function(c,d,f){var g,y,b;(function(E,w){y=[],g=w,b=typeof g=="function"?g.apply(d,y):g,b!==void 0&&(c.exports=b)})(typeof self<"u"?self:this,function(){function E(){var w=Object.getOwnPropertyDescriptor(document,"currentScript");if(!w&&"currentScript"in document&&document.currentScript||w&&w.get!==E&&document.currentScript)return document.currentScript;try{throw new Error}catch(te){var C=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,T=/@([^@]*):(\d+):(\d+)\s*$/ig,D=C.exec(te.stack)||T.exec(te.stack),$=D&&D[1]||!1,H=D&&D[2]||!1,N=document.location.href.replace(document.location.hash,""),L,M,A,z=document.getElementsByTagName("script");$===N&&(L=document.documentElement.outerHTML,M=new RegExp("(?:[^\\n]+?\\n){0,"+(H-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),A=L.replace(M,"$1").trim());for(var Z=0;Z<z.length;Z++)if(z[Z].readyState==="interactive"||z[Z].src===$||$===N&&z[Z].innerHTML&&z[Z].innerHTML.trim()===A)return z[Z];return null}}return E})}),8925:(function(c,d,f){var g=f("c6cd"),y=Function.toString;typeof g.inspectSource!="function"&&(g.inspectSource=function(b){return y.call(b)}),c.exports=g.inspectSource}),"8aa5":(function(c,d,f){var g=f("6547").charAt;c.exports=function(y,b,E){return b+(E?g(y,b).length:1)}}),"8bbf":(function(c,d){c.exports=i}),"90e3":(function(c,d){var f=0,g=Math.random();c.exports=function(y){return"Symbol("+String(y===void 0?"":y)+")_"+(++f+g).toString(36)}}),9112:(function(c,d,f){var g=f("83ab"),y=f("9bf2"),b=f("5c6c");c.exports=g?function(E,w,C){return y.f(E,w,b(1,C))}:function(E,w,C){return E[w]=C,E}}),9263:(function(c,d,f){var g=f("ad6d"),y=f("9f7f"),b=RegExp.prototype.exec,E=String.prototype.replace,w=b,C=(function(){var H=/a/,N=/b*/g;return b.call(H,"a"),b.call(N,"a"),H.lastIndex!==0||N.lastIndex!==0})(),T=y.UNSUPPORTED_Y||y.BROKEN_CARET,D=/()??/.exec("")[1]!==void 0,$=C||D||T;$&&(w=function(N){var L=this,M,A,z,Z,te=T&&L.sticky,ee=g.call(L),W=L.source,Q=0,oe=N;return te&&(ee=ee.replace("y",""),ee.indexOf("g")===-1&&(ee+="g"),oe=String(N).slice(L.lastIndex),L.lastIndex>0&&(!L.multiline||L.multiline&&N[L.lastIndex-1]!==`
`)&&(W="(?: "+W+")",oe=" "+oe,Q++),A=new RegExp("^(?:"+W+")",ee)),D&&(A=new RegExp("^"+W+"$(?!\\s)",ee)),C&&(M=L.lastIndex),z=b.call(te?A:L,oe),te?z?(z.input=z.input.slice(Q),z[0]=z[0].slice(Q),z.index=L.lastIndex,L.lastIndex+=z[0].length):L.lastIndex=0:C&&z&&(L.lastIndex=L.global?z.index+z[0].length:M),D&&z&&z.length>1&&E.call(z[0],A,function(){for(Z=1;Z<arguments.length-2;Z++)arguments[Z]===void 0&&(z[Z]=void 0)}),z}),c.exports=w}),"94ca":(function(c,d,f){var g=f("d039"),y=/#|\.prototype\./,b=function(D,$){var H=w[E(D)];return H==T?!0:H==C?!1:typeof $=="function"?g($):!!$},E=b.normalize=function(D){return String(D).replace(y,".").toLowerCase()},w=b.data={},C=b.NATIVE="N",T=b.POLYFILL="P";c.exports=b}),"99af":(function(c,d,f){var g=f("23e7"),y=f("d039"),b=f("e8b5"),E=f("861d"),w=f("7b0b"),C=f("50c4"),T=f("8418"),D=f("65f0"),$=f("1dde"),H=f("b622"),N=f("2d00"),L=H("isConcatSpreadable"),M=9007199254740991,A="Maximum allowed index exceeded",z=N>=51||!y(function(){var W=[];return W[L]=!1,W.concat()[0]!==W}),Z=$("concat"),te=function(W){if(!E(W))return!1;var Q=W[L];return Q!==void 0?!!Q:b(W)},ee=!z||!Z;g({target:"Array",proto:!0,forced:ee},{concat:function(Q){var oe=w(this),re=D(oe,0),J=0,ce,ue,le,ve,fe;for(ce=-1,le=arguments.length;ce<le;ce++)if(fe=ce===-1?oe:arguments[ce],te(fe)){if(ve=C(fe.length),J+ve>M)throw TypeError(A);for(ue=0;ue<ve;ue++,J++)ue in fe&&T(re,J,fe[ue])}else{if(J>=M)throw TypeError(A);T(re,J++,fe)}return re.length=J,re}})}),"9bdd":(function(c,d,f){var g=f("825a");c.exports=function(y,b,E,w){try{return w?b(g(E)[0],E[1]):b(E)}catch(T){var C=y.return;throw C!==void 0&&g(C.call(y)),T}}}),"9bf2":(function(c,d,f){var g=f("83ab"),y=f("0cfb"),b=f("825a"),E=f("c04e"),w=Object.defineProperty;d.f=g?w:function(T,D,$){if(b(T),D=E(D,!0),b($),y)try{return w(T,D,$)}catch{}if("get"in $||"set"in $)throw TypeError("Accessors not supported");return"value"in $&&(T[D]=$.value),T}}),"9ed3":(function(c,d,f){var g=f("ae93").IteratorPrototype,y=f("7c73"),b=f("5c6c"),E=f("d44e"),w=f("3f8c"),C=function(){return this};c.exports=function(T,D,$){var H=D+" Iterator";return T.prototype=y(g,{next:b(1,$)}),E(T,H,!1,!0),w[H]=C,T}}),"9f7f":(function(c,d,f){var g=f("d039");function y(b,E){return RegExp(b,E)}d.UNSUPPORTED_Y=g(function(){var b=y("a","y");return b.lastIndex=2,b.exec("abcd")!=null}),d.BROKEN_CARET=g(function(){var b=y("^r","gy");return b.lastIndex=2,b.exec("str")!=null})}),a2bf:(function(c,d,f){var g=f("e8b5"),y=f("50c4"),b=f("0366"),E=function(w,C,T,D,$,H,N,L){for(var M=$,A=0,z=N?b(N,L,3):!1,Z;A<D;){if(A in T){if(Z=z?z(T[A],A,C):T[A],H>0&&g(Z))M=E(w,C,Z,y(Z.length),M,H-1)-1;else{if(M>=9007199254740991)throw TypeError("Exceed the acceptable array length");w[M]=Z}M++}A++}return M};c.exports=E}),a352:(function(c,d){c.exports=s}),a434:(function(c,d,f){var g=f("23e7"),y=f("23cb"),b=f("a691"),E=f("50c4"),w=f("7b0b"),C=f("65f0"),T=f("8418"),D=f("1dde"),$=f("ae40"),H=D("splice"),N=$("splice",{ACCESSORS:!0,0:0,1:2}),L=Math.max,M=Math.min,A=9007199254740991,z="Maximum allowed length exceeded";g({target:"Array",proto:!0,forced:!H||!N},{splice:function(te,ee){var W=w(this),Q=E(W.length),oe=y(te,Q),re=arguments.length,J,ce,ue,le,ve,fe;if(re===0?J=ce=0:re===1?(J=0,ce=Q-oe):(J=re-2,ce=M(L(b(ee),0),Q-oe)),Q+J-ce>A)throw TypeError(z);for(ue=C(W,ce),le=0;le<ce;le++)ve=oe+le,ve in W&&T(ue,le,W[ve]);if(ue.length=ce,J<ce){for(le=oe;le<Q-ce;le++)ve=le+ce,fe=le+J,ve in W?W[fe]=W[ve]:delete W[fe];for(le=Q;le>Q-ce+J;le--)delete W[le-1]}else if(J>ce)for(le=Q-ce;le>oe;le--)ve=le+ce-1,fe=le+J-1,ve in W?W[fe]=W[ve]:delete W[fe];for(le=0;le<J;le++)W[le+oe]=arguments[le+2];return W.length=Q-ce+J,ue}})}),a4d3:(function(c,d,f){var g=f("23e7"),y=f("da84"),b=f("d066"),E=f("c430"),w=f("83ab"),C=f("4930"),T=f("fdbf"),D=f("d039"),$=f("5135"),H=f("e8b5"),N=f("861d"),L=f("825a"),M=f("7b0b"),A=f("fc6a"),z=f("c04e"),Z=f("5c6c"),te=f("7c73"),ee=f("df75"),W=f("241c"),Q=f("057f"),oe=f("7418"),re=f("06cf"),J=f("9bf2"),ce=f("d1e7"),ue=f("9112"),le=f("6eeb"),ve=f("5692"),fe=f("f772"),pe=f("d012"),Te=f("90e3"),ot=f("b622"),Ye=f("e538"),ie=f("746f"),Xt=f("d44e"),Wt=f("69f3"),Kt=f("b727").forEach,Se=fe("hidden"),ke="Symbol",he="prototype",De=ot("toPrimitive"),at=Wt.set,St=Wt.getterFor(ke),X=Object[he],q=y.Symbol,be=b("JSON","stringify"),Ce=re.f,Ae=J.f,$e=Q.f,Xe=ce.f,Ue=ve("symbols"),ze=ve("op-symbols"),Be=ve("string-to-symbol-registry"),pt=ve("symbol-to-string-registry"),Qe=ve("wks"),Ie=y.QObject,yt=!Ie||!Ie[he]||!Ie[he].findChild,$t=w&&D(function(){return te(Ae({},"a",{get:function(){return Ae(this,"a",{value:7}).a}})).a!=7})?function(_t,ct,Ne){var en=Ce(X,ct);en&&delete X[ct],Ae(_t,ct,Ne),en&&_t!==X&&Ae(X,ct,en)}:Ae,Nt=function(_t,ct){var Ne=Ue[_t]=te(q[he]);return at(Ne,{type:ke,tag:_t,description:ct}),w||(Ne.description=ct),Ne},de=T?function(_t){return typeof _t=="symbol"}:function(_t){return Object(_t)instanceof q},me=function(ct,Ne,en){ct===X&&me(ze,Ne,en),L(ct);var rt=z(Ne,!0);return L(en),$(Ue,rt)?(en.enumerable?($(ct,Se)&&ct[Se][rt]&&(ct[Se][rt]=!1),en=te(en,{enumerable:Z(0,!1)})):($(ct,Se)||Ae(ct,Se,Z(1,{})),ct[Se][rt]=!0),$t(ct,rt,en)):Ae(ct,rt,en)},ge=function(ct,Ne){L(ct);var en=A(Ne),rt=ee(en).concat(gt(en));return Kt(rt,function(Hn){(!w||Je.call(en,Hn))&&me(ct,Hn,en[Hn])}),ct},Re=function(ct,Ne){return Ne===void 0?te(ct):ge(te(ct),Ne)},Je=function(ct){var Ne=z(ct,!0),en=Xe.call(this,Ne);return this===X&&$(Ue,Ne)&&!$(ze,Ne)?!1:en||!$(this,Ne)||!$(Ue,Ne)||$(this,Se)&&this[Se][Ne]?en:!0},Ke=function(ct,Ne){var en=A(ct),rt=z(Ne,!0);if(!(en===X&&$(Ue,rt)&&!$(ze,rt))){var Hn=Ce(en,rt);return Hn&&$(Ue,rt)&&!($(en,Se)&&en[Se][rt])&&(Hn.enumerable=!0),Hn}},kt=function(ct){var Ne=$e(A(ct)),en=[];return Kt(Ne,function(rt){!$(Ue,rt)&&!$(pe,rt)&&en.push(rt)}),en},gt=function(ct){var Ne=ct===X,en=$e(Ne?ze:A(ct)),rt=[];return Kt(en,function(Hn){$(Ue,Hn)&&(!Ne||$(X,Hn))&&rt.push(Ue[Hn])}),rt};if(C||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var ct=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Ne=Te(ct),en=function(rt){this===X&&en.call(ze,rt),$(this,Se)&&$(this[Se],Ne)&&(this[Se][Ne]=!1),$t(this,Ne,Z(1,rt))};return w&&yt&&$t(X,Ne,{configurable:!0,set:en}),Nt(Ne,ct)},le(q[he],"toString",function(){return St(this).tag}),le(q,"withoutSetter",function(_t){return Nt(Te(_t),_t)}),ce.f=Je,J.f=me,re.f=Ke,W.f=Q.f=kt,oe.f=gt,Ye.f=function(_t){return Nt(ot(_t),_t)},w&&(Ae(q[he],"description",{configurable:!0,get:function(){return St(this).description}}),E||le(X,"propertyIsEnumerable",Je,{unsafe:!0}))),g({global:!0,wrap:!0,forced:!C,sham:!C},{Symbol:q}),Kt(ee(Qe),function(_t){ie(_t)}),g({target:ke,stat:!0,forced:!C},{for:function(_t){var ct=String(_t);if($(Be,ct))return Be[ct];var Ne=q(ct);return Be[ct]=Ne,pt[Ne]=ct,Ne},keyFor:function(ct){if(!de(ct))throw TypeError(ct+" is not a symbol");if($(pt,ct))return pt[ct]},useSetter:function(){yt=!0},useSimple:function(){yt=!1}}),g({target:"Object",stat:!0,forced:!C,sham:!w},{create:Re,defineProperty:me,defineProperties:ge,getOwnPropertyDescriptor:Ke}),g({target:"Object",stat:!0,forced:!C},{getOwnPropertyNames:kt,getOwnPropertySymbols:gt}),g({target:"Object",stat:!0,forced:D(function(){oe.f(1)})},{getOwnPropertySymbols:function(ct){return oe.f(M(ct))}}),be){var We=!C||D(function(){var _t=q();return be([_t])!="[null]"||be({a:_t})!="{}"||be(Object(_t))!="{}"});g({target:"JSON",stat:!0,forced:We},{stringify:function(ct,Ne,en){for(var rt=[ct],Hn=1,Da;arguments.length>Hn;)rt.push(arguments[Hn++]);if(Da=Ne,!(!N(Ne)&&ct===void 0||de(ct)))return H(Ne)||(Ne=function(tp,Ia){if(typeof Da=="function"&&(Ia=Da.call(this,tp,Ia)),!de(Ia))return Ia}),rt[1]=Ne,be.apply(null,rt)}})}q[he][De]||ue(q[he],De,q[he].valueOf),Xt(q,ke),pe[Se]=!0}),a630:(function(c,d,f){var g=f("23e7"),y=f("4df4"),b=f("1c7e"),E=!b(function(w){Array.from(w)});g({target:"Array",stat:!0,forced:E},{from:y})}),a640:(function(c,d,f){var g=f("d039");c.exports=function(y,b){var E=[][y];return!!E&&g(function(){E.call(null,b||function(){throw 1},1)})}}),a691:(function(c,d){var f=Math.ceil,g=Math.floor;c.exports=function(y){return isNaN(y=+y)?0:(y>0?g:f)(y)}}),ab13:(function(c,d,f){var g=f("b622"),y=g("match");c.exports=function(b){var E=/./;try{"/./"[b](E)}catch{try{return E[y]=!1,"/./"[b](E)}catch{}}return!1}}),ac1f:(function(c,d,f){var g=f("23e7"),y=f("9263");g({target:"RegExp",proto:!0,forced:/./.exec!==y},{exec:y})}),ad6d:(function(c,d,f){var g=f("825a");c.exports=function(){var y=g(this),b="";return y.global&&(b+="g"),y.ignoreCase&&(b+="i"),y.multiline&&(b+="m"),y.dotAll&&(b+="s"),y.unicode&&(b+="u"),y.sticky&&(b+="y"),b}}),ae40:(function(c,d,f){var g=f("83ab"),y=f("d039"),b=f("5135"),E=Object.defineProperty,w={},C=function(T){throw T};c.exports=function(T,D){if(b(w,T))return w[T];D||(D={});var $=[][T],H=b(D,"ACCESSORS")?D.ACCESSORS:!1,N=b(D,0)?D[0]:C,L=b(D,1)?D[1]:void 0;return w[T]=!!$&&!y(function(){if(H&&!g)return!0;var M={length:-1};H?E(M,1,{enumerable:!0,get:C}):M[1]=1,$.call(M,N,L)})}}),ae93:(function(c,d,f){var g=f("e163"),y=f("9112"),b=f("5135"),E=f("b622"),w=f("c430"),C=E("iterator"),T=!1,D=function(){return this},$,H,N;[].keys&&(N=[].keys(),"next"in N?(H=g(g(N)),H!==Object.prototype&&($=H)):T=!0),$==null&&($={}),!w&&!b($,C)&&y($,C,D),c.exports={IteratorPrototype:$,BUGGY_SAFARI_ITERATORS:T}}),b041:(function(c,d,f){var g=f("00ee"),y=f("f5df");c.exports=g?{}.toString:function(){return"[object "+y(this)+"]"}}),b0c0:(function(c,d,f){var g=f("83ab"),y=f("9bf2").f,b=Function.prototype,E=b.toString,w=/^\s*function ([^ (]*)/,C="name";g&&!(C in b)&&y(b,C,{configurable:!0,get:function(){try{return E.call(this).match(w)[1]}catch{return""}}})}),b622:(function(c,d,f){var g=f("da84"),y=f("5692"),b=f("5135"),E=f("90e3"),w=f("4930"),C=f("fdbf"),T=y("wks"),D=g.Symbol,$=C?D:D&&D.withoutSetter||E;c.exports=function(H){return b(T,H)||(w&&b(D,H)?T[H]=D[H]:T[H]=$("Symbol."+H)),T[H]}}),b64b:(function(c,d,f){var g=f("23e7"),y=f("7b0b"),b=f("df75"),E=f("d039"),w=E(function(){b(1)});g({target:"Object",stat:!0,forced:w},{keys:function(T){return b(y(T))}})}),b727:(function(c,d,f){var g=f("0366"),y=f("44ad"),b=f("7b0b"),E=f("50c4"),w=f("65f0"),C=[].push,T=function(D){var $=D==1,H=D==2,N=D==3,L=D==4,M=D==6,A=D==5||M;return function(z,Z,te,ee){for(var W=b(z),Q=y(W),oe=g(Z,te,3),re=E(Q.length),J=0,ce=ee||w,ue=$?ce(z,re):H?ce(z,0):void 0,le,ve;re>J;J++)if((A||J in Q)&&(le=Q[J],ve=oe(le,J,W),D)){if($)ue[J]=ve;else if(ve)switch(D){case 3:return!0;case 5:return le;case 6:return J;case 2:C.call(ue,le)}else if(L)return!1}return M?-1:N||L?L:ue}};c.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6)}}),c04e:(function(c,d,f){var g=f("861d");c.exports=function(y,b){if(!g(y))return y;var E,w;if(b&&typeof(E=y.toString)=="function"&&!g(w=E.call(y))||typeof(E=y.valueOf)=="function"&&!g(w=E.call(y))||!b&&typeof(E=y.toString)=="function"&&!g(w=E.call(y)))return w;throw TypeError("Can't convert object to primitive value")}}),c430:(function(c,d){c.exports=!1}),c6b6:(function(c,d){var f={}.toString;c.exports=function(g){return f.call(g).slice(8,-1)}}),c6cd:(function(c,d,f){var g=f("da84"),y=f("ce4e"),b="__core-js_shared__",E=g[b]||y(b,{});c.exports=E}),c740:(function(c,d,f){var g=f("23e7"),y=f("b727").findIndex,b=f("44d2"),E=f("ae40"),w="findIndex",C=!0,T=E(w);w in[]&&Array(1)[w](function(){C=!1}),g({target:"Array",proto:!0,forced:C||!T},{findIndex:function($){return y(this,$,arguments.length>1?arguments[1]:void 0)}}),b(w)}),c8ba:(function(c,d){var f;f=(function(){return this})();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}c.exports=f}),c975:(function(c,d,f){var g=f("23e7"),y=f("4d64").indexOf,b=f("a640"),E=f("ae40"),w=[].indexOf,C=!!w&&1/[1].indexOf(1,-0)<0,T=b("indexOf"),D=E("indexOf",{ACCESSORS:!0,1:0});g({target:"Array",proto:!0,forced:C||!T||!D},{indexOf:function(H){return C?w.apply(this,arguments)||0:y(this,H,arguments.length>1?arguments[1]:void 0)}})}),ca84:(function(c,d,f){var g=f("5135"),y=f("fc6a"),b=f("4d64").indexOf,E=f("d012");c.exports=function(w,C){var T=y(w),D=0,$=[],H;for(H in T)!g(E,H)&&g(T,H)&&$.push(H);for(;C.length>D;)g(T,H=C[D++])&&(~b($,H)||$.push(H));return $}}),caad:(function(c,d,f){var g=f("23e7"),y=f("4d64").includes,b=f("44d2"),E=f("ae40"),w=E("indexOf",{ACCESSORS:!0,1:0});g({target:"Array",proto:!0,forced:!w},{includes:function(T){return y(this,T,arguments.length>1?arguments[1]:void 0)}}),b("includes")}),cc12:(function(c,d,f){var g=f("da84"),y=f("861d"),b=g.document,E=y(b)&&y(b.createElement);c.exports=function(w){return E?b.createElement(w):{}}}),ce4e:(function(c,d,f){var g=f("da84"),y=f("9112");c.exports=function(b,E){try{y(g,b,E)}catch{g[b]=E}return E}}),d012:(function(c,d){c.exports={}}),d039:(function(c,d){c.exports=function(f){try{return!!f()}catch{return!0}}}),d066:(function(c,d,f){var g=f("428f"),y=f("da84"),b=function(E){return typeof E=="function"?E:void 0};c.exports=function(E,w){return arguments.length<2?b(g[E])||b(y[E]):g[E]&&g[E][w]||y[E]&&y[E][w]}}),d1e7:(function(c,d,f){var g={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,b=y&&!g.call({1:2},1);d.f=b?function(w){var C=y(this,w);return!!C&&C.enumerable}:g}),d28b:(function(c,d,f){var g=f("746f");g("iterator")}),d2bb:(function(c,d,f){var g=f("825a"),y=f("3bbe");c.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var b=!1,E={},w;try{w=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,w.call(E,[]),b=E instanceof Array}catch{}return function(T,D){return g(T),y(D),b?w.call(T,D):T.__proto__=D,T}})():void 0)}),d3b7:(function(c,d,f){var g=f("00ee"),y=f("6eeb"),b=f("b041");g||y(Object.prototype,"toString",b,{unsafe:!0})}),d44e:(function(c,d,f){var g=f("9bf2").f,y=f("5135"),b=f("b622"),E=b("toStringTag");c.exports=function(w,C,T){w&&!y(w=T?w:w.prototype,E)&&g(w,E,{configurable:!0,value:C})}}),d58f:(function(c,d,f){var g=f("1c0b"),y=f("7b0b"),b=f("44ad"),E=f("50c4"),w=function(C){return function(T,D,$,H){g(D);var N=y(T),L=b(N),M=E(N.length),A=C?M-1:0,z=C?-1:1;if($<2)for(;;){if(A in L){H=L[A],A+=z;break}if(A+=z,C?A<0:M<=A)throw TypeError("Reduce of empty array with no initial value")}for(;C?A>=0:M>A;A+=z)A in L&&(H=D(H,L[A],A,N));return H}};c.exports={left:w(!1),right:w(!0)}}),d784:(function(c,d,f){f("ac1f");var g=f("6eeb"),y=f("d039"),b=f("b622"),E=f("9263"),w=f("9112"),C=b("species"),T=!y(function(){var L=/./;return L.exec=function(){var M=[];return M.groups={a:"7"},M},"".replace(L,"$<a>")!=="7"}),D=(function(){return"a".replace(/./,"$0")==="$0"})(),$=b("replace"),H=(function(){return/./[$]?/./[$]("a","$0")==="":!1})(),N=!y(function(){var L=/(?:)/,M=L.exec;L.exec=function(){return M.apply(this,arguments)};var A="ab".split(L);return A.length!==2||A[0]!=="a"||A[1]!=="b"});c.exports=function(L,M,A,z){var Z=b(L),te=!y(function(){var J={};return J[Z]=function(){return 7},""[L](J)!=7}),ee=te&&!y(function(){var J=!1,ce=/a/;return L==="split"&&(ce={},ce.constructor={},ce.constructor[C]=function(){return ce},ce.flags="",ce[Z]=/./[Z]),ce.exec=function(){return J=!0,null},ce[Z](""),!J});if(!te||!ee||L==="replace"&&!(T&&D&&!H)||L==="split"&&!N){var W=/./[Z],Q=A(Z,""[L],function(J,ce,ue,le,ve){return ce.exec===E?te&&!ve?{done:!0,value:W.call(ce,ue,le)}:{done:!0,value:J.call(ue,ce,le)}:{done:!1}},{REPLACE_KEEPS_$0:D,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:H}),oe=Q[0],re=Q[1];g(String.prototype,L,oe),g(RegExp.prototype,Z,M==2?function(J,ce){return re.call(J,this,ce)}:function(J){return re.call(J,this)})}z&&w(RegExp.prototype[Z],"sham",!0)}}),d81d:(function(c,d,f){var g=f("23e7"),y=f("b727").map,b=f("1dde"),E=f("ae40"),w=b("map"),C=E("map");g({target:"Array",proto:!0,forced:!w||!C},{map:function(D){return y(this,D,arguments.length>1?arguments[1]:void 0)}})}),da84:(function(c,d,f){(function(g){var y=function(b){return b&&b.Math==Math&&b};c.exports=y(typeof globalThis=="object"&&globalThis)||y(typeof window=="object"&&window)||y(typeof self=="object"&&self)||y(typeof g=="object"&&g)||Function("return this")()}).call(this,f("c8ba"))}),dbb4:(function(c,d,f){var g=f("23e7"),y=f("83ab"),b=f("56ef"),E=f("fc6a"),w=f("06cf"),C=f("8418");g({target:"Object",stat:!0,sham:!y},{getOwnPropertyDescriptors:function(D){for(var $=E(D),H=w.f,N=b($),L={},M=0,A,z;N.length>M;)z=H($,A=N[M++]),z!==void 0&&C(L,A,z);return L}})}),dbf1:(function(c,d,f){(function(g){f.d(d,"a",function(){return b});function y(){return typeof window<"u"?window.console:g.console}var b=y()}).call(this,f("c8ba"))}),ddb0:(function(c,d,f){var g=f("da84"),y=f("fdbc"),b=f("e260"),E=f("9112"),w=f("b622"),C=w("iterator"),T=w("toStringTag"),D=b.values;for(var $ in y){var H=g[$],N=H&&H.prototype;if(N){if(N[C]!==D)try{E(N,C,D)}catch{N[C]=D}if(N[T]||E(N,T,$),y[$]){for(var L in b)if(N[L]!==b[L])try{E(N,L,b[L])}catch{N[L]=b[L]}}}}}),df75:(function(c,d,f){var g=f("ca84"),y=f("7839");c.exports=Object.keys||function(E){return g(E,y)}}),e01a:(function(c,d,f){var g=f("23e7"),y=f("83ab"),b=f("da84"),E=f("5135"),w=f("861d"),C=f("9bf2").f,T=f("e893"),D=b.Symbol;if(y&&typeof D=="function"&&(!("description"in D.prototype)||D().description!==void 0)){var $={},H=function(){var Z=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),te=this instanceof H?new D(Z):Z===void 0?D():D(Z);return Z===""&&($[te]=!0),te};T(H,D);var N=H.prototype=D.prototype;N.constructor=H;var L=N.toString,M=String(D("test"))=="Symbol(test)",A=/^Symbol\((.*)\)[^)]+$/;C(N,"description",{configurable:!0,get:function(){var Z=w(this)?this.valueOf():this,te=L.call(Z);if(E($,Z))return"";var ee=M?te.slice(7,-1):te.replace(A,"$1");return ee===""?void 0:ee}}),g({global:!0,forced:!0},{Symbol:H})}}),e163:(function(c,d,f){var g=f("5135"),y=f("7b0b"),b=f("f772"),E=f("e177"),w=b("IE_PROTO"),C=Object.prototype;c.exports=E?Object.getPrototypeOf:function(T){return T=y(T),g(T,w)?T[w]:typeof T.constructor=="function"&&T instanceof T.constructor?T.constructor.prototype:T instanceof Object?C:null}}),e177:(function(c,d,f){var g=f("d039");c.exports=!g(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})}),e260:(function(c,d,f){var g=f("fc6a"),y=f("44d2"),b=f("3f8c"),E=f("69f3"),w=f("7dd0"),C="Array Iterator",T=E.set,D=E.getterFor(C);c.exports=w(Array,"Array",function($,H){T(this,{type:C,target:g($),index:0,kind:H})},function(){var $=D(this),H=$.target,N=$.kind,L=$.index++;return!H||L>=H.length?($.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:L,done:!1}:N=="values"?{value:H[L],done:!1}:{value:[L,H[L]],done:!1}},"values"),b.Arguments=b.Array,y("keys"),y("values"),y("entries")}),e439:(function(c,d,f){var g=f("23e7"),y=f("d039"),b=f("fc6a"),E=f("06cf").f,w=f("83ab"),C=y(function(){E(1)}),T=!w||C;g({target:"Object",stat:!0,forced:T,sham:!w},{getOwnPropertyDescriptor:function($,H){return E(b($),H)}})}),e538:(function(c,d,f){var g=f("b622");d.f=g}),e893:(function(c,d,f){var g=f("5135"),y=f("56ef"),b=f("06cf"),E=f("9bf2");c.exports=function(w,C){for(var T=y(C),D=E.f,$=b.f,H=0;H<T.length;H++){var N=T[H];g(w,N)||D(w,N,$(C,N))}}}),e8b5:(function(c,d,f){var g=f("c6b6");c.exports=Array.isArray||function(b){return g(b)=="Array"}}),e95a:(function(c,d,f){var g=f("b622"),y=f("3f8c"),b=g("iterator"),E=Array.prototype;c.exports=function(w){return w!==void 0&&(y.Array===w||E[b]===w)}}),f5df:(function(c,d,f){var g=f("00ee"),y=f("c6b6"),b=f("b622"),E=b("toStringTag"),w=y((function(){return arguments})())=="Arguments",C=function(T,D){try{return T[D]}catch{}};c.exports=g?y:function(T){var D,$,H;return T===void 0?"Undefined":T===null?"Null":typeof($=C(D=Object(T),E))=="string"?$:w?y(D):(H=y(D))=="Object"&&typeof D.callee=="function"?"Arguments":H}}),f772:(function(c,d,f){var g=f("5692"),y=f("90e3"),b=g("keys");c.exports=function(E){return b[E]||(b[E]=y(E))}}),fb15:(function(c,d,f){if(f.r(d),typeof window<"u"){var g=window.document.currentScript;{var y=f("8875");g=y(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:y})}var b=g&&g.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);b&&(f.p=b[1])}f("99af"),f("4de4"),f("4160"),f("c975"),f("d81d"),f("a434"),f("159b"),f("a4d3"),f("e439"),f("dbb4"),f("b64b");function E(de,me,ge){return me in de?Object.defineProperty(de,me,{value:ge,enumerable:!0,configurable:!0,writable:!0}):de[me]=ge,de}function w(de,me){var ge=Object.keys(de);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(de);me&&(Re=Re.filter(function(Je){return Object.getOwnPropertyDescriptor(de,Je).enumerable})),ge.push.apply(ge,Re)}return ge}function C(de){for(var me=1;me<arguments.length;me++){var ge=arguments[me]!=null?arguments[me]:{};me%2?w(Object(ge),!0).forEach(function(Re){E(de,Re,ge[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(ge)):w(Object(ge)).forEach(function(Re){Object.defineProperty(de,Re,Object.getOwnPropertyDescriptor(ge,Re))})}return de}function T(de){if(Array.isArray(de))return de}f("e01a"),f("d28b"),f("e260"),f("d3b7"),f("3ca3"),f("ddb0");function D(de,me){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(de)))){var ge=[],Re=!0,Je=!1,Ke=void 0;try{for(var kt=de[Symbol.iterator](),gt;!(Re=(gt=kt.next()).done)&&(ge.push(gt.value),!(me&&ge.length===me));Re=!0);}catch(We){Je=!0,Ke=We}finally{try{!Re&&kt.return!=null&&kt.return()}finally{if(Je)throw Ke}}return ge}}f("a630"),f("fb6a"),f("b0c0"),f("25f0");function $(de,me){(me==null||me>de.length)&&(me=de.length);for(var ge=0,Re=new Array(me);ge<me;ge++)Re[ge]=de[ge];return Re}function H(de,me){if(de){if(typeof de=="string")return $(de,me);var ge=Object.prototype.toString.call(de).slice(8,-1);if(ge==="Object"&&de.constructor&&(ge=de.constructor.name),ge==="Map"||ge==="Set")return Array.from(de);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return $(de,me)}}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(de,me){return T(de)||D(de,me)||H(de,me)||N()}function M(de){if(Array.isArray(de))return $(de)}function A(de){if(typeof Symbol<"u"&&Symbol.iterator in Object(de))return Array.from(de)}function z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(de){return M(de)||A(de)||H(de)||z()}var te=f("a352"),ee=f.n(te);function W(de){de.parentElement!==null&&de.parentElement.removeChild(de)}function Q(de,me,ge){var Re=ge===0?de.children[0]:de.children[ge-1].nextSibling;de.insertBefore(me,Re)}var oe=f("dbf1");f("13d5"),f("4fad"),f("ac1f"),f("5319");function re(de){var me=Object.create(null);return function(Re){var Je=me[Re];return Je||(me[Re]=de(Re))}}var J=/-(\w)/g,ce=re(function(de){return de.replace(J,function(me,ge){return ge.toUpperCase()})});f("5db7"),f("73d9");var ue=["Start","Add","Remove","Update","End"],le=["Choose","Unchoose","Sort","Filter","Clone"],ve=["Move"],fe=[ve,ue,le].flatMap(function(de){return de}).map(function(de){return"on".concat(de)}),pe={manage:ve,manageAndEmit:ue,emit:le};function Te(de){return fe.indexOf(de)!==-1}f("caad"),f("2ca0");var ot=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ye(de){return ot.includes(de)}function ie(de){return["transition-group","TransitionGroup"].includes(de)}function Xt(de){return["id","class","role","style"].includes(de)||de.startsWith("data-")||de.startsWith("aria-")||de.startsWith("on")}function Wt(de){return de.reduce(function(me,ge){var Re=L(ge,2),Je=Re[0],Ke=Re[1];return me[Je]=Ke,me},{})}function Kt(de){var me=de.$attrs,ge=de.componentData,Re=ge===void 0?{}:ge,Je=Wt(Object.entries(me).filter(function(Ke){var kt=L(Ke,2),gt=kt[0];return kt[1],Xt(gt)}));return C(C({},Je),Re)}function Se(de){var me=de.$attrs,ge=de.callBackBuilder,Re=Wt(ke(me));Object.entries(ge).forEach(function(Ke){var kt=L(Ke,2),gt=kt[0],We=kt[1];pe[gt].forEach(function(_t){Re["on".concat(_t)]=We(_t)})});var Je="[data-draggable]".concat(Re.draggable||"");return C(C({},Re),{},{draggable:Je})}function ke(de){return Object.entries(de).filter(function(me){var ge=L(me,2),Re=ge[0];return ge[1],!Xt(Re)}).map(function(me){var ge=L(me,2),Re=ge[0],Je=ge[1];return[ce(Re),Je]}).filter(function(me){var ge=L(me,2),Re=ge[0];return ge[1],!Te(Re)})}f("c740");function he(de,me){if(!(de instanceof me))throw new TypeError("Cannot call a class as a function")}function De(de,me){for(var ge=0;ge<me.length;ge++){var Re=me[ge];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(de,Re.key,Re)}}function at(de,me,ge){return me&&De(de.prototype,me),de}var St=function(me){var ge=me.el;return ge},X=function(me,ge){return me.__draggable_context=ge},q=function(me){return me.__draggable_context},be=(function(){function de(me){var ge=me.nodes,Re=ge.header,Je=ge.default,Ke=ge.footer,kt=me.root,gt=me.realList;he(this,de),this.defaultNodes=Je,this.children=[].concat(Z(Re),Z(Je),Z(Ke)),this.externalComponent=kt.externalComponent,this.rootTransition=kt.transition,this.tag=kt.tag,this.realList=gt}return at(de,[{key:"render",value:function(ge,Re){var Je=this.tag,Ke=this.children,kt=this._isRootComponent,gt=kt?{default:function(){return Ke}}:Ke;return ge(Je,Re,gt)}},{key:"updated",value:function(){var ge=this.defaultNodes,Re=this.realList;ge.forEach(function(Je,Ke){X(St(Je),{element:Re[Ke],index:Ke})})}},{key:"getUnderlyingVm",value:function(ge){return q(ge)}},{key:"getVmIndexFromDomIndex",value:function(ge,Re){var Je=this.defaultNodes,Ke=Je.length,kt=Re.children,gt=kt.item(ge);if(gt===null)return Ke;var We=q(gt);if(We)return We.index;if(Ke===0)return 0;var _t=St(Je[0]),ct=Z(kt).findIndex(function(Ne){return Ne===_t});return ge<ct?0:Ke}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),de})(),Ce=f("8bbf");function Ae(de,me){var ge=de[me];return ge?ge():[]}function $e(de){var me=de.$slots,ge=de.realList,Re=de.getKey,Je=ge||[],Ke=["header","footer"].map(function(Ne){return Ae(me,Ne)}),kt=L(Ke,2),gt=kt[0],We=kt[1],_t=me.item;if(!_t)throw new Error("draggable element must have an item slot");var ct=Je.flatMap(function(Ne,en){return _t({element:Ne,index:en}).map(function(rt){return rt.key=Re(Ne),rt.props=C(C({},rt.props||{}),{},{"data-draggable":!0}),rt})});if(ct.length!==Je.length)throw new Error("Item slot must have only one child");return{header:gt,footer:We,default:ct}}function Xe(de){var me=ie(de),ge=!Ye(de)&&!me;return{transition:me,externalComponent:ge,tag:ge?Object(Ce.resolveComponent)(de):me?Ce.TransitionGroup:de}}function Ue(de){var me=de.$slots,ge=de.tag,Re=de.realList,Je=de.getKey,Ke=$e({$slots:me,realList:Re,getKey:Je}),kt=Xe(ge);return new be({nodes:Ke,root:kt,realList:Re})}function ze(de,me){var ge=this;Object(Ce.nextTick)(function(){return ge.$emit(de.toLowerCase(),me)})}function Be(de){var me=this;return function(ge,Re){if(me.realList!==null)return me["onDrag".concat(de)](ge,Re)}}function pt(de){var me=this,ge=Be.call(this,de);return function(Re,Je){ge.call(me,Re,Je),ze.call(me,de,Re)}}var Qe=null,Ie={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(me){return me}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},yt=["update:modelValue","change"].concat(Z([].concat(Z(pe.manageAndEmit),Z(pe.emit)).map(function(de){return de.toLowerCase()}))),$t=Object(Ce.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ie,emits:yt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var me=this.$slots,ge=this.$attrs,Re=this.tag,Je=this.componentData,Ke=this.realList,kt=this.getKey,gt=Ue({$slots:me,tag:Re,realList:Ke,getKey:kt});this.componentStructure=gt;var We=Kt({$attrs:ge,componentData:Je});return gt.render(Ce.h,We)}catch(_t){return this.error=!0,Object(Ce.h)("pre",{style:{color:"red"}},_t.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&oe.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var me=this;if(!this.error){var ge=this.$attrs,Re=this.$el,Je=this.componentStructure;Je.updated();var Ke=Se({$attrs:ge,callBackBuilder:{manageAndEmit:function(We){return pt.call(me,We)},emit:function(We){return ze.bind(me,We)},manage:function(We){return Be.call(me,We)}}}),kt=Re.nodeType===1?Re:Re.parentElement;this._sortable=new ee.a(kt,Ke),this.targetDomElement=kt,kt.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var me=this.list;return me||this.modelValue},getKey:function(){var me=this.itemKey;return typeof me=="function"?me:function(ge){return ge[me]}}},watch:{$attrs:{handler:function(me){var ge=this._sortable;ge&&ke(me).forEach(function(Re){var Je=L(Re,2),Ke=Je[0],kt=Je[1];ge.option(Ke,kt)})},deep:!0}},methods:{getUnderlyingVm:function(me){return this.componentStructure.getUnderlyingVm(me)||null},getUnderlyingPotencialDraggableComponent:function(me){return me.__draggable_component__},emitChanges:function(me){var ge=this;Object(Ce.nextTick)(function(){return ge.$emit("change",me)})},alterList:function(me){if(this.list){me(this.list);return}var ge=Z(this.modelValue);me(ge),this.$emit("update:modelValue",ge)},spliceList:function(){var me=arguments,ge=function(Je){return Je.splice.apply(Je,Z(me))};this.alterList(ge)},updatePosition:function(me,ge){var Re=function(Ke){return Ke.splice(ge,0,Ke.splice(me,1)[0])};this.alterList(Re)},getRelatedContextFromMoveEvent:function(me){var ge=me.to,Re=me.related,Je=this.getUnderlyingPotencialDraggableComponent(ge);if(!Je)return{component:Je};var Ke=Je.realList,kt={list:Ke,component:Je};if(ge!==Re&&Ke){var gt=Je.getUnderlyingVm(Re)||{};return C(C({},gt),kt)}return kt},getVmIndexFromDomIndex:function(me){return this.componentStructure.getVmIndexFromDomIndex(me,this.targetDomElement)},onDragStart:function(me){this.context=this.getUnderlyingVm(me.item),me.item._underlying_vm_=this.clone(this.context.element),Qe=me.item},onDragAdd:function(me){var ge=me.item._underlying_vm_;if(ge!==void 0){W(me.item);var Re=this.getVmIndexFromDomIndex(me.newIndex);this.spliceList(Re,0,ge);var Je={element:ge,newIndex:Re};this.emitChanges({added:Je})}},onDragRemove:function(me){if(Q(this.$el,me.item,me.oldIndex),me.pullMode==="clone"){W(me.clone);return}var ge=this.context,Re=ge.index,Je=ge.element;this.spliceList(Re,1);var Ke={element:Je,oldIndex:Re};this.emitChanges({removed:Ke})},onDragUpdate:function(me){W(me.item),Q(me.from,me.item,me.oldIndex);var ge=this.context.index,Re=this.getVmIndexFromDomIndex(me.newIndex);this.updatePosition(ge,Re);var Je={element:this.context.element,oldIndex:ge,newIndex:Re};this.emitChanges({moved:Je})},computeFutureIndex:function(me,ge){if(!me.element)return 0;var Re=Z(ge.to.children).filter(function(gt){return gt.style.display!=="none"}),Je=Re.indexOf(ge.related),Ke=me.component.getVmIndexFromDomIndex(Je),kt=Re.indexOf(Qe)!==-1;return kt||!ge.willInsertAfter?Ke:Ke+1},onDragMove:function(me,ge){var Re=this.move,Je=this.realList;if(!Re||!Je)return!0;var Ke=this.getRelatedContextFromMoveEvent(me),kt=this.computeFutureIndex(Ke,me),gt=C(C({},this.context),{},{futureIndex:kt}),We=C(C({},me),{},{relatedContext:Ke,draggedContext:gt});return Re(We,ge)},onDragEnd:function(){Qe=null}}}),Nt=$t;d.default=Nt}),fb6a:(function(c,d,f){var g=f("23e7"),y=f("861d"),b=f("e8b5"),E=f("23cb"),w=f("50c4"),C=f("fc6a"),T=f("8418"),D=f("b622"),$=f("1dde"),H=f("ae40"),N=$("slice"),L=H("slice",{ACCESSORS:!0,0:0,1:2}),M=D("species"),A=[].slice,z=Math.max;g({target:"Array",proto:!0,forced:!N||!L},{slice:function(te,ee){var W=C(this),Q=w(W.length),oe=E(te,Q),re=E(ee===void 0?Q:ee,Q),J,ce,ue;if(b(W)&&(J=W.constructor,typeof J=="function"&&(J===Array||b(J.prototype))?J=void 0:y(J)&&(J=J[M],J===null&&(J=void 0)),J===Array||J===void 0))return A.call(W,oe,re);for(ce=new(J===void 0?Array:J)(z(re-oe,0)),ue=0;oe<re;oe++,ue++)oe in W&&T(ce,ue,W[oe]);return ce.length=ue,ce}})}),fc6a:(function(c,d,f){var g=f("44ad"),y=f("1d80");c.exports=function(b){return g(y(b))}}),fdbc:(function(c,d){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),fdbf:(function(c,d,f){var g=f("4930");c.exports=g&&!Symbol.sham&&typeof Symbol.iterator=="symbol"})}).default})})(wm)),wm.exports}var mK=hK();const gK=J5(mK),vK={class:"h-full flex flex-col md:flex-row overflow-hidden bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200"},yK={class:"w-full md:w-1/2 flex flex-col border-r border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 overflow-hidden"},bK={class:"p-4 border-b border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 z-10 shrink-0 shadow-sm"},xK={class:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 mb-4"},_K=["onClick"],EK={class:"grid grid-cols-2 gap-4"},wK={key:0},SK={class:"flex items-center bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md overflow-hidden focus-within:ring-2 focus-within:ring-indigo-100 dark:focus-within:ring-indigo-900"},CK={class:"flex items-center bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md overflow-hidden focus-within:ring-2 focus-within:ring-indigo-100 dark:focus-within:ring-indigo-900"},TK={class:"flex-1 overflow-y-auto p-4 space-y-6 bg-grid-pattern"},kK={key:0,class:"space-y-3"},AK={class:"text-[10px] uppercase font-bold text-indigo-900 dark:text-indigo-300 tracking-wider flex items-center gap-2"},RK={class:"relative pl-4 border-l-2 border-slate-200 dark:border-slate-700 space-y-3"},PK={class:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-3 shadow-sm group"},NK={class:"flex justify-between items-center mb-2"},OK={class:"text-[10px] font-bold text-indigo-500 uppercase"},MK=["onClick"],DK={class:"grid grid-cols-12 gap-2"},IK={class:"col-span-6"},LK=["onUpdate:modelValue"],$K={class:"col-span-3"},BK=["onUpdate:modelValue"],FK={class:"col-span-3 flex flex-col items-center"},jK=["onUpdate:modelValue"],VK={class:"space-y-3"},HK={class:"text-[10px] uppercase font-bold text-indigo-900 dark:text-indigo-300 tracking-wider flex items-center gap-2"},UK={class:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm transition-all group"},zK={class:"flex items-center h-10"},GK={class:"drag-handle w-8 h-full flex items-center justify-center text-slate-300 hover:text-indigo-500 cursor-grab active:cursor-grabbing border-r border-slate-100 dark:border-slate-700"},WK={class:"flex-1 flex gap-2 px-3 items-center"},KK=["onUpdate:modelValue","disabled"],XK=["onUpdate:modelValue"],YK=["onClick"],ZK=["onClick"],JK={key:0,class:"border-t border-slate-100 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-900/50 rounded-b-lg grid gap-3"},QK={class:"flex justify-between items-center"},qK={class:"flex rounded-md border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 p-0.5"},eX=["onClick"],tX=["onClick"],nX=["onClick"],rX={class:"flex gap-1"},iX=["onClick"],oX=["onClick"],aX=["onClick"],sX=["onClick"],lX={class:"border-t border-slate-200 dark:border-slate-700 pt-2 flex flex-wrap gap-2"},cX=["onClick"],uX=["onClick"],fX=["onClick"],dX=["onClick"],pX=["onClick"],hX=["onClick"],mX={class:"w-full md:w-1/3 flex flex-col relative border-l border-slate-200 dark:border-slate-800 shadow-2xl z-20"},gX=Vn({__name:"TableBuilder",setup(t){const r=tt(2),i=tt("vListOfObjects"),s=tt("vTable"),c=tt([{id:"1",header:"Name",prop:"name",align:"left",styles:[],format:""},{id:"2",header:"Description",prop:"description",align:"left",styles:[],format:""},{id:"3",header:"ID",prop:"id",align:"left",styles:[],format:""}]),d=tt([]),f=()=>crypto.randomUUID(),g=N=>{r.value=N,N===4&&d.value.length===0&&E()},y=()=>{c.value.push({id:f(),header:"New Column",prop:"property",align:"left",styles:[],format:""})},b=N=>{c.value.splice(N,1)},E=()=>{const N=d.value.length;N===0?d.value.push({id:f(),source:"vList",indent:0,collapse:!1}):d.value.push({id:f(),source:`item_${N}.children`,indent:N,collapse:!1})},w=N=>{d.value.splice(N,1)},C=(N,L)=>{N.styles.includes(L)?N.styles=N.styles.filter(M=>M!==L):N.styles.push(L)},T=N=>N?N.replace(/"/g,'\\"'):"",D=Mn(()=>{let N=`// Table created by CTools
`;return r.value===3||r.value===4?(N+=`${s.value} := createTable()
`,c.value.forEach(L=>{N+=`${s.value}.addColumn("${T(L.header)}", "")`,N+=$(L),N+=`
`})):(N+=`${s.value} := ${i.value}.table()
`,c.value.forEach(L=>{r.value===1?N+=`${s.value}.addColumn(${L.prop})`:N+=`${s.value}.addColumn("${T(L.header)}", ${L.prop})`,N+=$(L),N+=`
`})),r.value===3?(N+=`
// --- Population ---
`,N+=`${i.value}.foreach(item:
`,N+=`    ${s.value}.addRow(item, ${c.value.map(L=>"item."+L.prop).join(", ")})
`,N+=`)
`):r.value===4&&(N+=`
// --- Hierarchy Population ---
`,N+=H(0)),N+=`
${s.value}`,N}),$=N=>{let L="";N.align&&N.align!=="left"&&(L+=`.align(${N.align.toUpperCase()})`);let M=[],A=[];return N.styles.forEach(z=>{z==="hidden"?A.push(".hidden()"):z==="readonly"?A.push(".readonly()"):z==="separator"?M.push("'separator'"):z==="wrapped"?M.push("'wrapped'"):M.push(`'${z}'`)}),M.length>0&&(L+=`.style(${M.join(", ")})`),N.format&&(L+=`.${N.format}`),A.length>0&&(L+=A.join("")),L},H=N=>{if(N>=d.value.length)return"";const L=d.value[N],M=N===0?"item":`item_${N+1}`,A="    ".repeat(N);let z=`${A}${L?L.source:""}.foreach(${M}:
`;const Z=c.value.map(te=>/^[a-zA-Z0-9_]+$/.test(te.prop)?`${M}.${te.prop}`:te.prop).join(", ");return z+=`${A}    ${s.value}.addRow(${M}, ${Z})`,L&&L.indent>0&&(z+=`.indent(${L.indent})`),L&&L.collapse&&(z+=".collapse()"),z+=`
`,z+=H(N+1),z+=`${A})
`,z};return(N,L)=>(Le(),Ge("div",vK,[G("div",yK,[G("div",bK,[G("div",xK,[(Le(),Ge(rn,null,Cr([1,2,3,4],M=>G("button",{key:M,onClick:A=>g(M),class:Tt([r.value===M?"bg-white dark:bg-slate-600 shadow-sm text-indigo-600 dark:text-indigo-300 font-bold":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300","flex-1 py-1.5 text-[10px] uppercase tracking-wider rounded transition-all"])},pn(M===1?"Simple":M===2?"Headers":M===3?"Manual":"Hierarchy"),11,_K)),64))]),G("div",EK,[r.value!==4?(Le(),Ge("div",wK,[L[4]||(L[4]=G("label",{class:"text-[10px] uppercase font-bold text-slate-400 block mb-1"},"Source List",-1)),G("div",SK,[L[3]||(L[3]=G("span",{class:"pl-2 text-[10px] font-mono font-medium text-indigo-400"},":=",-1)),tn(G("input",{"onUpdate:modelValue":L[0]||(L[0]=M=>i.value=M),class:"w-full bg-transparent border-none text-xs font-mono font-medium px-2 py-1.5 focus:outline-none"},null,512),[[ln,i.value]])])])):cn("",!0),G("div",null,[L[6]||(L[6]=G("label",{class:"text-[10px] uppercase font-bold text-slate-400 block mb-1"},"Output Variable",-1)),G("div",CK,[L[5]||(L[5]=G("span",{class:"pl-2 text-[10px] font-mono font-medium text-indigo-400"},":=",-1)),tn(G("input",{"onUpdate:modelValue":L[1]||(L[1]=M=>s.value=M),class:"w-full bg-transparent border-none text-xs font-mono font-medium px-2 py-1.5 focus:outline-none"},null,512),[[ln,s.value]])])])])]),G("div",TK,[r.value===4?(Le(),Ge("div",kK,[G("label",AK,[we(He(A$),{class:"w-3 h-3"}),L[7]||(L[7]=Ut(" Hierarchy Levels ",-1))]),G("div",RK,[(Le(!0),Ge(rn,null,Cr(d.value,(M,A)=>(Le(),Ge("div",{key:M.id,class:"relative"},[L[11]||(L[11]=G("div",{class:"absolute -left-[21px] top-3 w-3 h-3 rounded-full bg-slate-100 dark:bg-slate-800 border-2 border-indigo-400"},null,-1)),G("div",PK,[G("div",NK,[G("span",OK,pn(A===0?"Root Level":`Nested Level ${A}`),1),A>0?(Le(),Ge("button",{key:0,onClick:z=>w(A),class:"text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity"},[we(He(Al),{class:"w-3 h-3"})],8,MK)):cn("",!0)]),G("div",DK,[G("div",IK,[L[8]||(L[8]=G("label",{class:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5"},"Source",-1)),tn(G("input",{"onUpdate:modelValue":z=>M.source=z,class:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded px-1.5 py-1 text-[10px] font-mono"},null,8,LK),[[ln,M.source]])]),G("div",$K,[L[9]||(L[9]=G("label",{class:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5"},"Indent",-1)),tn(G("input",{type:"number","onUpdate:modelValue":z=>M.indent=z,class:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded px-1.5 py-1 text-[10px] font-bold text-center"},null,8,BK),[[ln,M.indent]])]),G("div",FK,[L[10]||(L[10]=G("label",{class:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5"},"Collapse",-1)),tn(G("input",{type:"checkbox","onUpdate:modelValue":z=>M.collapse=z,class:"rounded text-indigo-500 focus:ring-indigo-500"},null,8,jK),[[Ng,M.collapse]])])])])]))),128)),G("button",{onClick:E,class:"w-full py-2 border-2 border-dashed border-slate-200 dark:border-slate-700 hover:border-indigo-400 hover:bg-slate-50 dark:hover:bg-slate-900/50 rounded-lg text-slate-400 hover:text-indigo-500 text-xs font-bold transition-all flex items-center justify-center gap-2"},[we(He(kl),{class:"w-3 h-3"}),L[12]||(L[12]=Ut(" Add Nested Level ",-1))])])])):cn("",!0),G("div",VK,[G("label",HK,[we(He(f1),{class:"w-3 h-3"}),L[13]||(L[13]=Ut(" Table Columns ",-1))]),we(He(gK),{modelValue:c.value,"onUpdate:modelValue":L[2]||(L[2]=M=>c.value=M),"item-key":"id",handle:".drag-handle",class:"space-y-2",animation:200},{item:Qt(({element:M})=>[G("div",UK,[G("div",zK,[G("div",GK,[we(He(S$),{class:"w-3 h-3"})]),G("div",WK,[tn(G("input",{"onUpdate:modelValue":A=>M.header=A,disabled:r.value===1,class:"flex-1 bg-transparent border-none text-xs font-bold text-slate-700 dark:text-slate-200 placeholder-slate-300 focus:outline-none",placeholder:"Header Name"},null,8,KK),[[ln,M.header]]),L[14]||(L[14]=G("span",{class:"text-[px] font-mono text-slate-300"},"::",-1)),tn(G("input",{"onUpdate:modelValue":A=>M.prop=A,class:"flex-1 bg-transparent border-none text-xs font-mono text-indigo-600 dark:text-indigo-400 placeholder-slate-300 focus:outline-none text-right",placeholder:"prop"},null,8,XK),[[ln,M.prop]])]),G("button",{onClick:A=>M.showSettings=!M.showSettings,class:Tt([M.showSettings?"text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"text-slate-300 hover:text-indigo-500","w-8 h-full flex items-center justify-center border-l border-slate-100 dark:border-slate-700 transition-colors"])},[we(He(B$),{class:"w-3 h-3"})],10,YK),G("button",{onClick:A=>b(c.value.indexOf(M)),class:"w-8 h-full flex items-center justify-center text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 border-l border-slate-100 dark:border-slate-700 transition-colors"},[we(He(Al),{class:"w-3 h-3"})],8,ZK)]),M.showSettings?(Le(),Ge("div",JK,[G("div",QK,[G("div",qK,[G("button",{onClick:A=>M.align="left",class:Tt([M.align==="left"?"bg-slate-100 dark:bg-slate-700 text-indigo-500":"text-slate-400","p-1 rounded"])},[we(He(H$),{class:"w-3 h-3"})],10,eX),G("button",{onClick:A=>M.align="center",class:Tt([M.align==="center"?"bg-slate-100 dark:bg-slate-700 text-indigo-500":"text-slate-400","p-1 rounded"])},[we(He(j$),{class:"w-3 h-3"})],10,tX),G("button",{onClick:A=>M.align="right",class:Tt([M.align==="right"?"bg-slate-100 dark:bg-slate-700 text-indigo-500":"text-slate-400","p-1 rounded"])},[we(He(V$),{class:"w-3 h-3"})],10,nX)]),G("div",rX,[G("button",{onClick:A=>C(M,"separator"),class:Tt([M.styles.includes("separator")?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600":"bg-white dark:bg-slate-800 text-slate-400","px-2 py-1 rounded text-[10px] font-bold border border-slate-200 dark:border-slate-600"])},"|",10,iX),G("button",{onClick:A=>C(M,"hidden"),class:Tt([M.styles.includes("hidden")?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600":"bg-white dark:bg-slate-800 text-slate-400","p-1 rounded border border-slate-200 dark:border-slate-600"])},[we(He(x$),{class:"w-3 h-3"})],10,oX),G("button",{onClick:A=>C(M,"wrapped"),class:Tt([M.styles.includes("wrapped")?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600":"bg-white dark:bg-slate-800 text-slate-400","p-1 rounded border border-slate-200 dark:border-slate-600"])},[we(He(U$),{class:"w-3 h-3"})],10,aX),G("button",{onClick:A=>C(M,"readonly"),class:Tt([M.styles.includes("readonly")?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600":"bg-white dark:bg-slate-800 text-slate-400","p-1 rounded border border-slate-200 dark:border-slate-600"])},[we(He(P$),{class:"w-3 h-3"})],10,sX)])]),G("div",lX,[G("button",{onClick:A=>M.format="",class:Tt([M.format===""?"bg-indigo-50 dark:bg-indigo-900 text-indigo-600 ring-1 ring-indigo-200":"bg-white dark:bg-slate-800 text-slate-400 border border-slate-200","px-2 py-1 rounded text-[10px] font-bold"])},"Text",10,cX),G("button",{onClick:A=>M.format="decimals(0)",class:Tt([M.format==="decimals(0)"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-600 ring-1 ring-indigo-200":"bg-white dark:bg-slate-800 text-slate-400 border border-slate-200","px-2 py-1 rounded text-[10px] font-bold"])},"123",10,uX),G("button",{onClick:A=>M.format="decimals(2)",class:Tt([M.format==="decimals(2)"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-600 ring-1 ring-indigo-200":"bg-white dark:bg-slate-800 text-slate-400 border border-slate-200","px-2 py-1 rounded text-[10px] font-bold"])},".00",10,fX),G("button",{onClick:A=>M.format="formatType(PERCENTAGE)",class:Tt([M.format==="formatType(PERCENTAGE)"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-600 ring-1 ring-indigo-200":"bg-white dark:bg-slate-800 text-slate-400 border border-slate-200","px-2 py-1 rounded text-[10px] font-bold"])},"%",10,dX),G("button",{onClick:A=>M.format="formatType(DATE)",class:Tt([M.format==="formatType(DATE)"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-600 ring-1 ring-indigo-200":"bg-white dark:bg-slate-800 text-slate-400 border border-slate-200","px-2 py-1 rounded text-[10px] font-bold"])},"Date",10,pX),G("button",{onClick:A=>M.format="formatType(THOUSANDS).postfix(' ')",class:Tt([M.format.includes("postfix")?"bg-indigo-50 dark:bg-indigo-900 text-indigo-600 ring-1 ring-indigo-200":"bg-white dark:bg-slate-800 text-slate-400 border border-slate-200","px-2 py-1 rounded text-[10px] font-bold"])},"",10,hX)])])):cn("",!0)])]),_:1},8,["modelValue"]),G("button",{onClick:y,class:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 font-bold text-sm"},[we(He(kl),{class:"w-4 h-4"}),L[15]||(L[15]=Ut(" Add Column ",-1))])])])]),G("div",mX,[we(Hd,{title:"Generated Code",code:D.value},null,8,["code"])])]))}}),vX={class:"w-full h-full flex flex-col bg-slate-50 dark:bg-slate-950"},yX=Vn({__name:"CdrawTool",setup(t){return(r,i)=>(Le(),Ge("div",vX,[...i[0]||(i[0]=[G("iframe",{src:"/cdraw/",class:"w-full h-full border-0",title:"Cdraw Visual IDE"},null,-1)])]))}}),bX={class:"h-full overflow-y-auto p-8 bg-slate-50 dark:bg-slate-950"},xX={class:"max-w-5xl mx-auto"},_X={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},EX=["onClick"],wX={class:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-2 group-hover:text-slate-900 dark:group-hover:text-white transition-colors"},SX={class:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed"},CX=Vn({__name:"Dashboard",setup(t){const r=o9(),i=[{id:"colorset",name:"Colorset Builder",description:"Create and manage color palettes, generate variations, and export as Corporater scripts.",path:"/colorset",icon:Dg,color:"text-pink-500",bg:"bg-pink-50 dark:bg-pink-900/20",border:"hover:border-pink-300 dark:hover:border-pink-700"},{id:"layout",name:"Layout Builder",description:"Design complex layouts with tab sets, rows, and columns. Visual editor with script export.",path:"/layout",icon:u1,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",border:"hover:border-blue-300 dark:hover:border-blue-700"},{id:"process",name:"Process Tool",description:"BPMN modeling tool. Create process diagrams with Corporater-specific extensions.",path:"/process",icon:k5,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"hover:border-emerald-300 dark:hover:border-emerald-700"},{id:"table",name:"Table Builder",description:"Configure Extended Tables with headers, properties, and formatting options.",path:"/table",icon:f1,color:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-900/20",border:"hover:border-orange-300 dark:hover:border-orange-700"},{id:"image",name:"Image Upload",description:"Convert images to Gzip+Base64 scripts for embedding in Corporater. Supports drag & drop.",path:"/image",icon:Mg,color:"text-violet-500",bg:"bg-violet-50 dark:bg-violet-900/20",border:"hover:border-violet-300 dark:hover:border-violet-700"},{id:"tuner",name:"SVG Tuner",description:"Clean, resize, and optimize SVG files. Fix colors and backgrounds for dashboard usage.",icon:d1,color:"text-teal-500",bg:"bg-teal-50 dark:bg-teal-900/20",border:"hover:border-teal-300 dark:hover:border-teal-700"},{id:"cdraw",name:"cDraw",description:"Local-first Diagramming and Modelling tool. Create GRC models with smart connectors.",path:"/cdraw",icon:M5,color:"text-sky-500",bg:"bg-sky-50 dark:bg-sky-900/20",border:"hover:border-sky-300 dark:hover:border-sky-700"}],s=c=>{c&&r.push(c)};return(c,d)=>(Le(),Ge("div",bX,[G("div",xX,[d[0]||(d[0]=G("header",{class:"mb-10"},[G("h1",{class:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight mb-2"},"CTools Suite"),G("p",{class:"text-lg text-slate-500 dark:text-slate-400"},"Select a tool to get started.")],-1)),G("div",_X,[(Le(),Ge(rn,null,Cr(i,f=>G("div",{key:f.id,onClick:g=>s(f.path),class:Tt(["group cursor-pointer bg-white dark:bg-slate-900 rounded-2xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1 block",f.border])},[G("div",{class:Tt(["w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-transform group-hover:scale-110 duration-300",f.bg])},[(Le(),Gn(As(f.icon),{class:Tt(["w-6 h-6",f.color])},null,8,["class"]))],2),G("h3",wX,pn(f.name),1),G("p",SX,pn(f.description),1)],10,EX)),64))])])]))}}),TX=i9({history:LB(),routes:[{path:"/",component:k9,children:[{path:"",component:CX},{path:"colorset",component:ez},{path:"layout",component:Mz},{path:"process",component:aH},{path:"table",component:gX},{path:"image",component:AH},{path:"tuner",component:fF},{path:"cdraw",component:yX},{path:"/:pathMatch(.*)*",redirect:"/"}]}]}),a_=Ym(J$);a_.use(t$());a_.use(TX);a_.mount("#app");
